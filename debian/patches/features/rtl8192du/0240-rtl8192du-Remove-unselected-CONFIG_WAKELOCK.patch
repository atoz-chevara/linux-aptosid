From 172eb6ce4b1faa0e3a0575a0195275213f5fbb78 Mon Sep 17 00:00:00 2001
From: Larry Finger <Larry.Finger@lwfinger.net>
Date: Thu, 20 Feb 2014 16:52:08 -0600
Subject: [PATCH 240/390] rtl8192du: Remove unselected CONFIG_WAKELOCK

Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>
---
 include/osdep_service.h |  3 ---
 os_dep/osdep_service.c  | 16 ----------------
 2 files changed, 19 deletions(-)

--- a/drivers/staging/rtl8192du/include/osdep_service.h
+++ b/drivers/staging/rtl8192du/include/osdep_service.h
@@ -323,9 +323,6 @@ static inline u32 bitshift(u32 bitmask)
 	#define PATH_LENGTH_MAX PATH_MAX
 
 /*  Suspend lock prevent system from going suspend */
-#ifdef CONFIG_WAKELOCK
-#include <linux/wakelock.h>
-#endif
 
 void rtw_suspend_lock_init(void);
 void rtw_suspend_lock_uninit(void);
--- a/drivers/staging/rtl8192du/os_dep/osdep_service.c
+++ b/drivers/staging/rtl8192du/os_dep/osdep_service.c
@@ -237,36 +237,20 @@ void rtw_yield_os(void)
 
 #define RTW_SUSPEND_LOCK_NAME "rtw_wifi"
 
-#ifdef CONFIG_WAKELOCK
-static struct wake_lock rtw_suspend_lock;
-#endif
-
 inline void rtw_suspend_lock_init(void)
 {
-	#ifdef CONFIG_WAKELOCK
-	wake_lock_init(&rtw_suspend_lock, WAKE_LOCK_SUSPEND, RTW_SUSPEND_LOCK_NAME);
-	#endif
 }
 
 inline void rtw_suspend_lock_uninit(void)
 {
-	#ifdef CONFIG_WAKELOCK
-	wake_lock_destroy(&rtw_suspend_lock);
-	#endif
 }
 
 inline void rtw_lock_suspend(void)
 {
-	#ifdef CONFIG_WAKELOCK
-	wake_lock(&rtw_suspend_lock);
-	#endif
 }
 
 inline void rtw_unlock_suspend(void)
 {
-	#ifdef CONFIG_WAKELOCK
-	wake_unlock(&rtw_suspend_lock);
-	#endif
 }
 
 struct net_device *rtw_alloc_etherdev_with_old_priv(int sizeof_priv, void *old_priv)
