From 29eb05f4b029787425e904937d42a4ad5bc64e88 Mon Sep 17 00:00:00 2001
From: Larry Finger <Larry.Finger@lwfinger.net>
Date: Sun, 28 Apr 2013 17:12:57 -0500
Subject: [PATCH 084/390] Remove miscellaneous simple typedef statements

Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>
---
 core/rtw_cmd.c          |  2 +-
 include/osdep_service.h | 17 ++++-------------
 include/rtw_cmd.h       |  4 ++--
 include/rtw_led.h       |  2 +-
 include/rtw_pwrctrl.h   |  2 +-
 include/rtw_xmit.h      |  2 +-
 6 files changed, 10 insertions(+), 19 deletions(-)

--- a/drivers/staging/rtl8192du/core/rtw_cmd.c
+++ b/drivers/staging/rtl8192du/core/rtw_cmd.c
@@ -378,7 +378,7 @@ _func_enter_;
 _func_exit_;
 }
 
-thread_return rtw_cmd_thread(thread_context context)
+int rtw_cmd_thread(void *context)
 {
 	u8 ret;
 	struct cmd_obj *pcmd;
--- a/drivers/staging/rtl8192du/include/osdep_service.h
+++ b/drivers/staging/rtl8192du/include/osdep_service.h
@@ -99,17 +99,8 @@
 		spinlock_t	lock;
 	};
 
-	typedef	int	_OS_STATUS;
-
-	typedef int		thread_return;
-	typedef void*	thread_context;
-
 	#define thread_exit() complete_and_exit(NULL, 0)
 
-	typedef void timer_hdl_return;
-	typedef void* timer_hdl_context;
-	typedef struct work_struct _workitem;
-
 #if (LINUX_VERSION_CODE < KERNEL_VERSION(2,6,24))
 	#define DMA_BIT_MASK(n) (((n) == 64) ? ~0ULL : ((1ULL<<(n))-1))
 #endif
@@ -199,7 +190,7 @@ static inline void _cancel_timer(struct
 #define RTW_DECLARE_TIMER_HDL(name) void RTW_TIMER_HDL_NAME(name)(RTW_TIMER_HDL_ARGS)
 
 
-static inline void _init_workitem(_workitem *pwork, void *pfunc, void * cntx)
+static inline void _init_workitem(struct work_struct *pwork, void *pfunc, void * cntx)
 {
 #if (LINUX_VERSION_CODE >= KERNEL_VERSION(2,6,20))
 	INIT_WORK(pwork, pfunc);
@@ -208,12 +199,12 @@ static inline void _init_workitem(_worki
 #endif
 }
 
-static inline void _set_workitem(_workitem *pwork)
+static inline void _set_workitem(struct work_struct *pwork)
 {
 	schedule_work(pwork);
 }
 
-static inline void _cancel_workitem_sync(_workitem *pwork)
+static inline void _cancel_workitem_sync(struct work_struct *pwork)
 {
 #if (LINUX_VERSION_CODE>=KERNEL_VERSION(2,6,22))
 	cancel_work_sync(pwork);
@@ -422,7 +413,7 @@ static inline void flush_signals_thread(
 		flush_signals(current);
 }
 
-static inline _OS_STATUS res_to_status(int res)
+static inline int res_to_status(int res)
 {
 	return res;
 }
--- a/drivers/staging/rtl8192du/include/rtw_cmd.h
+++ b/drivers/staging/rtl8192du/include/rtw_cmd.h
@@ -85,7 +85,7 @@
 
 //#define CONFIG_C2H_WK
 #ifdef CONFIG_C2H_WK
-		_workitem c2h_wk;
+		struct work_struct c2h_wk;
 		bool c2h_wk_alive;
 		struct rtw_cbuf *c2h_queue;
 		#define C2H_QUEUE_MAX_LEN 10
@@ -132,7 +132,7 @@ extern struct evt_obj *rtw_dequeue_evt(s
 extern void rtw_free_evt_obj(struct evt_obj *pcmd);
 #endif
 
-thread_return rtw_cmd_thread(thread_context context);
+int rtw_cmd_thread(void *context);
 
 extern u32 rtw_init_cmd_priv (struct cmd_priv *pcmdpriv);
 extern void rtw_free_cmd_priv (struct cmd_priv *pcmdpriv);
--- a/drivers/staging/rtl8192du/include/rtw_led.h
+++ b/drivers/staging/rtl8192du/include/rtw_led.h
@@ -97,7 +97,7 @@ struct LED_871X {
 
 	struct timer_list		BlinkTimer; // Timer object for led blinking.
 #if LINUX_VERSION_CODE > KERNEL_VERSION(2,5,0)
-	_workitem			BlinkWorkItem; // Workitem used by BlinkTimer to manipulate H/W to blink LED.
+	struct work_struct BlinkWorkItem; // Workitem used by BlinkTimer to manipulate H/W to blink LED.
 #endif
 };
 
--- a/drivers/staging/rtl8192du/include/rtw_pwrctrl.h
+++ b/drivers/staging/rtl8192du/include/rtw_pwrctrl.h
@@ -245,7 +245,7 @@ struct pwrctrl_priv
 
 	#ifdef CONFIG_RESUME_IN_WORKQUEUE
 	struct workqueue_struct *rtw_workqueue;
-	_workitem resume_work;
+	struct work_struct resume_work;
 	#endif
 
 	#ifdef CONFIG_HAS_EARLYSUSPEND
--- a/drivers/staging/rtl8192du/include/rtw_xmit.h
+++ b/drivers/staging/rtl8192du/include/rtw_xmit.h
@@ -434,7 +434,7 @@ extern s32 rtw_xmitframe_enqueue(_adapte
 extern struct xmit_frame* rtw_dequeue_xframe(struct xmit_priv *pxmitpriv, struct hw_xmit *phwxmit_i, int entry);
 
 extern s32 rtw_xmit_classifier(_adapter *padapter, struct xmit_frame *pxmitframe);
-extern thread_return rtw_xmit_thread(thread_context context);
+extern int rtw_xmit_thread(void *context);
 extern u32 rtw_calculate_wlan_pkt_size_by_attribue(struct pkt_attrib *pattrib);
 #define rtw_wlan_pkt_size(f) rtw_calculate_wlan_pkt_size_by_attribue(&f->attrib)
 extern s32 rtw_xmitframe_coalesce(_adapter *padapter, struct sk_buff *pkt, struct xmit_frame *pxmitframe);
