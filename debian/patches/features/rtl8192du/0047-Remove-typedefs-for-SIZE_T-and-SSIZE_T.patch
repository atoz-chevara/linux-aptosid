From 443320530c4264269cc80f9aeafa6870f9dd1e5e Mon Sep 17 00:00:00 2001
From: Larry Finger <Larry.Finger@lwfinger.net>
Date: Sat, 20 Apr 2013 14:06:08 -0500
Subject: [PATCH 047/390] Remove typedefs for SIZE_T and SSIZE_T

Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>
---
 include/basic_types.h   | 14 +++++---------
 include/osdep_service.h |  2 +-
 include/xmit_osdep.h    |  4 ++--
 3 files changed, 8 insertions(+), 12 deletions(-)

--- a/drivers/staging/rtl8192du/include/basic_types.h
+++ b/drivers/staging/rtl8192du/include/basic_types.h
@@ -28,17 +28,13 @@
 
 #include <linux/types.h>
 
-typedef void (*proc_t)(void*);
+#define FIELD_OFFSET(s,field)	((__kernel_ssize_t)&((s*)(0))->field)
 
-typedef		__kernel_size_t	SIZE_T;
-typedef	__kernel_ssize_t	SSIZE_T;
-#define FIELD_OFFSET(s,field)	((SSIZE_T)&((s*)(0))->field)
+#define MEM_ALIGNMENT_OFFSET	(sizeof (__kernel_size_t))
+#define MEM_ALIGNMENT_PADDING	(sizeof(__kernel_size_t) - 1)
 
-#define MEM_ALIGNMENT_OFFSET	(sizeof (SIZE_T))
-#define MEM_ALIGNMENT_PADDING	(sizeof(SIZE_T) - 1)
-
-#define SIZE_PTR SIZE_T
-#define SSIZE_PTR SSIZE_T
+#define SIZE_PTR __kernel_size_t
+#define SSIZE_PTR __kernel_ssize_t
 
 //port from fw by thomas
 // TODO: Belows are Sync from SD7-Driver. It is necessary to check correctness
--- a/drivers/staging/rtl8192du/include/osdep_service.h
+++ b/drivers/staging/rtl8192du/include/osdep_service.h
@@ -164,7 +164,7 @@ static inline _list	*get_list_head(_queu
 
 
 #define LIST_CONTAINOR(ptr, type, member) \
-        ((type *)((char *)(ptr)-(SIZE_T)(&((type *)0)->member)))
+        ((type *)((char *)(ptr)-(__kernel_size_t)(&((type *)0)->member)))
 
 
 static inline void _enter_critical(_lock *plock, _irqL *pirqL)
--- a/drivers/staging/rtl8192du/include/xmit_osdep.h
+++ b/drivers/staging/rtl8192du/include/xmit_osdep.h
@@ -26,11 +26,11 @@
 
 struct pkt_file {
 	_pkt *pkt;
-	SIZE_T pkt_len;	 //the remainder length of the open_file
+	__kernel_size_t pkt_len;	 //the remainder length of the open_file
 	_buffer *cur_buffer;
 	u8 *buf_start;
 	u8 *cur_addr;
-	SIZE_T buf_len;
+	__kernel_size_t buf_len;
 };
 
 #define NR_XMITFRAME	256
