From fdddbe4c22ed44af4955521cb9debb031a47533c Mon Sep 17 00:00:00 2001
From: Stefan Lippers-Hollmann <s.l-h@gmx.de>
Date: Sat, 22 Mar 2014 03:02:58 +0100
Subject: [PATCH 400/456] rtl8192du: avoid pointless forward declarations in
 os_dep/usb_intf.c

Signed-off-by: Stefan Lippers-Hollmann <s.l-h@gmx.de>
---
 os_dep/usb_intf.c | 59 ++++++++++++++++++++++++-------------------------------
 1 file changed, 26 insertions(+), 33 deletions(-)

--- a/drivers/staging/rtl8192du/os_dep/usb_intf.c
+++ b/drivers/staging/rtl8192du/os_dep/usb_intf.c
@@ -26,13 +26,6 @@
 #include <usb_osintf.h>
 #include <linux/vmalloc.h>
 
-static int rtw_suspend(struct usb_interface *intf, pm_message_t message);
-static int rtw_resume(struct usb_interface *intf);
-int rtw_resume_process(struct rtw_adapter *padapter);
-
-static int rtw_drv_init(struct usb_interface *pusb_intf,const struct usb_device_id *pdid);
-static void rtw_dev_remove(struct usb_interface *pusb_intf);
-
 static struct usb_device_id rtl8192d_usb_id_tbl[] = {
 	/* Realtek */
 	/* 8192DU */
@@ -70,16 +63,6 @@ static struct specific_device_id specifi
 	{}
 };
 
-static struct usb_driver rtl8192d_usb_drv = {
-	.name		= "rtl8192du",
-	.probe		= rtw_drv_init,
-	.disconnect	= rtw_dev_remove,
-	.id_table	= rtl8192d_usb_id_tbl,
-	.suspend	= rtw_suspend,
-	.resume		= rtw_resume,
-	.reset_resume	= rtw_resume,
-};
-
 static inline int RT_usb_endpoint_dir_in(const struct usb_endpoint_descriptor *epd)
 {
 	return ((epd->bEndpointAddress & USB_ENDPOINT_DIR_MASK) == USB_DIR_IN);
@@ -463,22 +446,6 @@ exit:
 	return ret;
 }
 
-static int rtw_resume(struct usb_interface *pusb_intf)
-{
-	struct dvobj_priv *dvobj = usb_get_intfdata(pusb_intf);
-	struct rtw_adapter *padapter = dvobj->if1;
-	struct net_device *pnetdev = padapter->pnetdev;
-	struct pwrctrl_priv *pwrpriv = &padapter->pwrctrlpriv;
-	 int ret = 0;
-
-	if (pwrpriv->bInternalAutoSuspend)
-		ret = rtw_resume_process(padapter);
-	else
-		ret = rtw_resume_process(padapter);
-
-	return ret;
-}
-
 int rtw_resume_process(struct rtw_adapter *padapter)
 {
 	struct net_device *pnetdev;
@@ -523,6 +490,22 @@ exit:
 	return ret;
 }
 
+static int rtw_resume(struct usb_interface *pusb_intf)
+{
+	struct dvobj_priv *dvobj = usb_get_intfdata(pusb_intf);
+	struct rtw_adapter *padapter = dvobj->if1;
+	struct net_device *pnetdev = padapter->pnetdev;
+	struct pwrctrl_priv *pwrpriv = &padapter->pwrctrlpriv;
+	 int ret = 0;
+
+	if (pwrpriv->bInternalAutoSuspend)
+		ret = rtw_resume_process(padapter);
+	else
+		ret = rtw_resume_process(padapter);
+
+	return ret;
+}
+
 static struct rtw_adapter *rtw_usb_if1_init(struct dvobj_priv *dvobj,
 					    struct usb_interface *pusb_intf,
 					    const struct usb_device_id *pdid)
@@ -775,4 +758,14 @@ static void rtw_dev_remove(struct usb_in
 	return;
 }
 
+static struct usb_driver rtl8192d_usb_drv = {
+	.name		= "rtl8192du",
+	.probe		= rtw_drv_init,
+	.disconnect	= rtw_dev_remove,
+	.id_table	= rtl8192d_usb_id_tbl,
+	.suspend	= rtw_suspend,
+	.resume		= rtw_resume,
+	.reset_resume	= rtw_resume,
+};
+
 module_usb_driver(rtl8192d_usb_drv);
