From 03b227a5427396e83e879f3a5ae99f5636cf0409 Mon Sep 17 00:00:00 2001
From: Larry Finger <Larry.Finger@lwfinger.net>
Date: Mon, 29 Apr 2013 09:59:38 -0500
Subject: [PATCH 095/390] Convert typedef statement for _adapter et al. to
 struct

Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>
---
 core/rtw_ap.c            |  78 +++++-----
 core/rtw_br_ext.c        |  26 ++--
 core/rtw_cmd.c           | 114 +++++++--------
 core/rtw_debug.c         |  78 +++++-----
 core/rtw_efuse.c         |  80 +++++------
 core/rtw_io.c            |  50 +++----
 core/rtw_ioctl_set.c     |  34 ++---
 core/rtw_mlme.c          | 130 ++++++++---------
 core/rtw_mlme_ext.c      | 304 +++++++++++++++++++--------------------
 core/rtw_p2p.c           | 114 +++++++--------
 core/rtw_pwrctrl.c       |  80 +++++------
 core/rtw_recv.c          | 100 ++++++-------
 core/rtw_security.c      |  16 +--
 core/rtw_sta_mgt.c       |  10 +-
 core/rtw_wlan_util.c     | 130 ++++++++---------
 core/rtw_xmit.c          |  76 +++++-----
 hal/hal_com.c            |  10 +-
 hal/hal_intf.c           | 100 ++++++-------
 hal/rtl8192d_cmd.c       |  52 +++----
 hal/rtl8192d_dm.c        | 100 ++++++-------
 hal/rtl8192d_hal_init.c  |  70 ++++-----
 hal/rtl8192d_phycfg.c    | 262 +++++++++++++++++-----------------
 hal/rtl8192d_rf6052.c    |  64 ++++-----
 hal/rtl8192d_rxdesc.c    |  14 +-
 hal/rtl8192d_xmit.c      |   2 +-
 hal/rtl8192du_led.c      |  60 ++++----
 hal/rtl8192du_recv.c     |   6 +-
 hal/rtl8192du_xmit.c     |  30 ++--
 hal/usb_halinit.c        | 241 ++++++++++++++++---------------
 hal/usb_ops_linux.c      |  34 ++---
 include/Hal8192DPhyCfg.h |  86 +++++------
 include/drv_types.h      |  24 ++--
 include/hal_com.h        |  10 +-
 include/hal_intf.h       | 218 ++++++++++++++--------------
 include/ioctl_cfg80211.h |  28 ++--
 include/mlme_osdep.h     |  12 +-
 include/osdep_intf.h     |  32 ++---
 include/recv_osdep.h     |  20 +--
 include/rtl8192d_cmd.h   |  20 +--
 include/rtl8192d_dm.h    |  10 +-
 include/rtl8192d_hal.h   |  74 +++++-----
 include/rtl8192d_led.h   |   4 +-
 include/rtl8192d_recv.h  |   6 +-
 include/rtl8192d_rf.h    |  14 +-
 include/rtl8192d_xmit.h  |  14 +-
 include/rtw_ap.h         |  51 ++++---
 include/rtw_br_ext.h     |   2 +-
 include/rtw_cmd.h        | 106 +++++++-------
 include/rtw_eeprom.h     |  10 +-
 include/rtw_efuse.h      |  36 ++---
 include/rtw_event.h      |   2 +-
 include/rtw_io.h         | 116 +++++++--------
 include/rtw_ioctl_set.h  |  28 ++--
 include/rtw_iol.h        |  10 +-
 include/rtw_led.h        |   4 +-
 include/rtw_mlme.h       |  98 ++++++-------
 include/rtw_mlme_ext.h   | 362 +++++++++++++++++++++++------------------------
 include/rtw_mp.h         | 178 +++++++++++------------
 include/rtw_p2p.h        |  24 ++--
 include/rtw_pwrctrl.h    |  52 +++----
 include/rtw_recv.h       |  12 +-
 include/rtw_security.h   |  14 +-
 include/rtw_sreset.h     |  16 +--
 include/rtw_xmit.h       |  42 +++---
 include/sta_info.h       |  14 +-
 include/usb_hal.h        |   8 +-
 include/xmit_osdep.h     |  10 +-
 os_dep/ioctl_linux.c     | 330 +++++++++++++++++++++---------------------
 os_dep/mlme_linux.c      |  48 +++----
 os_dep/os_intfs.c        | 106 +++++++-------
 os_dep/osdep_service.c   |   2 +-
 os_dep/recv_linux.c      |  20 +--
 os_dep/rtw_android.c     |  20 +--
 os_dep/usb_intf.c        |  42 +++---
 os_dep/usb_ops_linux.c   |  12 +-
 os_dep/xmit_linux.c      |  14 +-
 76 files changed, 2408 insertions(+), 2418 deletions(-)

--- a/drivers/staging/rtl8192du/core/rtw_ap.c
+++ b/drivers/staging/rtl8192du/core/rtw_ap.c
@@ -33,7 +33,7 @@ extern unsigned char	WPS_OUI[];
 extern unsigned char	P2P_OUI[];
 extern unsigned char	WFD_OUI[];
 
-void init_mlme_ap_info(_adapter *padapter)
+void init_mlme_ap_info(struct rtw_adapter *padapter)
 {
 	struct mlme_ext_priv *pmlmeext = &padapter->mlmeextpriv;
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
@@ -51,7 +51,7 @@ void init_mlme_ap_info(_adapter *padapte
 	start_ap_mode(padapter);
 }
 
-void free_mlme_ap_info(_adapter *padapter)
+void free_mlme_ap_info(struct rtw_adapter *padapter)
 {
 	struct sta_info *psta=NULL;
 	struct sta_priv *pstapriv = &padapter->stapriv;
@@ -80,7 +80,7 @@ void free_mlme_ap_info(_adapter *padapte
 	_rtw_spinlock_free(&pmlmepriv->bcn_update_lock);
 }
 
-static void update_BCNTIM(_adapter *padapter)
+static void update_BCNTIM(struct rtw_adapter *padapter)
 {
 	struct sta_priv *pstapriv = &padapter->stapriv;
 	struct mlme_ext_priv *pmlmeext = &(padapter->mlmeextpriv);
@@ -202,7 +202,7 @@ static void update_BCNTIM(_adapter *pada
 
 }
 
-void rtw_add_bcn_ie(_adapter *padapter, WLAN_BSSID_EX *pnetwork, u8 index, u8 *data, u8 len)
+void rtw_add_bcn_ie(struct rtw_adapter *padapter, WLAN_BSSID_EX *pnetwork, u8 index, u8 *data, u8 len)
 {
 	PNDIS_802_11_VARIABLE_IEs	pIE;
 	u8	bmatch = false;
@@ -272,7 +272,7 @@ void rtw_add_bcn_ie(_adapter *padapter,
 	pnetwork->IELength = offset + remainder_ielen;
 }
 
-void rtw_remove_bcn_ie(_adapter *padapter, WLAN_BSSID_EX *pnetwork, u8 index)
+void rtw_remove_bcn_ie(struct rtw_adapter *padapter, WLAN_BSSID_EX *pnetwork, u8 index)
 {
 	u8 *p, *dst_ie, *premainder_ie=NULL, *pbackup_remainder_ie=NULL;
 	uint offset, ielen, ie_offset, remainder_ielen = 0;
@@ -347,7 +347,7 @@ u8 chk_sta_is_alive(struct sta_info *pst
 	return ret;
 }
 
-void	expire_timeout_chk(_adapter *padapter)
+void	expire_timeout_chk(struct rtw_adapter *padapter)
 {
 	struct list_head *phead, *plist;
 	u8 updated;
@@ -564,7 +564,7 @@ if (chk_alive_num) {
 }
 
 
-static void add_RATid(_adapter *padapter, struct sta_info *psta)
+static void add_RATid(struct rtw_adapter *padapter, struct sta_info *psta)
 {
 	int i;
 	u8 rf_type;
@@ -782,7 +782,7 @@ static void add_RATid(_adapter *padapter
 
 }
 
-static void update_bmc_sta(_adapter *padapter)
+static void update_bmc_sta(struct rtw_adapter *padapter)
 {
 	u32 init_rate=0;
 	unsigned char	network_type, raid;
@@ -886,7 +886,7 @@ static void update_bmc_sta(_adapter *pad
 //MAC_ID = 0 for bssid for sta/ap/adhoc
 //CAM_ID = //0~3 for default key, cmd_id=macid + 3, macid=aid+1;
 
-void update_sta_info_apmode(_adapter *padapter, struct sta_info *psta)
+void update_sta_info_apmode(struct rtw_adapter *padapter, struct sta_info *psta)
 {
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 	struct security_priv *psecuritypriv = &padapter->securitypriv;
@@ -967,7 +967,7 @@ void update_sta_info_apmode(_adapter *pa
 	spin_unlock_bh(&psta->lock);
 }
 
-static void update_hw_ht_param(_adapter *padapter)
+static void update_hw_ht_param(struct rtw_adapter *padapter)
 {
 	unsigned char		max_AMPDU_len;
 	unsigned char		min_MPDU_spacing;
@@ -1013,7 +1013,7 @@ static void update_hw_ht_param(_adapter
 
 }
 
-static void start_bss_network(_adapter *padapter, u8 *pbuf)
+static void start_bss_network(struct rtw_adapter *padapter, u8 *pbuf)
 {
 	u8 *p;
 	u8 val8, cur_channel, cur_bwmode, cur_ch_offset;
@@ -1117,7 +1117,7 @@ static void start_bss_network(_adapter *
 		{
 			if(rtw_buddy_adapter_up(padapter))
 			{
-				_adapter *pbuddy_adapter = padapter->pbuddy_adapter;
+				struct rtw_adapter *pbuddy_adapter = padapter->pbuddy_adapter;
 
 				//turn on dynamic functions on PRIMARY_ADAPTER, dynamic functions only runs at PRIMARY_ADAPTER
 				Switch_DM_Func(pbuddy_adapter, DYNAMIC_FUNC_DIG|DYNAMIC_FUNC_HP|DYNAMIC_FUNC_SS, true);
@@ -1190,7 +1190,7 @@ static void start_bss_network(_adapter *
 	}
 	else if(check_buddy_fwstate(padapter, _FW_LINKED)==true)//only second adapter can enter AP Mode
 	{
-		_adapter *pbuddy_adapter = padapter->pbuddy_adapter;
+		struct rtw_adapter *pbuddy_adapter = padapter->pbuddy_adapter;
 		struct mlme_ext_priv *pbuddy_mlmeext = &pbuddy_adapter->mlmeextpriv;
 
 		//To sync cur_channel/cur_bwmode/cur_ch_offset with primary adapter
@@ -1323,7 +1323,7 @@ static void start_bss_network(_adapter *
 	update_bmc_sta(padapter);
 }
 
-int rtw_check_beacon_data(_adapter *padapter, u8 *pbuf,  int len)
+int rtw_check_beacon_data(struct rtw_adapter *padapter, u8 *pbuf,  int len)
 {
 	int ret=_SUCCESS;
 	u8 *p;
@@ -1732,7 +1732,7 @@ int rtw_check_beacon_data(_adapter *pada
 
 }
 
-void rtw_set_macaddr_acl(_adapter *padapter, int mode)
+void rtw_set_macaddr_acl(struct rtw_adapter *padapter, int mode)
 {
 	struct sta_priv *pstapriv = &padapter->stapriv;
 	struct wlan_acl_pool *pacl_list = &pstapriv->acl_list;
@@ -1742,7 +1742,7 @@ void rtw_set_macaddr_acl(_adapter *padap
 	pacl_list->mode = mode;
 }
 
-int rtw_acl_add_sta(_adapter *padapter, u8 *addr)
+int rtw_acl_add_sta(struct rtw_adapter *padapter, u8 *addr)
 {
 	struct list_head *plist, *phead;
 	u8 added = false;
@@ -1815,7 +1815,7 @@ int rtw_acl_add_sta(_adapter *padapter,
 	return ret;
 }
 
-int rtw_acl_remove_sta(_adapter *padapter, u8 *addr)
+int rtw_acl_remove_sta(struct rtw_adapter *padapter, u8 *addr)
 {
 	struct list_head *plist, *phead;
 	int i, ret=0;
@@ -1859,13 +1859,13 @@ int rtw_acl_remove_sta(_adapter *padapte
 
 #ifdef CONFIG_NATIVEAP_MLME
 
-static void update_bcn_fixed_ie(_adapter *padapter)
+static void update_bcn_fixed_ie(struct rtw_adapter *padapter)
 {
 	DBG_8192D("%s\n", __FUNCTION__);
 
 }
 
-static void update_bcn_erpinfo_ie(_adapter *padapter)
+static void update_bcn_erpinfo_ie(struct rtw_adapter *padapter)
 {
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 	struct mlme_ext_priv	*pmlmeext = &(padapter->mlmeextpriv);
@@ -1900,37 +1900,37 @@ static void update_bcn_erpinfo_ie(_adapt
 
 }
 
-static void update_bcn_htcap_ie(_adapter *padapter)
+static void update_bcn_htcap_ie(struct rtw_adapter *padapter)
 {
 	DBG_8192D("%s\n", __FUNCTION__);
 
 }
 
-static void update_bcn_htinfo_ie(_adapter *padapter)
+static void update_bcn_htinfo_ie(struct rtw_adapter *padapter)
 {
 	DBG_8192D("%s\n", __FUNCTION__);
 
 }
 
-static void update_bcn_rsn_ie(_adapter *padapter)
+static void update_bcn_rsn_ie(struct rtw_adapter *padapter)
 {
 	DBG_8192D("%s\n", __FUNCTION__);
 
 }
 
-static void update_bcn_wpa_ie(_adapter *padapter)
+static void update_bcn_wpa_ie(struct rtw_adapter *padapter)
 {
 	DBG_8192D("%s\n", __FUNCTION__);
 
 }
 
-static void update_bcn_wmm_ie(_adapter *padapter)
+static void update_bcn_wmm_ie(struct rtw_adapter *padapter)
 {
 	DBG_8192D("%s\n", __FUNCTION__);
 
 }
 
-static void update_bcn_wps_ie(_adapter *padapter)
+static void update_bcn_wps_ie(struct rtw_adapter *padapter)
 {
 	u8 *pwps_ie=NULL, *pwps_ie_src, *premainder_ie, *pbackup_remainder_ie=NULL;
 	uint wps_ielen=0, wps_offset, remainder_ielen;
@@ -1986,12 +1986,12 @@ static void update_bcn_wps_ie(_adapter *
 
 }
 
-static void update_bcn_p2p_ie(_adapter *padapter)
+static void update_bcn_p2p_ie(struct rtw_adapter *padapter)
 {
 
 }
 
-static void update_bcn_vendor_spec_ie(_adapter *padapter, u8*oui)
+static void update_bcn_vendor_spec_ie(struct rtw_adapter *padapter, u8*oui)
 {
 	DBG_8192D("%s\n", __FUNCTION__);
 
@@ -2019,7 +2019,7 @@ static void update_bcn_vendor_spec_ie(_a
 
 }
 
-void update_beacon(_adapter *padapter, u8 ie_id, u8 *oui, u8 tx)
+void update_beacon(struct rtw_adapter *padapter, u8 ie_id, u8 *oui, u8 tx)
 {
 	struct mlme_priv *pmlmepriv;
 	struct mlme_ext_priv	*pmlmeext;
@@ -2111,7 +2111,7 @@ Set to 2 if only HT STAs are associated
 Set to 3 (HT mixed mode) when one or more non-HT STAs are associated
 	(currently non-GF HT station is considered as non-HT STA also)
 */
-static int rtw_ht_operation_update(_adapter *padapter)
+static int rtw_ht_operation_update(struct rtw_adapter *padapter)
 {
 	u16 cur_op_mode, new_op_mode;
 	int op_mode_changes = 0;
@@ -2184,7 +2184,7 @@ static int rtw_ht_operation_update(_adap
 
 #endif /* CONFIG_80211N_HT */
 
-void associated_clients_update(_adapter *padapter, u8 updated)
+void associated_clients_update(struct rtw_adapter *padapter, u8 updated)
 {
 	//update associcated stations cap.
 	if(updated == true)
@@ -2213,7 +2213,7 @@ void associated_clients_update(_adapter
 }
 
 /* called > TSR LEVEL for USB or SDIO Interface*/
-void bss_cap_update_on_sta_join(_adapter *padapter, struct sta_info *psta)
+void bss_cap_update_on_sta_join(struct rtw_adapter *padapter, struct sta_info *psta)
 {
 	u8 beacon_updated = false;
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
@@ -2417,7 +2417,7 @@ void bss_cap_update_on_sta_join(_adapter
 
 }
 
-u8 bss_cap_update_on_sta_leave(_adapter *padapter, struct sta_info *psta)
+u8 bss_cap_update_on_sta_leave(struct rtw_adapter *padapter, struct sta_info *psta)
 {
 	u8 beacon_updated = false;
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
@@ -2492,7 +2492,7 @@ u8 bss_cap_update_on_sta_leave(_adapter
 
 }
 
-u8 ap_free_sta(_adapter *padapter, struct sta_info *psta, bool active, u16 reason)
+u8 ap_free_sta(struct rtw_adapter *padapter, struct sta_info *psta, bool active, u16 reason)
 {
 	u8 beacon_updated = false;
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
@@ -2553,7 +2553,7 @@ u8 ap_free_sta(_adapter *padapter, struc
 
 }
 
-int rtw_ap_inform_ch_switch(_adapter *padapter, u8 new_ch, u8 ch_offset)
+int rtw_ap_inform_ch_switch(struct rtw_adapter *padapter, u8 new_ch, u8 ch_offset)
 {
 	struct list_head *phead, *plist;
 	int ret=0;
@@ -2589,7 +2589,7 @@ int rtw_ap_inform_ch_switch(_adapter *pa
 	return ret;
 }
 
-int rtw_sta_flush(_adapter *padapter)
+int rtw_sta_flush(struct rtw_adapter *padapter)
 {
 	struct list_head *phead, *plist;
 	int ret=0;
@@ -2631,7 +2631,7 @@ int rtw_sta_flush(_adapter *padapter)
 }
 
 /* called > TSR LEVEL for USB or SDIO Interface*/
-void sta_info_update(_adapter *padapter, struct sta_info *psta)
+void sta_info_update(struct rtw_adapter *padapter, struct sta_info *psta)
 {
 	int flags = psta->flags;
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
@@ -2670,7 +2670,7 @@ void sta_info_update(_adapter *padapter,
 }
 
 /* called >= TSR LEVEL for USB or SDIO Interface*/
-void ap_sta_info_defer_update(_adapter *padapter, struct sta_info *psta)
+void ap_sta_info_defer_update(struct rtw_adapter *padapter, struct sta_info *psta)
 {
 	if(psta->state & _FW_LINKED)
 	{
@@ -2679,7 +2679,7 @@ void ap_sta_info_defer_update(_adapter *
 	}
 }
 
-void start_ap_mode(_adapter *padapter)
+void start_ap_mode(struct rtw_adapter *padapter)
 {
 	int i;
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
@@ -2735,7 +2735,7 @@ void start_ap_mode(_adapter *padapter)
 
 }
 
-void stop_ap_mode(_adapter *padapter)
+void stop_ap_mode(struct rtw_adapter *padapter)
 {
 	struct list_head *phead, *plist;
 	struct rtw_wlan_acl_node *paclnode;
--- a/drivers/staging/rtl8192du/core/rtw_br_ext.c
+++ b/drivers/staging/rtl8192du/core/rtw_br_ext.c
@@ -142,7 +142,7 @@ static int skb_pull_and_merge(struct sk_
 	return 0;
 }
 
-static __inline__ unsigned long __nat25_timeout(_adapter *priv)
+static __inline__ unsigned long __nat25_timeout(struct rtw_adapter *priv)
 {
 	unsigned long timeout;
 
@@ -152,7 +152,7 @@ static __inline__ unsigned long __nat25_
 }
 
 
-static __inline__ int  __nat25_has_expired(_adapter *priv,
+static __inline__ int  __nat25_has_expired(struct rtw_adapter *priv,
 				struct nat25_network_db_entry *fdb)
 {
 	if(time_before_eq(fdb->ageing_timer, __nat25_timeout(priv)))
@@ -389,7 +389,7 @@ static __inline__ int __nat25_network_ha
 }
 
 
-static __inline__ void __network_hash_link(_adapter *priv,
+static __inline__ void __network_hash_link(struct rtw_adapter *priv,
 				struct nat25_network_db_entry *ent, int hash)
 {
 	// Caller must spin_lock_bh already!
@@ -420,7 +420,7 @@ static __inline__ void __network_hash_un
 }
 
 
-static int __nat25_db_network_lookup_and_replace(_adapter *priv,
+static int __nat25_db_network_lookup_and_replace(struct rtw_adapter *priv,
 				struct sk_buff *skb, unsigned char *networkAddr)
 {
 	struct nat25_network_db_entry *db;
@@ -496,7 +496,7 @@ static int __nat25_db_network_lookup_and
 }
 
 
-static void __nat25_db_network_insert(_adapter *priv,
+static void __nat25_db_network_insert(struct rtw_adapter *priv,
 				unsigned char *macAddr, unsigned char *networkAddr)
 {
 	struct nat25_network_db_entry *db;
@@ -535,7 +535,7 @@ static void __nat25_db_network_insert(_a
 }
 
 
-static void __nat25_db_print(_adapter *priv)
+static void __nat25_db_print(struct rtw_adapter *priv)
 {
 	spin_lock_bh(&priv->br_ext_lock);
 
@@ -623,7 +623,7 @@ static void __nat25_db_print(_adapter *p
  *	NAT2.5 interface
  */
 
-void nat25_db_cleanup(_adapter *priv)
+void nat25_db_cleanup(struct rtw_adapter *priv)
 {
 	int i;
 	spin_lock_bh(&priv->br_ext_lock);
@@ -653,7 +653,7 @@ void nat25_db_cleanup(_adapter *priv)
 }
 
 
-void nat25_db_expire(_adapter *priv)
+void nat25_db_expire(struct rtw_adapter *priv)
 {
 	int i;
 	spin_lock_bh(&priv->br_ext_lock);
@@ -746,7 +746,7 @@ void nat25_db_expire(_adapter *priv)
 
 
 #ifdef SUPPORT_TX_MCAST2UNI
-static int checkIPMcAndReplace(_adapter *priv, struct sk_buff *skb, unsigned int *dst_ip)
+static int checkIPMcAndReplace(struct rtw_adapter *priv, struct sk_buff *skb, unsigned int *dst_ip)
 {
 	struct stat_info	*pstat;
 	struct list_head	*phead, *plist;
@@ -773,7 +773,7 @@ static int checkIPMcAndReplace(_adapter
 }
 #endif
 
-int nat25_db_handle(_adapter *priv, struct sk_buff *skb, int method)
+int nat25_db_handle(struct rtw_adapter *priv, struct sk_buff *skb, int method)
 {
 	unsigned short protocol;
 	unsigned char networkAddr[MAX_NETWORK_ADDR_LEN];
@@ -1477,7 +1477,7 @@ int nat25_db_handle(_adapter *priv, stru
 }
 
 
-int nat25_handle_frame(_adapter *priv, struct sk_buff *skb)
+int nat25_handle_frame(struct rtw_adapter *priv, struct sk_buff *skb)
 {
 #ifdef BR_EXT_DEBUG
 	if((!priv->ethBrExtInfo.nat25_disable) && (!(skb->data[0] & 1)))
@@ -1583,7 +1583,7 @@ struct dhcpMessage {
 	u_int8_t options[308]; /* 312 - cookie */
 };
 
-void dhcp_flag_bcast(_adapter *priv, struct sk_buff *skb)
+void dhcp_flag_bcast(struct rtw_adapter *priv, struct sk_buff *skb)
 {
 	if(skb == NULL)
 		return;
@@ -1630,7 +1630,7 @@ void dhcp_flag_bcast(_adapter *priv, str
 }
 
 
-void *scdb_findEntry(_adapter *priv, unsigned char *macAddr,
+void *scdb_findEntry(struct rtw_adapter *priv, unsigned char *macAddr,
 				unsigned char *ipAddr)
 {
 	unsigned char networkAddr[MAX_NETWORK_ADDR_LEN];
--- a/drivers/staging/rtl8192du/core/rtw_cmd.c
+++ b/drivers/staging/rtl8192du/core/rtw_cmd.c
@@ -300,7 +300,7 @@ int rtw_cmd_filter(struct cmd_priv *pcmd
 u32 rtw_enqueue_cmd(struct cmd_priv *pcmdpriv, struct cmd_obj *cmd_obj)
 {
 	int res = _FAIL;
-	PADAPTER padapter = pcmdpriv->padapter;
+	struct rtw_adapter *padapter = pcmdpriv->padapter;
 
 _func_enter_;
 
@@ -383,9 +383,9 @@ int rtw_cmd_thread(void *context)
 	u8 ret;
 	struct cmd_obj *pcmd;
 	u8 *pcmdbuf, *prspbuf;
-	u8 (*cmd_hdl)(_adapter *padapter, u8* pbuf);
-	void (*pcmd_callback)(_adapter *dev, struct cmd_obj *pcmd);
-       _adapter *padapter = (_adapter *)context;
+	u8 (*cmd_hdl)(struct rtw_adapter *padapter, u8* pbuf);
+	void (*pcmd_callback)(struct rtw_adapter *dev, struct cmd_obj *pcmd);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)context;
 	struct cmd_priv *pcmdpriv = &(padapter->cmdpriv);
 
 _func_enter_;
@@ -587,7 +587,7 @@ _func_exit_;
 /*
 u8 rtw_setstandby_cmd(unsigned char  *adapter)
 */
-u8 rtw_setstandby_cmd(_adapter *padapter, uint action)
+u8 rtw_setstandby_cmd(struct rtw_adapter *padapter, uint action)
 {
 	struct cmd_obj*			ph2c;
 	struct usb_suspend_parm*	psetusbsuspend;
@@ -628,7 +628,7 @@ rtw_sitesurvey_cmd(~)
 	### NOTE:#### (!!!!)
 	MUST TAKE CARE THAT BEFORE CALLING THIS FUNC, YOU SHOULD HAVE LOCKED pmlmepriv->lock
 */
-u8 rtw_sitesurvey_cmd(_adapter  *padapter, struct ndis_802_11_ssid *ssid, int ssid_num,
+u8 rtw_sitesurvey_cmd(struct rtw_adapter *padapter, struct ndis_802_11_ssid *ssid, int ssid_num,
 	struct rtw_ieee80211_channel *ch, int ch_num)
 {
 	u8 res = _FAIL;
@@ -725,7 +725,7 @@ _func_exit_;
 	return res;
 }
 
-u8 rtw_setdatarate_cmd(_adapter *padapter, u8 *rateset)
+u8 rtw_setdatarate_cmd(struct rtw_adapter *padapter, u8 *rateset)
 {
 	struct cmd_obj*			ph2c;
 	struct setdatarate_parm*	pbsetdataratepara;
@@ -763,7 +763,7 @@ _func_exit_;
 	return res;
 }
 
-u8 rtw_setbasicrate_cmd(_adapter *padapter, u8 *rateset)
+u8 rtw_setbasicrate_cmd(struct rtw_adapter *padapter, u8 *rateset)
 {
 	struct cmd_obj*			ph2c;
 	struct setbasicrate_parm*	pssetbasicratepara;
@@ -805,7 +805,7 @@ unsigned char rtw_setphy_cmd(unsigned ch
 2.  for AdHoc/Ap mode or mp mode?
 
 */
-u8 rtw_setphy_cmd(_adapter *padapter, u8 modem, u8 ch)
+u8 rtw_setphy_cmd(struct rtw_adapter *padapter, u8 modem, u8 ch)
 {
 	struct cmd_obj*			ph2c;
 	struct setphy_parm*		psetphypara;
@@ -842,7 +842,7 @@ _func_exit_;
 	return res;
 }
 
-u8 rtw_setbbreg_cmd(_adapter*padapter, u8 offset, u8 val)
+u8 rtw_setbbreg_cmd(struct rtw_adapter*padapter, u8 offset, u8 val)
 {
 	struct cmd_obj*			ph2c;
 	struct writeBB_parm*		pwritebbparm;
@@ -873,7 +873,7 @@ _func_exit_;
 	return res;
 }
 
-u8 rtw_getbbreg_cmd(_adapter  *padapter, u8 offset, u8 *pval)
+u8 rtw_getbbreg_cmd(struct rtw_adapter *padapter, u8 offset, u8 *pval)
 {
 	struct cmd_obj*			ph2c;
 	struct readBB_parm*		prdbbparm;
@@ -908,7 +908,7 @@ _func_exit_;
 	return res;
 }
 
-u8 rtw_setrfreg_cmd(_adapter  *padapter, u8 offset, u32 val)
+u8 rtw_setrfreg_cmd(struct rtw_adapter *padapter, u8 offset, u32 val)
 {
 	struct cmd_obj*			ph2c;
 	struct writeRF_parm*		pwriterfparm;
@@ -939,7 +939,7 @@ _func_exit_;
 	return res;
 }
 
-u8 rtw_getrfreg_cmd(_adapter  *padapter, u8 offset, u8 *pval)
+u8 rtw_getrfreg_cmd(struct rtw_adapter *padapter, u8 offset, u8 *pval)
 {
 	struct cmd_obj*			ph2c;
 	struct readRF_parm*		prdrfparm;
@@ -979,7 +979,7 @@ _func_exit_;
 	return res;
 }
 
-void rtw_getbbrfreg_cmdrsp_callback(_adapter*	padapter,  struct cmd_obj *pcmd)
+void rtw_getbbrfreg_cmdrsp_callback(struct rtw_adapter *padapter,  struct cmd_obj *pcmd)
 {
  _func_enter_;
 
@@ -993,7 +993,7 @@ void rtw_getbbrfreg_cmdrsp_callback(_ada
 _func_exit_;
 }
 
-void rtw_readtssi_cmdrsp_callback(_adapter*	padapter,  struct cmd_obj *pcmd)
+void rtw_readtssi_cmdrsp_callback(struct rtw_adapter *padapter,  struct cmd_obj *pcmd)
 {
  _func_enter_;
 
@@ -1007,7 +1007,7 @@ void rtw_readtssi_cmdrsp_callback(_adapt
 _func_exit_;
 }
 
-u8 rtw_createbss_cmd(_adapter  *padapter)
+u8 rtw_createbss_cmd(struct rtw_adapter *padapter)
 {
 	struct cmd_obj*			pcmd;
 	struct cmd_priv				*pcmdpriv=&padapter->cmdpriv;
@@ -1046,7 +1046,7 @@ _func_exit_;
 	return res;
 }
 
-u8 rtw_createbss_cmd_ex(_adapter  *padapter, unsigned char *pbss, unsigned int sz)
+u8 rtw_createbss_cmd_ex(struct rtw_adapter *padapter, unsigned char *pbss, unsigned int sz)
 {
 	struct cmd_obj*	pcmd;
 	struct cmd_priv		*pcmdpriv=&padapter->cmdpriv;
@@ -1076,7 +1076,7 @@ _func_exit_;
 	return res;
 }
 
-u8 rtw_joinbss_cmd(_adapter  *padapter, struct wlan_network* pnetwork)
+u8 rtw_joinbss_cmd(struct rtw_adapter *padapter, struct wlan_network* pnetwork)
 {
 	u8	*auth, res = _SUCCESS;
 	uint	t_len = 0;
@@ -1251,7 +1251,7 @@ _func_exit_;
 	return res;
 }
 
-u8 rtw_disassoc_cmd(_adapter*padapter, u32 deauth_timeout_ms, bool enqueue) /* for sta_mode */
+u8 rtw_disassoc_cmd(struct rtw_adapter *padapter, u32 deauth_timeout_ms, bool enqueue) /* for sta_mode */
 {
 	struct cmd_obj *cmdobj = NULL;
 	struct disconnect_parm *param = NULL;
@@ -1294,7 +1294,7 @@ _func_exit_;
 	return res;
 }
 
-u8 rtw_setopmode_cmd(_adapter  *padapter, enum NDIS_802_11_NETWORK_INFRASTRUCTURE networktype)
+u8 rtw_setopmode_cmd(struct rtw_adapter *padapter, enum NDIS_802_11_NETWORK_INFRASTRUCTURE networktype)
 {
 	struct	cmd_obj*	ph2c;
 	struct	setopmode_parm* psetop;
@@ -1329,7 +1329,7 @@ _func_exit_;
 	return res;
 }
 
-u8 rtw_setstakey_cmd(_adapter *padapter, u8 *psta, u8 unicast_key)
+u8 rtw_setstakey_cmd(struct rtw_adapter *padapter, u8 *psta, u8 unicast_key)
 {
 	struct cmd_obj*			ph2c;
 	struct set_stakey_parm	*psetstakey_para;
@@ -1404,7 +1404,7 @@ _func_exit_;
 	return res;
 }
 
-u8 rtw_clearstakey_cmd(_adapter *padapter, u8 *psta, u8 entry, u8 enqueue)
+u8 rtw_clearstakey_cmd(struct rtw_adapter *padapter, u8 *psta, u8 entry, u8 enqueue)
 {
 	struct cmd_obj*			ph2c;
 	struct set_stakey_parm	*psetstakey_para;
@@ -1465,7 +1465,7 @@ _func_exit_;
 	return res;
 }
 
-u8 rtw_setrttbl_cmd(_adapter  *padapter, struct setratable_parm *prate_table)
+u8 rtw_setrttbl_cmd(struct rtw_adapter *padapter, struct setratable_parm *prate_table)
 {
 	struct cmd_obj*			ph2c;
 	struct setratable_parm *	psetrttblparm;
@@ -1497,7 +1497,7 @@ _func_exit_;
 
 }
 
-u8 rtw_getrttbl_cmd(_adapter  *padapter, struct getratable_rsp *pval)
+u8 rtw_getrttbl_cmd(struct rtw_adapter *padapter, struct getratable_rsp *pval)
 {
 	struct cmd_obj*			ph2c;
 	struct getratable_parm *	pgetrttblparm;
@@ -1536,7 +1536,7 @@ _func_exit_;
 
 }
 
-u8 rtw_setassocsta_cmd(_adapter  *padapter, u8 *mac_addr)
+u8 rtw_setassocsta_cmd(struct rtw_adapter *padapter, u8 *mac_addr)
 {
 	struct cmd_priv			*pcmdpriv = &padapter->cmdpriv;
 	struct cmd_obj*			ph2c;
@@ -1582,7 +1582,7 @@ _func_exit_;
 	return res;
  }
 
-u8 rtw_addbareq_cmd(_adapter*padapter, u8 tid, u8 *addr)
+u8 rtw_addbareq_cmd(struct rtw_adapter *padapter, u8 tid, u8 *addr)
 {
 	struct cmd_priv		*pcmdpriv = &padapter->cmdpriv;
 	struct cmd_obj*		ph2c;
@@ -1622,7 +1622,7 @@ _func_exit_;
 	return res;
 }
 
-u8 rtw_dynamic_chk_wk_cmd(_adapter*padapter)
+u8 rtw_dynamic_chk_wk_cmd(struct rtw_adapter *padapter)
 {
 	struct cmd_obj*		ph2c;
 	struct drvextra_cmd_parm  *pdrvextra_cmd_parm;
@@ -1671,7 +1671,7 @@ _func_exit_;
 
 }
 
-u8 rtw_set_ch_cmd(_adapter*padapter, u8 ch, u8 bw, u8 ch_offset, u8 enqueue)
+u8 rtw_set_ch_cmd(struct rtw_adapter *padapter, u8 ch, u8 bw, u8 ch_offset, u8 enqueue)
 {
 	struct cmd_obj *pcmdobj;
 	struct set_ch_parm *set_ch_parm;
@@ -1726,7 +1726,7 @@ _func_exit_;
 	return res;
 }
 
-u8 rtw_set_chplan_cmd(_adapter*padapter, u8 chplan, u8 enqueue)
+u8 rtw_set_chplan_cmd(struct rtw_adapter *padapter, u8 chplan, u8 enqueue)
 {
 	struct	cmd_obj*	pcmdobj;
 	struct	SetChannelPlan_param *setChannelPlan_param;
@@ -1785,7 +1785,7 @@ _func_exit_;
 	return res;
 }
 
-u8 rtw_led_blink_cmd(_adapter*padapter, struct LED_871X *pLed)
+u8 rtw_led_blink_cmd(struct rtw_adapter *padapter, struct LED_871X *pLed)
 {
 	struct	cmd_obj*	pcmdobj;
 	struct	LedBlink_param *ledBlink_param;
@@ -1822,7 +1822,7 @@ _func_exit_;
 	return res;
 }
 
-u8 rtw_set_csa_cmd(_adapter*padapter, u8 new_ch_no)
+u8 rtw_set_csa_cmd(struct rtw_adapter *padapter, u8 new_ch_no)
 {
 	struct	cmd_obj*	pcmdobj;
 	struct	SetChannelSwitch_param*setChannelSwitch_param;
@@ -1860,7 +1860,7 @@ _func_exit_;
 	return res;
 }
 
-u8 rtw_tdls_cmd(_adapter *padapter, u8 *addr, u8 option)
+u8 rtw_tdls_cmd(struct rtw_adapter *padapter, u8 *addr, u8 option)
 {
 	struct	cmd_obj*	pcmdobj;
 	struct	TDLSoption_param	*TDLSoption;
@@ -1905,7 +1905,7 @@ _func_exit_;
 	return res;
 }
 
-static void traffic_status_watchdog(_adapter *padapter)
+static void traffic_status_watchdog(struct rtw_adapter *padapter)
 {
 #ifdef CONFIG_LPS
 	u8	bEnterPS;
@@ -2002,8 +2002,7 @@ static void traffic_status_watchdog(_ada
 
 }
 
-void dynamic_chk_wk_hdl(_adapter *padapter, u8 *pbuf, int sz);
-void dynamic_chk_wk_hdl(_adapter *padapter, u8 *pbuf, int sz)
+void dynamic_chk_wk_hdl(struct rtw_adapter *padapter, u8 *pbuf, int sz)
 {
 	struct mlme_priv *pmlmepriv;
 
@@ -2013,7 +2012,7 @@ void dynamic_chk_wk_hdl(_adapter *padapt
 	if((void*)padapter != (void*)pbuf && padapter->pbuddy_adapter == NULL)
 		return;
 
-	padapter = (_adapter *)pbuf;
+	padapter = (struct rtw_adapter *)pbuf;
 
 	if ((padapter->bDriverStopped == true)||(padapter->bSurpriseRemoved== true))
 		return;
@@ -2047,8 +2046,7 @@ void dynamic_chk_wk_hdl(_adapter *padapt
 
 #ifdef CONFIG_LPS
 
-void lps_ctrl_wk_hdl(_adapter *padapter, u8 lps_ctrl_type);
-void lps_ctrl_wk_hdl(_adapter *padapter, u8 lps_ctrl_type)
+void lps_ctrl_wk_hdl(struct rtw_adapter *padapter, u8 lps_ctrl_type)
 {
 	struct pwrctrl_priv *pwrpriv = &padapter->pwrctrlpriv;
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
@@ -2098,7 +2096,7 @@ _func_enter_;
 _func_exit_;
 }
 
-u8 rtw_lps_ctrl_wk_cmd(_adapter*padapter, u8 lps_ctrl_type, u8 enqueue)
+u8 rtw_lps_ctrl_wk_cmd(struct rtw_adapter *padapter, u8 lps_ctrl_type, u8 enqueue)
 {
 	struct cmd_obj	*ph2c;
 	struct drvextra_cmd_parm	*pdrvextra_cmd_parm;
@@ -2155,12 +2153,12 @@ _func_exit_;
 #endif
 #ifdef CONFIG_ANTENNA_DIVERSITY
 
-void antenna_select_wk_hdl(_adapter *padapter, u8 antenna)
+void antenna_select_wk_hdl(struct rtw_adapter *padapter, u8 antenna)
 {
 	rtw_hal_set_hwreg(padapter, HW_VAR_ANTENNA_DIVERSITY_SELECT, (u8 *)(&antenna));
 }
 
-u8 rtw_antenna_select_cmd(_adapter*padapter, u8 antenna,u8 enqueue)
+u8 rtw_antenna_select_cmd(struct rtw_adapter *padapter, u8 antenna,u8 enqueue)
 {
 	struct cmd_obj		*ph2c;
 	struct drvextra_cmd_parm	*pdrvextra_cmd_parm;
@@ -2206,14 +2204,13 @@ _func_exit_;
 }
 #endif
 
-void power_saving_wk_hdl(_adapter *padapter, u8 *pbuf, int sz);
-void power_saving_wk_hdl(_adapter *padapter, u8 *pbuf, int sz)
+void power_saving_wk_hdl(struct rtw_adapter *padapter, u8 *pbuf, int sz)
 {
 	 rtw_ps_processor(padapter);
 }
 
 #ifdef CONFIG_P2P
-u8 p2p_protocol_wk_cmd(_adapter*padapter, int intCmdType )
+u8 p2p_protocol_wk_cmd(struct rtw_adapter *padapter, int intCmdType )
 {
 	struct cmd_obj	*ph2c;
 	struct drvextra_cmd_parm	*pdrvextra_cmd_parm;
@@ -2258,7 +2255,7 @@ _func_exit_;
 }
 #endif //CONFIG_P2P
 
-u8 rtw_ps_cmd(_adapter*padapter)
+u8 rtw_ps_cmd(struct rtw_adapter *padapter)
 {
 	struct cmd_obj		*ppscmd;
 	struct drvextra_cmd_parm	*pdrvextra_cmd_parm;
@@ -2301,7 +2298,7 @@ _func_exit_;
 
 #ifdef CONFIG_AP_MODE
 
-static void rtw_chk_hi_queue_hdl(_adapter *padapter)
+static void rtw_chk_hi_queue_hdl(struct rtw_adapter *padapter)
 {
 	int cnt=0;
 	struct sta_info *psta_bmc;
@@ -2335,7 +2332,7 @@ static void rtw_chk_hi_queue_hdl(_adapte
 
 }
 
-u8 rtw_chk_hi_queue_cmd(_adapter*padapter)
+u8 rtw_chk_hi_queue_cmd(struct rtw_adapter *padapter)
 {
 	struct cmd_obj	*ph2c;
 	struct drvextra_cmd_parm	*pdrvextra_cmd_parm;
@@ -2370,7 +2367,7 @@ exit:
 }
 #endif
 
-u8 rtw_c2h_wk_cmd(PADAPTER padapter, u8 *c2h_evt)
+u8 rtw_c2h_wk_cmd(struct rtw_adapter *padapter, u8 *c2h_evt)
 {
 	struct cmd_obj *ph2c;
 	struct drvextra_cmd_parm *pdrvextra_cmd_parm;
@@ -2403,7 +2400,7 @@ exit:
 	return res;
 }
 
-s32 c2h_evt_hdl(_adapter *adapter, struct c2h_evt_hdr *c2h_evt, c2h_id_filter filter)
+s32 c2h_evt_hdl(struct rtw_adapter *adapter, struct c2h_evt_hdr *c2h_evt, c2h_id_filter filter)
 {
 	s32 ret = _FAIL;
 	u8 buf[16];
@@ -2433,7 +2430,7 @@ exit:
 static void c2h_wk_callback(_workitem *work)
 {
 	struct evt_priv *evtpriv = container_of(work, struct evt_priv, c2h_wk);
-	_adapter *adapter = container_of(evtpriv, _adapter, evtpriv);
+	struct rtw_adapter *adapter = container_of(evtpriv, struct rtw_adapter, evtpriv);
 	struct c2h_evt_hdr *c2h_evt;
 	c2h_id_filter ccx_id_filter = rtw_hal_c2h_id_filter_ccx(adapter);
 
@@ -2472,7 +2469,7 @@ static void c2h_wk_callback(_workitem *w
 }
 #endif
 
-u8 rtw_drvextra_cmd_hdl(_adapter *padapter, unsigned char *pbuf)
+u8 rtw_drvextra_cmd_hdl(struct rtw_adapter *padapter, unsigned char *pbuf)
 {
 	struct drvextra_cmd_parm *pdrvextra_cmd;
 
@@ -2539,7 +2536,7 @@ u8 rtw_drvextra_cmd_hdl(_adapter *padapt
 
 }
 
-void rtw_survey_cmd_callback(_adapter*	padapter ,  struct cmd_obj *pcmd)
+void rtw_survey_cmd_callback(struct rtw_adapter *padapter ,  struct cmd_obj *pcmd)
 {
 	struct	mlme_priv *pmlmepriv = &padapter->mlmepriv;
 
@@ -2561,7 +2558,7 @@ _func_enter_;
 
 _func_exit_;
 }
-void rtw_disassoc_cmd_callback(_adapter*	padapter,  struct cmd_obj *pcmd)
+void rtw_disassoc_cmd_callback(struct rtw_adapter *padapter,  struct cmd_obj *pcmd)
 {
 	struct	mlme_priv *pmlmepriv = &padapter->mlmepriv;
 
@@ -2591,7 +2588,7 @@ _func_exit_;
 }
 
 
-void rtw_joinbss_cmd_callback(_adapter*	padapter,  struct cmd_obj *pcmd)
+void rtw_joinbss_cmd_callback(struct rtw_adapter *padapter,  struct cmd_obj *pcmd)
 {
 	struct	mlme_priv *pmlmepriv = &padapter->mlmepriv;
 
@@ -2614,7 +2611,7 @@ _func_enter_;
 _func_exit_;
 }
 
-void rtw_createbss_cmd_callback(_adapter *padapter, struct cmd_obj *pcmd)
+void rtw_createbss_cmd_callback(struct rtw_adapter *padapter, struct cmd_obj *pcmd)
 {
 	u8 timer_cancelled;
 	struct sta_info *psta = NULL;
@@ -2722,7 +2719,7 @@ _func_exit_;
 
 
 
-void rtw_setstaKey_cmdrsp_callback(_adapter*	padapter ,  struct cmd_obj *pcmd)
+void rtw_setstaKey_cmdrsp_callback(struct rtw_adapter *padapter, struct cmd_obj *pcmd)
 {
 
 	struct sta_priv * pstapriv = &padapter->stapriv;
@@ -2746,7 +2743,7 @@ exit:
 _func_exit_;
 
 }
-void rtw_setassocsta_cmdrsp_callback(_adapter*	padapter,  struct cmd_obj *pcmd)
+void rtw_setassocsta_cmdrsp_callback(struct rtw_adapter *padapter,  struct cmd_obj *pcmd)
 {
 	struct sta_priv * pstapriv = &padapter->stapriv;
 	struct mlme_priv	*pmlmepriv = &padapter->mlmepriv;
@@ -2778,8 +2775,7 @@ exit:
 _func_exit_;
 }
 
-void rtw_getrttbl_cmd_cmdrsp_callback(_adapter*	padapter,  struct cmd_obj *pcmd);
-void rtw_getrttbl_cmd_cmdrsp_callback(_adapter*	padapter,  struct cmd_obj *pcmd)
+void rtw_getrttbl_cmd_cmdrsp_callback(struct rtw_adapter *padapter,  struct cmd_obj *pcmd)
 {
 _func_enter_;
 
--- a/drivers/staging/rtl8192du/core/rtw_debug.c
+++ b/drivers/staging/rtl8192du/core/rtw_debug.c
@@ -80,7 +80,7 @@ int proc_get_log_level(char *page, char
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 
 	int len = 0;
@@ -98,7 +98,7 @@ int proc_set_log_level(struct file *file
 		unsigned long count, void *data)
 {
 	struct net_device *dev = (struct net_device *)data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	char tmp[32];
 	u32 is_signal_dbg;
 
@@ -132,7 +132,7 @@ int proc_set_write_reg(struct file *file
 		unsigned long count, void *data)
 {
 	struct net_device *dev = (struct net_device *)data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	char tmp[32];
 	u32 addr, val, len;
 
@@ -181,7 +181,7 @@ int proc_get_read_reg(char *page, char *
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 
 	int len = 0;
 
@@ -247,7 +247,7 @@ int proc_get_fwstate(char *page, char **
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 
 	int len = 0;
@@ -263,7 +263,7 @@ int proc_get_sec_info(char *page, char *
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct security_priv *psecuritypriv = &padapter->securitypriv;
 
 	int len = 0;
@@ -281,7 +281,7 @@ int proc_get_mlmext_state(char *page, ch
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
 
@@ -298,7 +298,7 @@ int proc_get_qos_option(char *page, char
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 
 	int len = 0;
@@ -315,7 +315,7 @@ int proc_get_ht_option(char *page, char
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 
 	int len = 0;
@@ -331,7 +331,7 @@ int proc_get_rf_info(char *page, char **
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
 	int len = 0;
 
@@ -350,7 +350,7 @@ int proc_get_ap_info(char *page, char **
 {
 	struct sta_info *psta;
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 	struct mlme_ext_priv *pmlmeext = &padapter->mlmeextpriv;
 	struct wlan_network *cur_network = &(pmlmepriv->cur_network);
@@ -398,7 +398,7 @@ int proc_get_adapter_state(char *page, c
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	int len = 0;
 
 	len += snprintf(page + len, count - len, "bSurpriseRemoved=%d, bDriverStopped=%d\n",
@@ -414,7 +414,7 @@ int proc_get_trx_info(char *page, char *
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct xmit_priv *pxmitpriv = &padapter->xmitpriv;
 	struct recv_priv  *precvpriv = &padapter->recvpriv;
 	struct dvobj_priv	*pdvobj = adapter_to_dvobj(padapter);
@@ -443,7 +443,7 @@ int proc_get_mac_reg_dump1(char *page, c
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	int len = 0;
 	int i,j=1;
 
@@ -466,7 +466,7 @@ int proc_get_mac_reg_dump2(char *page, c
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	int len = 0;
 	int i,j=1;
 
@@ -489,7 +489,7 @@ int proc_get_mac_reg_dump3(char *page, c
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	int len = 0;
 	int i,j=1;
 
@@ -512,7 +512,7 @@ int proc_get_bb_reg_dump1(char *page, ch
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	int len = 0;
 	int i,j=1;
 
@@ -532,7 +532,7 @@ int proc_get_bb_reg_dump2(char *page, ch
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	int len = 0;
 	int i,j=1;
 
@@ -552,7 +552,7 @@ int proc_get_bb_reg_dump3(char *page, ch
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	int len = 0;
 	int i,j=1;
 
@@ -572,7 +572,7 @@ int proc_get_rf_reg_dump1(char *page, ch
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	int len = 0;
 	int i,j=1,path;
 	u32 value;
@@ -599,7 +599,7 @@ int proc_get_rf_reg_dump2(char *page, ch
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	int len = 0;
 	int i,j=1,path;
 	u32 value;
@@ -625,7 +625,7 @@ int proc_get_rf_reg_dump3(char *page, ch
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	int len = 0;
 	int i,j=1,path;
 	u32 value;
@@ -652,7 +652,7 @@ int proc_get_rf_reg_dump4(char *page, ch
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	int len = 0;
 	int i,j=1,path;
 	u32 value;
@@ -679,7 +679,7 @@ int proc_get_rx_signal(char *page, char
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 
 	int len = 0;
@@ -705,7 +705,7 @@ int proc_set_rx_signal(struct file *file
 		unsigned long count, void *data)
 {
 	struct net_device *dev = (struct net_device *)data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	char tmp[32];
 	u32 is_signal_dbg, signal_strength;
 
@@ -743,7 +743,7 @@ int proc_get_ht_enable(char *page, char
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct registry_priv	*pregpriv = &padapter->registrypriv;
 
 	int len = 0;
@@ -762,7 +762,7 @@ int proc_set_ht_enable(struct file *file
 		unsigned long count, void *data)
 {
 	struct net_device *dev = (struct net_device *)data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct registry_priv	*pregpriv = &padapter->registrypriv;
 	char tmp[32];
 	u32 mode;
@@ -791,7 +791,7 @@ int proc_get_cbw40_enable(char *page, ch
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct registry_priv	*pregpriv = &padapter->registrypriv;
 
 	int len = 0;
@@ -810,7 +810,7 @@ int proc_set_cbw40_enable(struct file *f
 		unsigned long count, void *data)
 {
 	struct net_device *dev = (struct net_device *)data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct registry_priv	*pregpriv = &padapter->registrypriv;
 	char tmp[32];
 	u32 mode;
@@ -838,7 +838,7 @@ int proc_get_ampdu_enable(char *page, ch
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct registry_priv	*pregpriv = &padapter->registrypriv;
 
 	int len = 0;
@@ -857,7 +857,7 @@ int proc_set_ampdu_enable(struct file *f
 		unsigned long count, void *data)
 {
 	struct net_device *dev = (struct net_device *)data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct registry_priv	*pregpriv = &padapter->registrypriv;
 	char tmp[32];
 	u32 mode;
@@ -886,7 +886,7 @@ int proc_get_two_path_rssi(char *page, c
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 
 	int len = 0;
 
@@ -906,7 +906,7 @@ int proc_get_rx_stbc(char *page, char **
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct registry_priv	*pregpriv = &padapter->registrypriv;
 
 	int len = 0;
@@ -925,7 +925,7 @@ int proc_set_rx_stbc(struct file *file,
 		unsigned long count, void *data)
 {
 	struct net_device *dev = (struct net_device *)data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct registry_priv	*pregpriv = &padapter->registrypriv;
 	char tmp[32];
 	u32 mode;
@@ -953,7 +953,7 @@ int proc_get_vid(char *page, char **star
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	u16 VID=0;
 	int len = 0;
 
@@ -972,7 +972,7 @@ int proc_get_pid(char *page, char **star
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	u16 PID=0;
 	int len = 0;
 
@@ -998,7 +998,7 @@ int proc_set_rssi_disp(struct file *file
 		unsigned long count, void *data)
 {
 	struct net_device *dev = (struct net_device *)data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	char tmp[32];
 	u32 enable=0;
 
@@ -1043,7 +1043,7 @@ int proc_get_all_sta_info(char *page, ch
 {
 	struct sta_info *psta;
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct sta_priv *pstapriv = &padapter->stapriv;
 	int i, j;
 	struct list_head *plist, *phead;
@@ -1134,7 +1134,7 @@ int proc_get_best_channel(char *page, ch
 			  int *eof, void *data)
 {
 	struct net_device *dev = data;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_ext_priv *pmlmeext = &padapter->mlmeextpriv;
 	int len = 0;
 	u32 i, best_channel_24G = 1, best_channel_5G = 36, index_24G = 0, index_5G = 0;
--- a/drivers/staging/rtl8192du/core/rtw_efuse.c
+++ b/drivers/staging/rtl8192du/core/rtw_efuse.c
@@ -52,12 +52,12 @@ u8	fakeBTEfuseModifiedMap[EFUSE_BT_MAX_M
 
 bool
 Efuse_Read1ByteFromFakeContent(
-		PADAPTER	pAdapter,
+		struct rtw_adapter *	pAdapter,
 		u16		Offset,
 	u8		*Value	);
 bool
 Efuse_Read1ByteFromFakeContent(
-		PADAPTER	pAdapter,
+		struct rtw_adapter *	pAdapter,
 		u16		Offset,
 	u8		*Value	)
 {
@@ -75,12 +75,12 @@ Efuse_Read1ByteFromFakeContent(
 
 bool
 Efuse_Write1ByteToFakeContent(
-		PADAPTER	pAdapter,
+		struct rtw_adapter *	pAdapter,
 		u16		Offset,
 		u8		Value	);
 bool
 Efuse_Write1ByteToFakeContent(
-		PADAPTER	pAdapter,
+		struct rtw_adapter *	pAdapter,
 		u16		Offset,
 		u8		Value	)
 {
@@ -117,7 +117,7 @@ Efuse_Write1ByteToFakeContent(
  *---------------------------------------------------------------------------*/
 void
 Efuse_PowerSwitch(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u8		bWrite,
 	u8		PwrState)
 {
@@ -142,7 +142,7 @@ Efuse_PowerSwitch(
  *---------------------------------------------------------------------------*/
 u16
 Efuse_GetCurrentSize(
-	PADAPTER		pAdapter,
+	struct rtw_adapter *		pAdapter,
 	u8			efuseType,
 	bool		bPseudoTest)
 {
@@ -178,7 +178,7 @@ Efuse_CalculateWordCnts(u8	word_en)
 //
 void
 ReadEFuseByte(
-		PADAPTER	Adapter,
+		struct rtw_adapter *	Adapter,
 		u16			_offset,
 		u8			*pbuf,
 		bool	bPseudoTest)
@@ -246,7 +246,7 @@ ReadEFuseByte(
 
 void
 efuse_ReadEFuse(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8		efuseType,
 	u16		_offset,
 	u16		_size_byte,
@@ -255,7 +255,7 @@ efuse_ReadEFuse(
 	);
 void
 efuse_ReadEFuse(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8		efuseType,
 	u16		_offset,
 	u16		_size_byte,
@@ -268,7 +268,7 @@ efuse_ReadEFuse(
 
 void
 EFUSE_GetEfuseDefinition(
-		PADAPTER	pAdapter,
+		struct rtw_adapter *	pAdapter,
 		u8		efuseType,
 		u8		type,
 		void		*pOut,
@@ -296,7 +296,7 @@ EFUSE_GetEfuseDefinition(
  *---------------------------------------------------------------------------*/
 u8
 EFUSE_Read1Byte(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u16		Address)
 {
 	u8	data;
@@ -361,12 +361,12 @@ EFUSE_Read1Byte(
 
 void
 EFUSE_Write1Byte(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u16		Address,
 	u8		Value);
 void
 EFUSE_Write1Byte(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u16		Address,
 	u8		Value)
 {
@@ -414,7 +414,7 @@ EFUSE_Write1Byte(
 /*  11/16/2008 MH Read one byte from real Efuse. */
 u8
 efuse_OneByteRead(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u16			addr,
 	u8			*data,
 	bool		bPseudoTest)
@@ -455,7 +455,7 @@ efuse_OneByteRead(
 /*  11/16/2008 MH Write one byte to reald Efuse. */
 u8
 efuse_OneByteWrite(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u16			addr,
 	u8			data,
 	bool		bPseudoTest)
@@ -498,7 +498,7 @@ efuse_OneByteWrite(
 }
 
 int
-Efuse_PgPacketRead(	PADAPTER	pAdapter,
+Efuse_PgPacketRead(	struct rtw_adapter *	pAdapter,
 					u8			offset,
 					u8			*data,
 					bool		bPseudoTest)
@@ -511,7 +511,7 @@ Efuse_PgPacketRead(	PADAPTER	pAdapter,
 }
 
 int
-Efuse_PgPacketWrite(PADAPTER	pAdapter,
+Efuse_PgPacketWrite(struct rtw_adapter *	pAdapter,
 					u8			offset,
 					u8			word_en,
 					u8			*data,
@@ -570,7 +570,7 @@ efuse_WordEnableDataRead(u8	word_en,
 
 
 u8
-Efuse_WordEnableDataWrite(	PADAPTER	pAdapter,
+Efuse_WordEnableDataWrite(	struct rtw_adapter *	pAdapter,
 							u16		efuse_addr,
 							u8		word_en,
 							u8		*data,
@@ -583,12 +583,12 @@ Efuse_WordEnableDataWrite(	PADAPTER	pAda
 	return ret;
 }
 
-static u8 efuse_read8(PADAPTER padapter, u16 address, u8 *value)
+static u8 efuse_read8(struct rtw_adapter * padapter, u16 address, u8 *value)
 {
 	return efuse_OneByteRead(padapter,address, value, false);
 }
 
-static u8 efuse_write8(PADAPTER padapter, u16 address, u8 *value)
+static u8 efuse_write8(struct rtw_adapter * padapter, u16 address, u8 *value)
 {
 	return efuse_OneByteWrite(padapter,address, *value, false);
 }
@@ -596,12 +596,12 @@ static u8 efuse_write8(PADAPTER padapter
 /*
  * read/wirte raw efuse data
  */
-u8 rtw_efuse_access(PADAPTER padapter, u8 bWrite, u16 start_addr, u16 cnts, u8 *data)
+u8 rtw_efuse_access(struct rtw_adapter * padapter, u8 bWrite, u16 start_addr, u16 cnts, u8 *data)
 {
 	int i = 0;
 	u16	real_content_len = 0, max_available_size = 0;
 	u8 res = _FAIL ;
-	u8 (*rw8)(PADAPTER, u16, u8*);
+	u8 (*rw8)(struct rtw_adapter *, u16, u8*);
 
 	EFUSE_GetEfuseDefinition(padapter, EFUSE_WIFI, TYPE_EFUSE_REAL_CONTENT_LEN, (void *)&real_content_len, false);
 	EFUSE_GetEfuseDefinition(padapter, EFUSE_WIFI, TYPE_AVAILABLE_EFUSE_BYTES_TOTAL, (void *)&max_available_size, false);
@@ -634,14 +634,14 @@ u8 rtw_efuse_access(PADAPTER padapter, u
 	return res;
 }
 //------------------------------------------------------------------------------
-u16 efuse_GetMaxSize(PADAPTER padapter)
+u16 efuse_GetMaxSize(struct rtw_adapter * padapter)
 {
 	u16	max_size;
 	EFUSE_GetEfuseDefinition(padapter, EFUSE_WIFI , TYPE_AVAILABLE_EFUSE_BYTES_TOTAL, (void *)&max_size, false);
 	return max_size;
 }
 //------------------------------------------------------------------------------
-u8 efuse_GetCurrentSize(PADAPTER padapter, u16 *size)
+u8 efuse_GetCurrentSize(struct rtw_adapter * padapter, u16 *size)
 {
 	Efuse_PowerSwitch(padapter, false, true);
 	*size = Efuse_GetCurrentSize(padapter, EFUSE_WIFI, false);
@@ -650,7 +650,7 @@ u8 efuse_GetCurrentSize(PADAPTER padapte
 	return _SUCCESS;
 }
 //------------------------------------------------------------------------------
-u8 rtw_efuse_map_read(PADAPTER padapter, u16 addr, u16 cnts, u8 *data)
+u8 rtw_efuse_map_read(struct rtw_adapter * padapter, u16 addr, u16 cnts, u8 *data)
 {
 	u16	mapLen=0;
 
@@ -668,7 +668,7 @@ u8 rtw_efuse_map_read(PADAPTER padapter,
 	return _SUCCESS;
 }
 //------------------------------------------------------------------------------
-u8 rtw_efuse_map_write(PADAPTER padapter, u16 addr, u16 cnts, u8 *data)
+u8 rtw_efuse_map_write(struct rtw_adapter * padapter, u16 addr, u16 cnts, u8 *data)
 {
 	u8	offset, word_en;
 	u8	*map;
@@ -783,13 +783,13 @@ exit:
  *---------------------------------------------------------------------------*/
 void
 Efuse_ReadAllMap(
-		PADAPTER	pAdapter,
+		struct rtw_adapter *	pAdapter,
 		u8		efuseType,
 	u8		*Efuse,
 		bool		bPseudoTest);
 void
 Efuse_ReadAllMap(
-		PADAPTER	pAdapter,
+		struct rtw_adapter *	pAdapter,
 		u8		efuseType,
 	u8		*Efuse,
 		bool		bPseudoTest)
@@ -825,7 +825,7 @@ Efuse_ReadAllMap(
  *---------------------------------------------------------------------------*/
 static void
 efuse_ShadowRead1Byte(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u16		Offset,
 	u8		*Value)
 {
@@ -838,7 +838,7 @@ efuse_ShadowRead1Byte(
 //---------------Read Two Bytes
 static void
 efuse_ShadowRead2Byte(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u16		Offset,
 	u16		*Value)
 {
@@ -852,7 +852,7 @@ efuse_ShadowRead2Byte(
 //---------------Read Four Bytes
 static void
 efuse_ShadowRead4Byte(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u16		Offset,
 	u32		*Value)
 {
@@ -886,7 +886,7 @@ efuse_ShadowRead4Byte(
  *---------------------------------------------------------------------------*/
 static void
 efuse_ShadowWrite1Byte(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u16		Offset,
 	u8		Value)
 {
@@ -899,7 +899,7 @@ efuse_ShadowWrite1Byte(
 //---------------Write Two Bytes
 static void
 efuse_ShadowWrite2Byte(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u16		Offset,
 	u16		Value)
 {
@@ -913,7 +913,7 @@ efuse_ShadowWrite2Byte(
 //---------------Write Four Bytes
 static void
 efuse_ShadowWrite4Byte(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u16		Offset,
 	u32		Value)
 {
@@ -943,7 +943,7 @@ efuse_ShadowWrite4Byte(
  *
  *---------------------------------------------------------------------------*/
 void EFUSE_ShadowMapUpdate(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u8		efuseType,
 	bool	bPseudoTest)
 {
@@ -993,7 +993,7 @@ void EFUSE_ShadowMapUpdate(
  *---------------------------------------------------------------------------*/
 void
 EFUSE_ShadowRead(
-		PADAPTER	pAdapter,
+		struct rtw_adapter *	pAdapter,
 		u8		Type,
 		u16		Offset,
 	u32		*Value	)
@@ -1025,13 +1025,13 @@ EFUSE_ShadowRead(
  *---------------------------------------------------------------------------*/
 void
 EFUSE_ShadowWrite(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u8		Type,
 	u16		Offset,
 	u32		Value);
 void
 EFUSE_ShadowWrite(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u8		Type,
 	u16		Offset,
 	u32		Value)
@@ -1051,11 +1051,11 @@ EFUSE_ShadowWrite(
 
 void
 Efuse_InitSomeVar(
-		PADAPTER	pAdapter
+		struct rtw_adapter *	pAdapter
 	);
 void
 Efuse_InitSomeVar(
-		PADAPTER	pAdapter
+		struct rtw_adapter *	pAdapter
 	)
 {
 	u8 i;
--- a/drivers/staging/rtl8192du/core/rtw_io.c
+++ b/drivers/staging/rtl8192du/core/rtw_io.c
@@ -47,7 +47,7 @@ jackson@realtek.com.tw
 #include <osdep_intf.h>
 #include <usb_ops.h>
 
-u8 _rtw_read8(_adapter *adapter, u32 addr)
+u8 _rtw_read8(struct rtw_adapter *adapter, u32 addr)
 {
 	u8 r_val;
 	//struct	io_queue	*pio_queue = (struct io_queue *)adapter->pio_queue;
@@ -62,7 +62,7 @@ u8 _rtw_read8(_adapter *adapter, u32 add
 	return r_val;
 }
 
-u16 _rtw_read16(_adapter *adapter, u32 addr)
+u16 _rtw_read16(struct rtw_adapter *adapter, u32 addr)
 {
 	u16 r_val;
 	//struct	io_queue	*pio_queue = (struct io_queue *)adapter->pio_queue;
@@ -77,7 +77,7 @@ u16 _rtw_read16(_adapter *adapter, u32 a
 	return r_val;
 }
 
-u32 _rtw_read32(_adapter *adapter, u32 addr)
+u32 _rtw_read32(struct rtw_adapter *adapter, u32 addr)
 {
 	u32 r_val;
 	//struct	io_queue	*pio_queue = (struct io_queue *)adapter->pio_queue;
@@ -93,7 +93,7 @@ u32 _rtw_read32(_adapter *adapter, u32 a
 
 }
 
-int _rtw_write8(_adapter *adapter, u32 addr, u8 val)
+int _rtw_write8(struct rtw_adapter *adapter, u32 addr, u8 val)
 {
 	//struct	io_queue	*pio_queue = (struct io_queue *)adapter->pio_queue;
 	struct io_priv *pio_priv = &adapter->iopriv;
@@ -108,7 +108,7 @@ int _rtw_write8(_adapter *adapter, u32 a
 
 	return RTW_STATUS_CODE(ret);
 }
-int _rtw_write16(_adapter *adapter, u32 addr, u16 val)
+int _rtw_write16(struct rtw_adapter *adapter, u32 addr, u16 val)
 {
 	//struct	io_queue	*pio_queue = (struct io_queue *)adapter->pio_queue;
 	struct io_priv *pio_priv = &adapter->iopriv;
@@ -123,7 +123,7 @@ int _rtw_write16(_adapter *adapter, u32
 
 	return RTW_STATUS_CODE(ret);
 }
-int _rtw_write32(_adapter *adapter, u32 addr, u32 val)
+int _rtw_write32(struct rtw_adapter *adapter, u32 addr, u32 val)
 {
 	//struct	io_queue	*pio_queue = (struct io_queue *)adapter->pio_queue;
 	struct io_priv *pio_priv = &adapter->iopriv;
@@ -139,7 +139,7 @@ int _rtw_write32(_adapter *adapter, u32
 	return RTW_STATUS_CODE(ret);
 }
 
-int _rtw_writeN(_adapter *adapter, u32 addr ,u32 length , u8 *pdata)
+int _rtw_writeN(struct rtw_adapter *adapter, u32 addr ,u32 length , u8 *pdata)
 {
 	//struct	io_queue	*pio_queue = (struct io_queue *)adapter->pio_queue;
 	struct io_priv *pio_priv = &adapter->iopriv;
@@ -154,7 +154,7 @@ int _rtw_writeN(_adapter *adapter, u32 a
 
 	return RTW_STATUS_CODE(ret);
 }
-int _rtw_write8_async(_adapter *adapter, u32 addr, u8 val)
+int _rtw_write8_async(struct rtw_adapter *adapter, u32 addr, u8 val)
 {
 	//struct	io_queue	*pio_queue = (struct io_queue *)adapter->pio_queue;
 	struct io_priv *pio_priv = &adapter->iopriv;
@@ -169,7 +169,7 @@ int _rtw_write8_async(_adapter *adapter,
 
 	return RTW_STATUS_CODE(ret);
 }
-int _rtw_write16_async(_adapter *adapter, u32 addr, u16 val)
+int _rtw_write16_async(struct rtw_adapter *adapter, u32 addr, u16 val)
 {
 	//struct	io_queue	*pio_queue = (struct io_queue *)adapter->pio_queue;
 	struct io_priv *pio_priv = &adapter->iopriv;
@@ -184,7 +184,7 @@ int _rtw_write16_async(_adapter *adapter
 
 	return RTW_STATUS_CODE(ret);
 }
-int _rtw_write32_async(_adapter *adapter, u32 addr, u32 val)
+int _rtw_write32_async(struct rtw_adapter *adapter, u32 addr, u32 val)
 {
 	//struct	io_queue	*pio_queue = (struct io_queue *)adapter->pio_queue;
 	struct io_priv *pio_priv = &adapter->iopriv;
@@ -199,7 +199,7 @@ int _rtw_write32_async(_adapter *adapter
 
 	return RTW_STATUS_CODE(ret);
 }
-void _rtw_read_mem(_adapter *adapter, u32 addr, u32 cnt, u8 *pmem)
+void _rtw_read_mem(struct rtw_adapter *adapter, u32 addr, u32 cnt, u8 *pmem)
 {
 	void (*_read_mem)(struct intf_hdl *pintfhdl, u32 addr, u32 cnt, u8 *pmem);
 	//struct	io_queue	*pio_queue = (struct io_queue *)adapter->pio_queue;
@@ -222,7 +222,7 @@ void _rtw_read_mem(_adapter *adapter, u3
 
 }
 
-void _rtw_write_mem(_adapter *adapter, u32 addr, u32 cnt, u8 *pmem)
+void _rtw_write_mem(struct rtw_adapter *adapter, u32 addr, u32 cnt, u8 *pmem)
 {
 	void (*_write_mem)(struct intf_hdl *pintfhdl, u32 addr, u32 cnt, u8 *pmem);
 	//struct	io_queue	*pio_queue = (struct io_queue *)adapter->pio_queue;
@@ -239,7 +239,7 @@ void _rtw_write_mem(_adapter *adapter, u
 
 }
 
-void _rtw_read_port(_adapter *adapter, u32 addr, u32 cnt, u8 *pmem)
+void _rtw_read_port(struct rtw_adapter *adapter, u32 addr, u32 cnt, u8 *pmem)
 {
 	u32 (*_read_port)(struct intf_hdl *pintfhdl, u32 addr, u32 cnt, u8 *pmem);
 	//struct	io_queue	*pio_queue = (struct io_queue *)adapter->pio_queue;
@@ -262,7 +262,7 @@ void _rtw_read_port(_adapter *adapter, u
 
 }
 
-void _rtw_read_port_cancel(_adapter *adapter)
+void _rtw_read_port_cancel(struct rtw_adapter *adapter)
 {
 	void (*_read_port_cancel)(struct intf_hdl *pintfhdl);
 	struct io_priv *pio_priv = &adapter->iopriv;
@@ -275,7 +275,7 @@ void _rtw_read_port_cancel(_adapter *ada
 
 }
 
-u32 _rtw_write_port(_adapter *adapter, u32 addr, u32 cnt, u8 *pmem)
+u32 _rtw_write_port(struct rtw_adapter *adapter, u32 addr, u32 cnt, u8 *pmem)
 {
 	u32 (*_write_port)(struct intf_hdl *pintfhdl, u32 addr, u32 cnt, u8 *pmem);
 	//struct	io_queue	*pio_queue = (struct io_queue *)adapter->pio_queue;
@@ -294,7 +294,7 @@ u32 _rtw_write_port(_adapter *adapter, u
 	return ret;
 }
 
-u32 _rtw_write_port_and_wait(_adapter *adapter, u32 addr, u32 cnt, u8 *pmem, int timeout_ms)
+u32 _rtw_write_port_and_wait(struct rtw_adapter *adapter, u32 addr, u32 cnt, u8 *pmem, int timeout_ms)
 {
 	int ret = _SUCCESS;
 	struct xmit_buf *pxmitbuf = (struct xmit_buf *)pmem;
@@ -311,7 +311,7 @@ u32 _rtw_write_port_and_wait(_adapter *a
 	 return ret;
 }
 
-void _rtw_write_port_cancel(_adapter *adapter)
+void _rtw_write_port_cancel(struct rtw_adapter *adapter)
 {
 	void (*_write_port_cancel)(struct intf_hdl *pintfhdl);
 	struct io_priv *pio_priv = &adapter->iopriv;
@@ -324,7 +324,7 @@ void _rtw_write_port_cancel(_adapter *ad
 
 }
 
-int rtw_init_io_priv(_adapter *padapter, void (*set_intf_ops)(struct _io_ops *pops))
+int rtw_init_io_priv(struct rtw_adapter *padapter, void (*set_intf_ops)(struct _io_ops *pops))
 {
 	struct io_priv	*piopriv = &padapter->iopriv;
 	struct intf_hdl *pintf = &piopriv->intf;
@@ -377,7 +377,7 @@ bool match_write_sniff_ranges(u16 addr,
 	return false;
 }
 
-u8 dbg_rtw_read8(_adapter *adapter, u32 addr, const char *caller, const int line)
+u8 dbg_rtw_read8(struct rtw_adapter *adapter, u32 addr, const char *caller, const int line)
 {
 	u8 val = _rtw_read8(adapter, addr);
 
@@ -387,7 +387,7 @@ u8 dbg_rtw_read8(_adapter *adapter, u32
 	return val;
 }
 
-u16 dbg_rtw_read16(_adapter *adapter, u32 addr, const char *caller, const int line)
+u16 dbg_rtw_read16(struct rtw_adapter *adapter, u32 addr, const char *caller, const int line)
 {
 	u16 val = _rtw_read16(adapter, addr);
 
@@ -397,7 +397,7 @@ u16 dbg_rtw_read16(_adapter *adapter, u3
 	return val;
 }
 
-u32 dbg_rtw_read32(_adapter *adapter, u32 addr, const char *caller, const int line)
+u32 dbg_rtw_read32(struct rtw_adapter *adapter, u32 addr, const char *caller, const int line)
 {
 	u32 val = _rtw_read32(adapter, addr);
 
@@ -407,28 +407,28 @@ u32 dbg_rtw_read32(_adapter *adapter, u3
 	return val;
 }
 
-int dbg_rtw_write8(_adapter *adapter, u32 addr, u8 val, const char *caller, const int line)
+int dbg_rtw_write8(struct rtw_adapter *adapter, u32 addr, u8 val, const char *caller, const int line)
 {
 	if (match_write_sniff_ranges(addr, 1))
 		DBG_871X("DBG_IO %s:%d rtw_write8(0x%04x, 0x%02x)\n", caller, line, addr, val);
 
 	return _rtw_write8(adapter, addr, val);
 }
-int dbg_rtw_write16(_adapter *adapter, u32 addr, u16 val, const char *caller, const int line)
+int dbg_rtw_write16(struct rtw_adapter *adapter, u32 addr, u16 val, const char *caller, const int line)
 {
 	if (match_write_sniff_ranges(addr, 2))
 		DBG_871X("DBG_IO %s:%d rtw_write16(0x%04x, 0x%04x)\n", caller, line, addr, val);
 
 	return _rtw_write16(adapter, addr, val);
 }
-int dbg_rtw_write32(_adapter *adapter, u32 addr, u32 val, const char *caller, const int line)
+int dbg_rtw_write32(struct rtw_adapter *adapter, u32 addr, u32 val, const char *caller, const int line)
 {
 	if (match_write_sniff_ranges(addr, 4))
 		DBG_871X("DBG_IO %s:%d rtw_write32(0x%04x, 0x%08x)\n", caller, line, addr, val);
 
 	return _rtw_write32(adapter, addr, val);
 }
-int dbg_rtw_writeN(_adapter *adapter, u32 addr ,u32 length , u8 *data, const char *caller, const int line)
+int dbg_rtw_writeN(struct rtw_adapter *adapter, u32 addr ,u32 length , u8 *data, const char *caller, const int line)
 {
 	if (match_write_sniff_ranges(addr, length))
 		DBG_871X("DBG_IO %s:%d rtw_writeN(0x%04x, %u)\n", caller, line, addr, length);
--- a/drivers/staging/rtl8192du/core/rtw_ioctl_set.c
+++ b/drivers/staging/rtl8192du/core/rtw_ioctl_set.c
@@ -28,7 +28,7 @@
 #include <usb_osintf.h>
 #include <usb_ops.h>
 
-extern void indicate_wx_scan_complete_event(_adapter *padapter);
+extern void indicate_wx_scan_complete_event(struct rtw_adapter *padapter);
 
 #define IS_MAC_ADDRESS_BROADCAST(addr) \
 ( \
@@ -67,8 +67,8 @@ _func_exit_;
 	return ret;
 }
 
-u8 rtw_do_join(_adapter * padapter);
-u8 rtw_do_join(_adapter * padapter)
+u8 rtw_do_join(struct rtw_adapter * padapter);
+u8 rtw_do_join(struct rtw_adapter * padapter)
 {
 	struct list_head *plist, *phead;
 	u8* pibss = NULL;
@@ -207,7 +207,7 @@ _func_exit_;
 }
 
 
-u8 rtw_set_802_11_bssid(_adapter* padapter, u8 *bssid)
+u8 rtw_set_802_11_bssid(struct rtw_adapter* padapter, u8 *bssid)
 {
 	u8 status=_SUCCESS;
 	u32 cur_time = 0;
@@ -303,7 +303,7 @@ _func_exit_;
 	return status;
 }
 
-u8 rtw_set_802_11_ssid(_adapter* padapter, struct ndis_802_11_ssid *ssid)
+u8 rtw_set_802_11_ssid(struct rtw_adapter* padapter, struct ndis_802_11_ssid *ssid)
 {
 	u8 status = _SUCCESS;
 	u32 cur_time = 0;
@@ -445,7 +445,7 @@ rtw_set_802_11_infrastructure_mode(~)
 	### NOTE:#### (!!!!)
 	MUST TAKE CARE THAT BEFORE CALLING THIS FUNC, YOU SHOULD HAVE LOCKED pmlmepriv->lock and scanned_queue->lock in sequence
 */
-u8 rtw_set_802_11_infrastructure_mode(_adapter* padapter,
+u8 rtw_set_802_11_infrastructure_mode(struct rtw_adapter* padapter,
 	enum NDIS_802_11_NETWORK_INFRASTRUCTURE networktype)
 {
 	struct	mlme_priv	*pmlmepriv = &padapter->mlmepriv;
@@ -529,7 +529,7 @@ _func_exit_;
 }
 
 
-u8 rtw_set_802_11_disassociate(_adapter *padapter)
+u8 rtw_set_802_11_disassociate(struct rtw_adapter *padapter)
 {
 	struct mlme_priv * pmlmepriv = &padapter->mlmepriv;
 
@@ -553,7 +553,7 @@ _func_exit_;
 	return true;
 }
 
-u8 rtw_set_802_11_bssid_list_scan(_adapter* padapter, struct ndis_802_11_ssid *pssid, int ssid_max_num)
+u8 rtw_set_802_11_bssid_list_scan(struct rtw_adapter* padapter, struct ndis_802_11_ssid *pssid, int ssid_max_num)
 {
 	struct	mlme_priv		*pmlmepriv= &padapter->mlmepriv;
 	u8	res=true;
@@ -604,7 +604,7 @@ _func_exit_;
 	return res;
 }
 
-u8 rtw_set_802_11_authentication_mode(_adapter* padapter, enum NDIS_802_11_AUTHENTICATION_MODE authmode)
+u8 rtw_set_802_11_authentication_mode(struct rtw_adapter* padapter, enum NDIS_802_11_AUTHENTICATION_MODE authmode)
 {
 	struct security_priv *psecuritypriv = &padapter->securitypriv;
 	int res;
@@ -633,7 +633,7 @@ _func_exit_;
 	return ret;
 }
 
-u8 rtw_set_802_11_add_wep(_adapter* padapter, NDIS_802_11_WEP *wep){
+u8 rtw_set_802_11_add_wep(struct rtw_adapter* padapter, NDIS_802_11_WEP *wep){
 
 	u8		bdefaultkey;
 	u8		btransmitkey;
@@ -697,7 +697,7 @@ _func_exit_;
 
 }
 
-u8 rtw_set_802_11_remove_wep(_adapter* padapter, u32 keyindex){
+u8 rtw_set_802_11_remove_wep(struct rtw_adapter* padapter, u32 keyindex){
 
 	u8 ret=_SUCCESS;
 
@@ -740,7 +740,7 @@ _func_exit_;
 
 }
 
-u8 rtw_set_802_11_add_key(_adapter* padapter, NDIS_802_11_KEY *key){
+u8 rtw_set_802_11_add_key(struct rtw_adapter* padapter, NDIS_802_11_KEY *key){
 
 	uint	encryptionalgo;
 	u8 * pbssid;
@@ -1105,7 +1105,7 @@ _func_exit_;
 	return ret;
 }
 
-u8 rtw_set_802_11_remove_key(_adapter*	padapter, NDIS_802_11_REMOVE_KEY *key){
+u8 rtw_set_802_11_remove_key(struct rtw_adapter*	padapter, NDIS_802_11_REMOVE_KEY *key){
 
 	uint				encryptionalgo;
 	u8 * pbssid;
@@ -1164,7 +1164,7 @@ _func_exit_;
 *
 * Return 0 or 100Kbps
 */
-u16 rtw_get_cur_max_rate(_adapter *adapter)
+u16 rtw_get_cur_max_rate(struct rtw_adapter *adapter)
 {
 	int	i = 0;
 	u8	*p;
@@ -1245,7 +1245,7 @@ u16 rtw_get_cur_max_rate(_adapter *adapt
 *
 * Return _SUCCESS or _FAIL
 */
-int rtw_set_scan_mode(_adapter *adapter, enum RT_SCAN_TYPE scan_mode)
+int rtw_set_scan_mode(struct rtw_adapter *adapter, enum RT_SCAN_TYPE scan_mode)
 {
 	if(scan_mode != SCAN_ACTIVE && scan_mode != SCAN_PASSIVE)
 		return _FAIL;
@@ -1262,7 +1262,7 @@ int rtw_set_scan_mode(_adapter *adapter,
 *
 * Return _SUCCESS or _FAIL
 */
-int rtw_set_channel_plan(_adapter *adapter, u8 channel_plan)
+int rtw_set_channel_plan(struct rtw_adapter *adapter, u8 channel_plan)
 {
 	struct registry_priv *pregistrypriv = &adapter->registrypriv;
 	struct mlme_priv *pmlmepriv = &adapter->mlmepriv;
@@ -1278,7 +1278,7 @@ int rtw_set_channel_plan(_adapter *adapt
 *
 * Return _SUCCESS or _FAIL
 */
-int rtw_set_country(_adapter *adapter, const char *country_code)
+int rtw_set_country(struct rtw_adapter *adapter, const char *country_code)
 {
 	int channel_plan = RT_CHANNEL_DOMAIN_WORLD_WIDE_5G;
 
--- a/drivers/staging/rtl8192du/core/rtw_mlme.c
+++ b/drivers/staging/rtl8192du/core/rtw_mlme.c
@@ -32,8 +32,8 @@
 #include <wlan_bssdef.h>
 #include <rtw_ioctl_set.h>
 
-extern void indicate_wx_scan_complete_event(_adapter *padapter);
-extern u8 rtw_do_join(_adapter * padapter);
+extern void indicate_wx_scan_complete_event(struct rtw_adapter *padapter);
+extern u8 rtw_do_join(struct rtw_adapter * padapter);
 
 #ifdef CONFIG_DISABLE_MCS13TO15
 extern unsigned char	MCS_rate_2R_MCS13TO15_OFF[16];
@@ -43,7 +43,7 @@ extern unsigned char	MCS_rate_2R[16];
 #endif //CONFIG_DISABLE_MCS13TO15
 extern unsigned char	MCS_rate_1R[16];
 
-int	_rtw_init_mlme_priv (_adapter* padapter)
+int	_rtw_init_mlme_priv (struct rtw_adapter* padapter)
 {
 	int	i;
 	u8	*pbuf;
@@ -369,7 +369,7 @@ _func_exit_;
 }
 
 
-void _rtw_free_network_queue(_adapter *padapter, u8 isfreeall)
+void _rtw_free_network_queue(struct rtw_adapter *padapter, u8 isfreeall)
 {
 	struct list_head *phead, *plist;
 	struct wlan_network *pnetwork;
@@ -404,7 +404,7 @@ _func_exit_;
 
 
 
-int rtw_if_up(_adapter *padapter)	{
+int rtw_if_up(struct rtw_adapter *padapter)	{
 
 	int res;
 _func_enter_;
@@ -465,7 +465,7 @@ u8 *rtw_get_beacon_interval_from_ie(u8 *
 }
 
 
-int	rtw_init_mlme_priv (_adapter *padapter)//(struct	mlme_priv *pmlmepriv)
+int	rtw_init_mlme_priv (struct rtw_adapter *padapter)//(struct	mlme_priv *pmlmepriv)
 {
 	int	res;
 _func_enter_;
@@ -528,7 +528,7 @@ _func_exit_;
 }
 
 
-void rtw_free_network_queue(_adapter* dev, u8 isfreeall)
+void rtw_free_network_queue(struct rtw_adapter* dev, u8 isfreeall)
 {
 _func_enter_;
 	_rtw_free_network_queue(dev, isfreeall);
@@ -547,7 +547,7 @@ struct	wlan_network *rtw_find_network(st
 	return pnetwork;
 }
 
-int rtw_is_same_ibss(_adapter *adapter, struct wlan_network *pnetwork)
+int rtw_is_same_ibss(struct rtw_adapter *adapter, struct wlan_network *pnetwork)
 {
 	int ret=true;
 	struct security_priv *psecuritypriv = &adapter->securitypriv;
@@ -638,7 +638,7 @@ _func_exit_;
 }
 
 static void update_network(WLAN_BSSID_EX *dst, WLAN_BSSID_EX *src,
-	_adapter * padapter, bool update_ie)
+	struct rtw_adapter * padapter, bool update_ie)
 {
 	u8 ss_ori = dst->PhyInfo.SignalStrength;
 	u8 sq_ori = dst->PhyInfo.SignalQuality;
@@ -711,7 +711,7 @@ _func_enter_;
 _func_exit_;
 }
 
-static void update_current_network(_adapter *adapter, WLAN_BSSID_EX *pnetwork)
+static void update_current_network(struct rtw_adapter *adapter, WLAN_BSSID_EX *pnetwork)
 {
 	struct	mlme_priv	*pmlmepriv = &(adapter->mlmepriv);
 
@@ -740,7 +740,7 @@ Caller must hold pmlmepriv->lock first.
 
 
 */
-void rtw_update_scanned_network(_adapter *adapter, WLAN_BSSID_EX *target)
+void rtw_update_scanned_network(struct rtw_adapter *adapter, WLAN_BSSID_EX *target)
 {
 	struct list_head *plist, *phead;
 	u32	bssid_ex_sz;
@@ -855,10 +855,10 @@ exit:
 _func_exit_;
 }
 
-void rtw_add_network(_adapter *adapter, WLAN_BSSID_EX *pnetwork);
-void rtw_add_network(_adapter *adapter, WLAN_BSSID_EX *pnetwork)
+void rtw_add_network(struct rtw_adapter *adapter, WLAN_BSSID_EX *pnetwork);
+void rtw_add_network(struct rtw_adapter *adapter, WLAN_BSSID_EX *pnetwork)
 {
-	struct	mlme_priv	*pmlmepriv = &(((_adapter *)adapter)->mlmepriv);
+	struct	mlme_priv	*pmlmepriv = &(((struct rtw_adapter *)adapter)->mlmepriv);
 
 _func_enter_;
 
@@ -883,8 +883,8 @@ _func_exit_;
 //			   (3) WMM
 //			   (4) HT
 //                     (5) others
-int rtw_is_desired_network(_adapter *adapter, struct wlan_network *pnetwork);
-int rtw_is_desired_network(_adapter *adapter, struct wlan_network *pnetwork)
+int rtw_is_desired_network(struct rtw_adapter *adapter, struct wlan_network *pnetwork);
+int rtw_is_desired_network(struct rtw_adapter *adapter, struct wlan_network *pnetwork)
 {
 	struct security_priv *psecuritypriv = &adapter->securitypriv;
 	struct mlme_priv *pmlmepriv = &adapter->mlmepriv;
@@ -933,7 +933,7 @@ int rtw_is_desired_network(_adapter *ada
 }
 
 /* TODO: Perry : For Power Management */
-void rtw_atimdone_event_callback(_adapter	*adapter , u8 *pbuf)
+void rtw_atimdone_event_callback(struct rtw_adapter	*adapter , u8 *pbuf)
 {
 
 _func_enter_;
@@ -943,7 +943,7 @@ _func_exit_;
 }
 
 
-void rtw_survey_event_callback(_adapter	*adapter, u8 *pbuf)
+void rtw_survey_event_callback(struct rtw_adapter	*adapter, u8 *pbuf)
 {
 	u32 len;
 	WLAN_BSSID_EX *pnetwork;
@@ -1004,7 +1004,7 @@ _func_exit_;
 
 
 
-void rtw_surveydone_event_callback(_adapter	*adapter, u8 *pbuf)
+void rtw_surveydone_event_callback(struct rtw_adapter	*adapter, u8 *pbuf)
 {
 	struct	mlme_priv	*pmlmepriv = &(adapter->mlmepriv);
 #ifdef CONFIG_MLME_EXT
@@ -1169,12 +1169,12 @@ _func_exit_;
 
 }
 
-void rtw_dummy_event_callback(_adapter *adapter , u8 *pbuf)
+void rtw_dummy_event_callback(struct rtw_adapter *adapter , u8 *pbuf)
 {
 
 }
 
-void rtw_fwdbg_event_callback(_adapter *adapter , u8 *pbuf)
+void rtw_fwdbg_event_callback(struct rtw_adapter *adapter , u8 *pbuf)
 {
 
 }
@@ -1212,7 +1212,7 @@ _func_exit_;
 /*
 *rtw_free_assoc_resources: the caller has to lock pmlmepriv->lock
 */
-void rtw_free_assoc_resources(_adapter *adapter, int lock_scanned_queue)
+void rtw_free_assoc_resources(struct rtw_adapter *adapter, int lock_scanned_queue)
 {
 	struct wlan_network* pwlan = NULL;
 	struct	mlme_priv *pmlmepriv = &adapter->mlmepriv;
@@ -1299,7 +1299,7 @@ _func_exit_;
 /*
 *rtw_indicate_connect: the caller has to lock pmlmepriv->lock
 */
-void rtw_indicate_connect(_adapter *padapter)
+void rtw_indicate_connect(struct rtw_adapter *padapter)
 {
 	struct mlme_priv	*pmlmepriv = &padapter->mlmepriv;
 	struct xmit_priv	*pxmitpriv = &padapter->xmitpriv;
@@ -1356,7 +1356,7 @@ _func_exit_;
 /*
 *rtw_indicate_disconnect: the caller has to lock pmlmepriv->lock
 */
-void rtw_indicate_disconnect( _adapter *padapter )
+void rtw_indicate_disconnect(struct rtw_adapter *padapter )
 {
 	struct	mlme_priv *pmlmepriv = &padapter->mlmepriv;
 
@@ -1398,12 +1398,12 @@ _func_enter_;
 _func_exit_;
 }
 
-inline void rtw_indicate_scan_done( _adapter *padapter, bool aborted)
+inline void rtw_indicate_scan_done(struct rtw_adapter *padapter, bool aborted)
 {
 	rtw_os_indicate_scan_done(padapter, aborted);
 }
 
-void rtw_scan_abort(_adapter *adapter)
+void rtw_scan_abort(struct rtw_adapter *adapter)
 {
 	u32 cnt=0;
 	u32 start;
@@ -1430,7 +1430,7 @@ void rtw_scan_abort(_adapter *adapter)
 	pmlmeext->scan_abort = false;
 }
 
-static struct sta_info *rtw_joinbss_update_stainfo(_adapter *padapter, struct wlan_network *pnetwork)
+static struct sta_info *rtw_joinbss_update_stainfo(struct rtw_adapter *padapter, struct wlan_network *pnetwork)
 {
 	int i;
 	struct sta_info *bmc_sta, *psta=NULL;
@@ -1537,7 +1537,7 @@ static struct sta_info *rtw_joinbss_upda
 
 //pnetwork : returns from rtw_joinbss_event_callback
 //ptarget_wlan: found from scanned_queue
-static void rtw_joinbss_update_network(_adapter *padapter, struct wlan_network *ptarget_wlan, struct wlan_network  *pnetwork)
+static void rtw_joinbss_update_network(struct rtw_adapter *padapter, struct wlan_network *ptarget_wlan, struct wlan_network  *pnetwork)
 {
 	struct mlme_priv	*pmlmepriv = &(padapter->mlmepriv);
 	struct wlan_network  *cur_network = &(pmlmepriv->cur_network);
@@ -1612,7 +1612,7 @@ static void rtw_joinbss_update_network(_
 //if join_res > 0, update "cur_network->network" from "pnetwork->network" if (ptarget_wlan !=NULL).
 //
 //#define REJOIN
-void rtw_joinbss_event_prehandle(_adapter *adapter, u8 *pbuf)
+void rtw_joinbss_event_prehandle(struct rtw_adapter *adapter, u8 *pbuf)
 {
 	static u8 retry=0;
 	u8 timer_cancelled;
@@ -1802,7 +1802,7 @@ ignore_joinbss_callback:
 	_func_exit_;
 }
 
-void rtw_joinbss_event_callback(_adapter *adapter, u8 *pbuf)
+void rtw_joinbss_event_callback(struct rtw_adapter *adapter, u8 *pbuf)
 {
 	struct wlan_network	*pnetwork	= (struct wlan_network *)pbuf;
 
@@ -1823,7 +1823,7 @@ _func_enter_;
 _func_exit_;
 }
 
-void rtw_stassoc_event_callback(_adapter *adapter, u8 *pbuf)
+void rtw_stassoc_event_callback(struct rtw_adapter *adapter, u8 *pbuf)
 {
 	struct sta_info *psta;
 	struct mlme_priv *pmlmepriv = &(adapter->mlmepriv);
@@ -1934,7 +1934,7 @@ exit:
 _func_exit_;
 }
 
-void rtw_stadel_event_callback(_adapter *adapter, u8 *pbuf)
+void rtw_stadel_event_callback(struct rtw_adapter *adapter, u8 *pbuf)
 {
 	struct sta_info *psta;
 	struct wlan_network* pwlan = NULL;
@@ -2060,7 +2060,7 @@ _func_exit_;
 }
 
 
-void rtw_cpwm_event_callback(PADAPTER padapter, u8 *pbuf)
+void rtw_cpwm_event_callback(struct rtw_adapter * padapter, u8 *pbuf)
 {
 #ifdef CONFIG_LPS_LCLK
 	struct reportpwrstate_parm *preportpwrstate;
@@ -2083,7 +2083,7 @@ _func_exit_;
 * _rtw_join_timeout_handler - Timeout/faliure handler for CMD JoinBss
 * @adapter: pointer to _adapter structure
 */
-void _rtw_join_timeout_handler (_adapter *adapter)
+void _rtw_join_timeout_handler (struct rtw_adapter *adapter)
 {
 	struct	mlme_priv *pmlmepriv = &adapter->mlmepriv;
 #ifdef CONFIG_LAYER2_ROAMING
@@ -2147,7 +2147,7 @@ _func_exit_;
 * rtw_scan_timeout_handler - Timeout/Faliure handler for CMD SiteSurvey
 * @adapter: pointer to _adapter structure
 */
-void rtw_scan_timeout_handler (_adapter *adapter)
+void rtw_scan_timeout_handler (struct rtw_adapter *adapter)
 {
 	struct	mlme_priv *pmlmepriv = &adapter->mlmepriv;
 
@@ -2163,7 +2163,7 @@ void rtw_scan_timeout_handler (_adapter
 
 }
 
-static void rtw_auto_scan_handler(_adapter *padapter)
+static void rtw_auto_scan_handler(struct rtw_adapter *padapter)
 {
 	struct mlme_priv *pmlmepriv = &padapter->mlmepriv;
 	struct pwrctrl_priv *pwrctrlpriv = &padapter->pwrctrlpriv;
@@ -2212,14 +2212,14 @@ static void rtw_auto_scan_handler(_adapt
 
 }
 
-void rtw_dynamic_check_timer_handlder(_adapter *adapter)
+void rtw_dynamic_check_timer_handlder(struct rtw_adapter *adapter)
 {
 #ifdef CONFIG_AP_MODE
 	struct mlme_priv *pmlmepriv = &adapter->mlmepriv;
 #endif //CONFIG_AP_MODE
 	struct registry_priv *pregistrypriv = &adapter->registrypriv;
 #ifdef CONFIG_CONCURRENT_MODE
-	PADAPTER pbuddy_adapter = adapter->pbuddy_adapter;
+	struct rtw_adapter * pbuddy_adapter = adapter->pbuddy_adapter;
 #endif
 
 	if(!adapter)
@@ -2284,7 +2284,7 @@ void rtw_dynamic_check_timer_handlder(_a
 		&& (check_fwstate(pmlmepriv, WIFI_STATION_STATE|WIFI_ADHOC_STATE) == true) )
 	{
 		// expire NAT2.5 entry
-		void nat25_db_expire(_adapter *priv);
+		void nat25_db_expire(struct rtw_adapter *priv);
 		nat25_db_expire(adapter);
 
 		if (adapter->pppoe_connection_in_progress > 0) {
@@ -2307,13 +2307,13 @@ void rtw_dynamic_check_timer_handlder(_a
 
 
 #ifdef CONFIG_SET_SCAN_DENY_TIMER
-inline bool rtw_is_scan_deny(_adapter *adapter)
+inline bool rtw_is_scan_deny(struct rtw_adapter *adapter)
 {
 	struct mlme_priv *mlmepriv = &adapter->mlmepriv;
 	return (ATOMIC_READ(&mlmepriv->set_scan_deny) != 0) ? true : false;
 }
 
-inline void rtw_clear_scan_deny(_adapter *adapter)
+inline void rtw_clear_scan_deny(struct rtw_adapter *adapter)
 {
 	struct mlme_priv *mlmepriv = &adapter->mlmepriv;
 	ATOMIC_SET(&mlmepriv->set_scan_deny, 0);
@@ -2321,12 +2321,12 @@ inline void rtw_clear_scan_deny(_adapter
 	DBG_8192D(FUNC_ADPT_FMT"\n", FUNC_ADPT_ARG(adapter));
 }
 
-void rtw_set_scan_deny_timer_hdl(_adapter *adapter)
+void rtw_set_scan_deny_timer_hdl(struct rtw_adapter *adapter)
 {
 	rtw_clear_scan_deny(adapter);
 }
 
-void rtw_set_scan_deny(_adapter *adapter, u32 ms)
+void rtw_set_scan_deny(struct rtw_adapter *adapter, u32 ms)
 {
 	struct mlme_priv *mlmepriv = &adapter->mlmepriv;
 #ifdef CONFIG_CONCURRENT_MODE
@@ -2367,7 +2367,7 @@ static int rtw_check_join_candidate(stru
 	, struct wlan_network **candidate, struct wlan_network *competitor)
 {
 	int updated = false;
-	_adapter *adapter = container_of(pmlmepriv, _adapter, mlmepriv);
+	struct rtw_adapter *adapter = container_of(pmlmepriv, struct rtw_adapter, mlmepriv);
 
 
 	//check bssid, if needed
@@ -2438,7 +2438,7 @@ int rtw_select_and_join_from_scanned_que
 {
 	int ret;
 	struct list_head *phead;
-	_adapter *adapter;
+	struct rtw_adapter *adapter;
 	struct __queue *queue = &(pmlmepriv->scanned_queue);
 	struct	wlan_network	*pnetwork = NULL;
 	struct	wlan_network	*candidate = NULL;
@@ -2448,7 +2448,7 @@ _func_enter_;
 
 	spin_lock_bh(&(pmlmepriv->scanned_queue.lock));
 	phead = get_list_head(queue);
-	adapter = (_adapter *)pmlmepriv->nic_hdl;
+	adapter = (struct rtw_adapter *)pmlmepriv->nic_hdl;
 
 	pmlmepriv->pscanned = get_next( phead );
 
@@ -2510,7 +2510,7 @@ _func_exit_;
 	return ret;
 }
 
-int rtw_set_auth(_adapter * adapter,struct security_priv *psecuritypriv)
+int rtw_set_auth(struct rtw_adapter * adapter,struct security_priv *psecuritypriv)
 {
 	struct	cmd_obj* pcmd;
 	struct	setauth_parm *psetauthparm;
@@ -2557,7 +2557,7 @@ _func_exit_;
 }
 
 
-int rtw_set_key(_adapter * adapter,struct security_priv *psecuritypriv,int keyid, u8 set_tx)
+int rtw_set_key(struct rtw_adapter * adapter,struct security_priv *psecuritypriv,int keyid, u8 set_tx)
 {
 	u8	keylen;
 	struct cmd_obj		*pcmd;
@@ -2652,7 +2652,7 @@ _func_exit_;
 
 
 //adjust IEs for rtw_joinbss_cmd in WMM
-int rtw_restruct_wmm_ie(_adapter *adapter, u8 *in_ie, u8 *out_ie, uint in_len, uint initial_out_len)
+int rtw_restruct_wmm_ie(struct rtw_adapter *adapter, u8 *in_ie, u8 *out_ie, uint in_len, uint initial_out_len)
 {
 	unsigned	int ielength=0;
 	unsigned int i, j;
@@ -2706,7 +2706,7 @@ int rtw_restruct_wmm_ie(_adapter *adapte
 //
 //
 
-static int SecIsInPMKIDList(_adapter *Adapter, u8 *bssid)
+static int SecIsInPMKIDList(struct rtw_adapter *Adapter, u8 *bssid)
 {
 	struct security_priv *psecuritypriv=&Adapter->securitypriv;
 	int i=0;
@@ -2747,7 +2747,7 @@ static int SecIsInPMKIDList(_adapter *Ad
 // 13th element in the array is the IE length
 //
 
-static int rtw_append_pmkid(_adapter *Adapter,int iEntry, u8 *ie, uint ie_len)
+static int rtw_append_pmkid(struct rtw_adapter *Adapter,int iEntry, u8 *ie, uint ie_len)
 {
 	struct security_priv *psecuritypriv=&Adapter->securitypriv;
 
@@ -2766,7 +2766,7 @@ static int rtw_append_pmkid(_adapter *Ad
 	return (ie_len);
 
 }
-int rtw_restruct_sec_ie(_adapter *adapter,u8 *in_ie, u8 *out_ie, uint in_len)
+int rtw_restruct_sec_ie(struct rtw_adapter *adapter,u8 *in_ie, u8 *out_ie, uint in_len)
 {
 	u8 authmode, securitytype, match;
 	u8 sec_ie[255], uncst_oui[4], bkup_ie[255];
@@ -2829,7 +2829,7 @@ _func_exit_;
 	return ielength;
 }
 
-void rtw_init_registrypriv_dev_network(	_adapter* adapter)
+void rtw_init_registrypriv_dev_network(	struct rtw_adapter* adapter)
 {
 	struct registry_priv* pregistrypriv = &adapter->registrypriv;
 	struct eeprom_priv* peepriv = &adapter->eeprompriv;
@@ -2854,7 +2854,7 @@ _func_exit_;
 
 }
 
-void rtw_update_registrypriv_dev_network(_adapter* adapter)
+void rtw_update_registrypriv_dev_network(struct rtw_adapter* adapter)
 {
 	int sz=0;
 	struct registry_priv* pregistrypriv = &adapter->registrypriv;
@@ -2920,7 +2920,7 @@ _func_exit_;
 
 }
 
-void rtw_get_encrypt_decrypt_from_registrypriv(_adapter* adapter)
+void rtw_get_encrypt_decrypt_from_registrypriv(struct rtw_adapter* adapter)
 {
 _func_enter_;
 
@@ -2930,7 +2930,7 @@ _func_exit_;
 }
 
 //the fucntion is at passive_level
-void rtw_joinbss_reset(_adapter *padapter)
+void rtw_joinbss_reset(struct rtw_adapter *padapter)
 {
 	u8	threshold;
 	struct mlme_priv	*pmlmepriv = &padapter->mlmepriv;
@@ -2973,7 +2973,7 @@ void rtw_joinbss_reset(_adapter *padapte
 #ifdef CONFIG_80211N_HT
 
 //the fucntion is >= passive_level
-unsigned int rtw_restructure_ht_ie(_adapter *padapter, u8 *in_ie, u8 *out_ie, uint in_len, uint *pout_len, u8 channel)
+unsigned int rtw_restructure_ht_ie(struct rtw_adapter *padapter, u8 *in_ie, u8 *out_ie, uint in_len, uint *pout_len, u8 channel)
 {
 	u32 ielen, out_len;
 	unsigned char *p, *pframe;
@@ -3063,7 +3063,7 @@ unsigned int rtw_restructure_ht_ie(_adap
 }
 
 //the fucntion is > passive_level (in critical_section)
-void rtw_update_ht_cap(_adapter *padapter, u8 *pie, uint ie_len, u8 channel)
+void rtw_update_ht_cap(struct rtw_adapter *padapter, u8 *pie, uint ie_len, u8 channel)
 {
 	u8 *p, max_ampdu_sz;
 	int len;
@@ -3218,7 +3218,7 @@ void rtw_update_ht_cap(_adapter *padapte
 	pmlmeinfo->HT_protection = pmlmeinfo->HT_info.infos[1] & 0x3;
 }
 
-void rtw_issue_addbareq_cmd(_adapter *padapter, struct xmit_frame *pxmitframe)
+void rtw_issue_addbareq_cmd(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe)
 {
 	u8 issued;
 	int priority;
@@ -3260,19 +3260,19 @@ void rtw_issue_addbareq_cmd(_adapter *pa
 #endif
 
 #ifdef CONFIG_LAYER2_ROAMING
-inline void rtw_set_roaming(_adapter *adapter, u8 to_roaming)
+inline void rtw_set_roaming(struct rtw_adapter *adapter, u8 to_roaming)
 {
 	if (to_roaming == 0)
 		adapter->mlmepriv.to_join = false;
 	adapter->mlmepriv.to_roaming = to_roaming;
 }
 
-inline u8 rtw_to_roaming(_adapter *adapter)
+inline u8 rtw_to_roaming(struct rtw_adapter *adapter)
 {
 	return adapter->mlmepriv.to_roaming;
 }
 
-void rtw_roaming(_adapter *padapter, struct wlan_network *tgt_network)
+void rtw_roaming(struct rtw_adapter *padapter, struct wlan_network *tgt_network)
 {
 	struct mlme_priv	*pmlmepriv = &padapter->mlmepriv;
 
@@ -3280,7 +3280,7 @@ void rtw_roaming(_adapter *padapter, str
 	_rtw_roaming(padapter, tgt_network);
 	spin_unlock_bh(&pmlmepriv->lock);
 }
-void _rtw_roaming(_adapter *padapter, struct wlan_network *tgt_network)
+void _rtw_roaming(struct rtw_adapter *padapter, struct wlan_network *tgt_network)
 {
 	struct mlme_priv	*pmlmepriv = &padapter->mlmepriv;
 	int do_join_r;
@@ -3322,7 +3322,7 @@ void _rtw_roaming(_adapter *padapter, st
 #endif
 
 #ifdef CONFIG_CONCURRENT_MODE
-int rtw_buddy_adapter_up(_adapter *padapter)
+int rtw_buddy_adapter_up(struct rtw_adapter *padapter)
 {
 	int res = false;
 
@@ -3348,7 +3348,7 @@ int rtw_buddy_adapter_up(_adapter *padap
 
 }
 
-int check_buddy_fwstate(_adapter *padapter, int state)
+int check_buddy_fwstate(struct rtw_adapter *padapter, int state)
 {
 	if(padapter == NULL)
 		return false;
--- a/drivers/staging/rtl8192du/core/rtw_mlme_ext.c
+++ b/drivers/staging/rtl8192du/core/rtw_mlme_ext.c
@@ -276,7 +276,7 @@ Following are the initialization functio
 
 *****************************************************************************/
 
-int init_hw_mlme_ext(_adapter *padapter)
+int init_hw_mlme_ext(struct rtw_adapter *padapter)
 {
 	struct	mlme_ext_priv *pmlmeext = &padapter->mlmeextpriv;
 
@@ -287,7 +287,7 @@ int init_hw_mlme_ext(_adapter *padapter)
 	return _SUCCESS;
 }
 
-static void init_mlme_ext_priv_value(_adapter* padapter)
+static void init_mlme_ext_priv_value(struct rtw_adapter* padapter)
 {
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
@@ -359,7 +359,7 @@ static int has_channel(struct rt_channel
 	return 0;
 }
 
-static void init_channel_list(_adapter *padapter, struct rt_channel_info *channel_set,
+static void init_channel_list(struct rtw_adapter *padapter, struct rt_channel_info *channel_set,
 							  u8 chanset_size,
 							  struct p2p_channels *channel_list) {
 
@@ -411,7 +411,7 @@ static void init_channel_list(_adapter *
 
 }
 
-static u8 init_channel_set(_adapter* padapter, u8 ChannelPlan, struct rt_channel_info *channel_set)
+static u8 init_channel_set(struct rtw_adapter* padapter, u8 ChannelPlan, struct rt_channel_info *channel_set)
 {
 	u8	index,chanset_size = 0;
 	u8	b5GBand = false, b2_4GBand = false;
@@ -511,7 +511,7 @@ static u8 init_channel_set(_adapter* pad
 	return chanset_size;
 }
 
-int	init_mlme_ext_priv(_adapter* padapter)
+int	init_mlme_ext_priv(struct rtw_adapter* padapter)
 {
 	int	res = _SUCCESS;
 	struct registry_priv* pregistrypriv = &padapter->registrypriv;
@@ -552,7 +552,7 @@ int	init_mlme_ext_priv(_adapter* padapte
 
 void free_mlme_ext_priv (struct mlme_ext_priv *pmlmeext)
 {
-	_adapter *padapter = pmlmeext->padapter;
+	struct rtw_adapter *padapter = pmlmeext->padapter;
 
 	if (!padapter)
 		return;
@@ -565,7 +565,7 @@ void free_mlme_ext_priv (struct mlme_ext
 	}
 }
 
-static u8 cmp_pkt_chnl_diff(_adapter *padapter,u8* pframe,uint packet_len)
+static u8 cmp_pkt_chnl_diff(struct rtw_adapter *padapter,u8* pframe,uint packet_len)
 {	// if the channel is same, return 0. else return channel differential
 	uint len;
 	u8 channel;
@@ -589,7 +589,7 @@ static u8 cmp_pkt_chnl_diff(_adapter *pa
 	}
 }
 
-static void _mgt_dispatcher(_adapter *padapter, struct mlme_handler *ptable, union recv_frame *precv_frame)
+static void _mgt_dispatcher(struct rtw_adapter *padapter, struct mlme_handler *ptable, union recv_frame *precv_frame)
 {
 	u8 bc_addr[ETH_ALEN] = {0xff,0xff,0xff,0xff,0xff,0xff};
 	u8 *pframe = precv_frame->u.hdr.rx_data;
@@ -608,7 +608,7 @@ static void _mgt_dispatcher(_adapter *pa
 
 }
 
-void mgt_dispatcher(_adapter *padapter, union recv_frame *precv_frame)
+void mgt_dispatcher(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 	int index;
 	struct mlme_handler *ptable;
@@ -733,7 +733,7 @@ void mgt_dispatcher(_adapter *padapter,
 }
 
 #ifdef CONFIG_P2P
-u32 p2p_listen_state_process(_adapter *padapter, unsigned char *da)
+u32 p2p_listen_state_process(struct rtw_adapter *padapter, unsigned char *da)
 {
 	bool response = true;
 
@@ -771,7 +771,7 @@ Following are the callback functions for
 
 *****************************************************************************/
 
-unsigned int OnProbeReq(_adapter *padapter, union recv_frame *precv_frame)
+unsigned int OnProbeReq(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 	unsigned int	ielen;
 	unsigned char	*p;
@@ -890,7 +890,7 @@ _issue_probersp:
 
 }
 
-unsigned int OnProbeRsp(_adapter *padapter, union recv_frame *precv_frame)
+unsigned int OnProbeRsp(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 	struct sta_info		*psta;
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
@@ -972,7 +972,7 @@ unsigned int OnProbeRsp(_adapter *padapt
 
 }
 
-unsigned int OnBeacon(_adapter *padapter, union recv_frame *precv_frame)
+unsigned int OnBeacon(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 	int cam_idx;
 	struct sta_info	*psta;
@@ -1084,7 +1084,7 @@ _END_ONBEACON_:
 
 }
 
-unsigned int OnAuth(_adapter *padapter, union recv_frame *precv_frame)
+unsigned int OnAuth(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 #ifdef CONFIG_AP_MODE
 	unsigned int	auth_mode, seq, ie_len;
@@ -1300,7 +1300,7 @@ auth_fail:
 
 }
 
-unsigned int OnAuthClient(_adapter *padapter, union recv_frame *precv_frame)
+unsigned int OnAuthClient(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 	unsigned int	seq, len, status, algthm, offset;
 	unsigned char	*p;
@@ -1400,7 +1400,7 @@ authclnt_fail:
 
 }
 
-unsigned int OnAssocReq(_adapter *padapter, union recv_frame *precv_frame)
+unsigned int OnAssocReq(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 #ifdef CONFIG_AP_MODE
 	u16 capab_info, listen_interval;
@@ -2012,7 +2012,7 @@ OnAssocReqFail:
 
 }
 
-unsigned int OnAssocRsp(_adapter *padapter, union recv_frame *precv_frame)
+unsigned int OnAssocRsp(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 	uint i;
 	int res;
@@ -2116,7 +2116,7 @@ report_assoc_result:
 	return _SUCCESS;
 }
 
-unsigned int OnDeAuth(_adapter *padapter, union recv_frame *precv_frame)
+unsigned int OnDeAuth(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 	unsigned short	reason;
 	struct mlme_priv *pmlmepriv = &padapter->mlmepriv;
@@ -2184,7 +2184,7 @@ unsigned int OnDeAuth(_adapter *padapter
 
 }
 
-unsigned int OnDisassoc(_adapter *padapter, union recv_frame *precv_frame)
+unsigned int OnDisassoc(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 	unsigned short	reason;
 	struct mlme_priv *pmlmepriv = &padapter->mlmepriv;
@@ -2251,13 +2251,13 @@ unsigned int OnDisassoc(_adapter *padapt
 
 }
 
-unsigned int OnAtim(_adapter *padapter, union recv_frame *precv_frame)
+unsigned int OnAtim(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 	DBG_8192D("%s\n", __FUNCTION__);
 	return _SUCCESS;
 }
 
-unsigned int on_action_spct_ch_switch(_adapter *padapter, struct sta_info *psta, u8 *ies, uint ies_len)
+unsigned int on_action_spct_ch_switch(struct rtw_adapter *padapter, struct sta_info *psta, u8 *ies, uint ies_len)
 {
 	unsigned int ret = _FAIL;
 	struct mlme_ext_priv *mlmeext = &padapter->mlmeextpriv;
@@ -2315,7 +2315,7 @@ exit:
 	return ret;
 }
 
-unsigned int on_action_spct(_adapter *padapter, union recv_frame *precv_frame)
+unsigned int on_action_spct(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 	unsigned int ret = _FAIL;
 	struct sta_info *psta = NULL;
@@ -2358,17 +2358,17 @@ exit:
 	return ret;
 }
 
-unsigned int OnAction_qos(_adapter *padapter, union recv_frame *precv_frame)
+unsigned int OnAction_qos(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 	return _SUCCESS;
 }
 
-unsigned int OnAction_dls(_adapter *padapter, union recv_frame *precv_frame)
+unsigned int OnAction_dls(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 	return _SUCCESS;
 }
 
-unsigned int OnAction_back(_adapter *padapter, union recv_frame *precv_frame)
+unsigned int OnAction_back(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 	u8 *addr;
 	struct sta_info *psta=NULL;
@@ -2536,7 +2536,7 @@ static void get_channel_cnt_24g_5gl_5gh(
 	}
 }
 
-void issue_p2p_GO_request(_adapter *padapter, u8* raddr)
+void issue_p2p_GO_request(struct rtw_adapter *padapter, u8* raddr)
 {
 
 	unsigned char category = RTW_WLAN_CATEGORY_PUBLIC;
@@ -2814,7 +2814,7 @@ void issue_p2p_GO_request(_adapter *pada
 #ifdef CONFIG_CONCURRENT_MODE
 	if ( check_buddy_fwstate(padapter, _FW_LINKED ) )
 	{
-		_adapter *pbuddy_adapter = padapter->pbuddy_adapter;
+		struct rtw_adapter *pbuddy_adapter = padapter->pbuddy_adapter;
 		struct mlme_ext_priv	*pbuddy_mlmeext = &pbuddy_adapter->mlmeextpriv;
 
 		//	Operating Class
@@ -2981,7 +2981,7 @@ void issue_p2p_GO_request(_adapter *pada
 }
 
 
-void issue_p2p_GO_response(_adapter *padapter, u8* raddr, u8* frame_body,uint len, u8 result)
+void issue_p2p_GO_response(struct rtw_adapter *padapter, u8* raddr, u8* frame_body,uint len, u8 result)
 {
 
 	unsigned char category = RTW_WLAN_CATEGORY_PUBLIC;
@@ -3312,7 +3312,7 @@ void issue_p2p_GO_response(_adapter *pad
 #ifdef CONFIG_CONCURRENT_MODE
 	if ( check_buddy_fwstate(padapter, _FW_LINKED ) )
 	{
-		_adapter *pbuddy_adapter = padapter->pbuddy_adapter;
+		struct rtw_adapter *pbuddy_adapter = padapter->pbuddy_adapter;
 		struct mlme_ext_priv	*pbuddy_mlmeext = &pbuddy_adapter->mlmeextpriv;
 
 		//	Operating Class
@@ -3461,7 +3461,7 @@ void issue_p2p_GO_response(_adapter *pad
 
 }
 
-void issue_p2p_GO_confirm(_adapter *padapter, u8* raddr, u8 result)
+void issue_p2p_GO_confirm(struct rtw_adapter *padapter, u8* raddr, u8 result)
 {
 
 	unsigned char category = RTW_WLAN_CATEGORY_PUBLIC;
@@ -3681,7 +3681,7 @@ void issue_p2p_GO_confirm(_adapter *pada
 
 }
 
-void issue_p2p_invitation_request(_adapter *padapter, u8* raddr )
+void issue_p2p_invitation_request(struct rtw_adapter *padapter, u8* raddr )
 {
 
 	unsigned char category = RTW_WLAN_CATEGORY_PUBLIC;
@@ -3697,7 +3697,7 @@ void issue_p2p_invitation_request(_adapt
 	u32					wfdielen = 0;
 #endif //CONFIG_WFD
 #ifdef CONFIG_CONCURRENT_MODE
-	_adapter				*pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter				*pbuddy_adapter = padapter->pbuddy_adapter;
 	struct wifidirect_info	*pbuddy_wdinfo = &pbuddy_adapter->wdinfo;
 	struct mlme_priv		*pbuddy_mlmepriv = &pbuddy_adapter->mlmepriv;
 	struct mlme_ext_priv	*pbuddy_mlmeext = &pbuddy_adapter->mlmeextpriv;
@@ -3877,7 +3877,7 @@ void issue_p2p_invitation_request(_adapt
 #ifdef CONFIG_CONCURRENT_MODE
 	if ( check_buddy_fwstate(padapter, _FW_LINKED ) )
 	{
-		_adapter *pbuddy_adapter = padapter->pbuddy_adapter;
+		struct rtw_adapter *pbuddy_adapter = padapter->pbuddy_adapter;
 		struct mlme_ext_priv	*pbuddy_mlmeext = &pbuddy_adapter->mlmeextpriv;
 
 		//	Operating Class
@@ -4022,7 +4022,7 @@ void issue_p2p_invitation_request(_adapt
 
 }
 
-void issue_p2p_invitation_response(_adapter *padapter, u8* raddr, u8 dialogToken, u8 status_code)
+void issue_p2p_invitation_response(struct rtw_adapter *padapter, u8* raddr, u8 dialogToken, u8 status_code)
 {
 
 	unsigned char category = RTW_WLAN_CATEGORY_PUBLIC;
@@ -4034,7 +4034,7 @@ void issue_p2p_invitation_response(_adap
 	u8			channel_cnt_24g = 0, channel_cnt_5gl = 0, channel_cnt_5gh = 0;
 	u16			len_channellist_attr = 0;
 #ifdef CONFIG_CONCURRENT_MODE
-	_adapter				*pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter				*pbuddy_adapter = padapter->pbuddy_adapter;
 	struct wifidirect_info	*pbuddy_wdinfo = &pbuddy_adapter->wdinfo;
 	struct mlme_priv		*pbuddy_mlmepriv = &pbuddy_adapter->mlmepriv;
 	struct mlme_ext_priv	*pbuddy_mlmeext = &pbuddy_adapter->mlmeextpriv;
@@ -4223,7 +4223,7 @@ void issue_p2p_invitation_response(_adap
 #ifdef CONFIG_CONCURRENT_MODE
 		if ( check_buddy_fwstate(padapter, _FW_LINKED ) )
 		{
-			_adapter *pbuddy_adapter = padapter->pbuddy_adapter;
+			struct rtw_adapter *pbuddy_adapter = padapter->pbuddy_adapter;
 			struct mlme_ext_priv	*pbuddy_mlmeext = &pbuddy_adapter->mlmeextpriv;
 
 			//	Operating Class
@@ -4301,7 +4301,7 @@ void issue_p2p_invitation_response(_adap
 
 }
 
-void issue_p2p_provision_request(_adapter *padapter, u8* pssid, u8 ussidlen, u8* pdev_raddr )
+void issue_p2p_provision_request(struct rtw_adapter *padapter, u8* pssid, u8 ussidlen, u8* pdev_raddr )
 {
 	unsigned char category = RTW_WLAN_CATEGORY_PUBLIC;
 	u8			action = P2P_PUB_ACTION_ACTION;
@@ -4436,7 +4436,7 @@ u8 is_matched_in_profilelist( u8* peerma
 	return (match_result );
 }
 
-void issue_probersp_p2p(_adapter *padapter, unsigned char *da)
+void issue_probersp_p2p(struct rtw_adapter *padapter, unsigned char *da)
 {
 	struct xmit_frame			*pmgntframe;
 	struct pkt_attrib			*pattrib;
@@ -4785,7 +4785,7 @@ void issue_probersp_p2p(_adapter *padapt
 
 }
 
-int _issue_probereq_p2p(_adapter *padapter, u8 *da, int wait_ack)
+int _issue_probereq_p2p(struct rtw_adapter *padapter, u8 *da, int wait_ack)
 {
 	int ret = _FAIL;
 	struct xmit_frame		*pmgntframe;
@@ -5134,12 +5134,12 @@ exit:
 	return ret;
 }
 
-inline void issue_probereq_p2p(_adapter *adapter, u8 *da)
+inline void issue_probereq_p2p(struct rtw_adapter *adapter, u8 *da)
 {
 	_issue_probereq_p2p(adapter, da, false);
 }
 
-int issue_probereq_p2p_ex(_adapter *adapter, u8 *da, int try_cnt, int wait_ms)
+int issue_probereq_p2p_ex(struct rtw_adapter *adapter, u8 *da, int try_cnt, int wait_ms)
 {
 	int ret;
 	int i = 0;
@@ -5184,7 +5184,7 @@ exit:
 
 s32 rtw_action_public_decache(union recv_frame *recv_frame, s32 token)
 {
-	_adapter *adapter = recv_frame->u.hdr.adapter;
+	struct rtw_adapter *adapter = recv_frame->u.hdr.adapter;
 	struct mlme_ext_priv *mlmeext = &(adapter->mlmeextpriv);
 	u8 *frame = recv_frame->u.hdr.rx_data;
 	u16 seq_ctrl = ( (recv_frame->u.hdr.attrib.seq_num&0xffff) << 4) |
@@ -5218,7 +5218,7 @@ s32 rtw_action_public_decache(union recv
 
 unsigned int on_action_public_p2p(union recv_frame *precv_frame)
 {
-	_adapter *padapter = precv_frame->u.hdr.adapter;
+	struct rtw_adapter *padapter = precv_frame->u.hdr.adapter;
 	u8 *pframe = precv_frame->u.hdr.rx_data;
 	uint len = precv_frame->u.hdr.len;
 	u8 *frame_body;
@@ -5648,7 +5648,7 @@ unsigned int on_action_public_default(un
 	uint frame_len = precv_frame->u.hdr.len;
 	u8 *frame_body = pframe + sizeof(struct rtw_ieee80211_hdr_3addr);
 	u8 token;
-	_adapter *adapter = precv_frame->u.hdr.adapter;
+	struct rtw_adapter *adapter = precv_frame->u.hdr.adapter;
 	int cnt = 0;
 	char msg[64];
 
@@ -5668,7 +5668,7 @@ exit:
 	return ret;
 }
 
-unsigned int on_action_public(_adapter *padapter, union recv_frame *precv_frame)
+unsigned int on_action_public(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 	unsigned int ret = _FAIL;
 	u8 *pframe = precv_frame->u.hdr.rx_data;
@@ -5698,17 +5698,17 @@ exit:
 	return ret;
 }
 
-unsigned int OnAction_ht(_adapter *padapter, union recv_frame *precv_frame)
+unsigned int OnAction_ht(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 	return _SUCCESS;
 }
 
-unsigned int OnAction_wmm(_adapter *padapter, union recv_frame *precv_frame)
+unsigned int OnAction_wmm(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 	return _SUCCESS;
 }
 
-unsigned int OnAction_p2p(_adapter *padapter, union recv_frame *precv_frame)
+unsigned int OnAction_p2p(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 #ifdef CONFIG_P2P
 	u8 *frame_body;
@@ -5777,7 +5777,7 @@ unsigned int OnAction_p2p(_adapter *pada
 
 }
 
-unsigned int OnAction(_adapter *padapter, union recv_frame *precv_frame)
+unsigned int OnAction(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 	int i;
 	unsigned char	category;
@@ -5802,7 +5802,7 @@ unsigned int OnAction(_adapter *padapter
 
 }
 
-unsigned int DoReserved(_adapter *padapter, union recv_frame *precv_frame)
+unsigned int DoReserved(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 
 	//DBG_8192D("rcvd mgt frame(%x, %x)\n", (GetFrameSubType(pframe) >> 4), *(unsigned int *)GetAddr1Ptr(pframe));
@@ -5846,7 +5846,7 @@ Following are some TX fuctions for WiFi
 
 *****************************************************************************/
 
-void update_mgnt_tx_rate(_adapter *padapter, u8 rate)
+void update_mgnt_tx_rate(struct rtw_adapter *padapter, u8 rate)
 {
 	struct mlme_ext_priv	*pmlmeext = &(padapter->mlmeextpriv);
 
@@ -5855,7 +5855,7 @@ void update_mgnt_tx_rate(_adapter *padap
 	//DBG_8192D("%s(): rate = %x\n",__FUNCTION__, rate);
 }
 
-void update_mgntframe_attrib(_adapter *padapter, struct pkt_attrib *pattrib)
+void update_mgntframe_attrib(struct rtw_adapter *padapter, struct pkt_attrib *pattrib)
 {
 	struct mlme_ext_priv	*pmlmeext = &(padapter->mlmeextpriv);
 
@@ -5889,7 +5889,7 @@ void update_mgntframe_attrib(_adapter *p
 
 }
 
-void dump_mgntframe(_adapter *padapter, struct xmit_frame *pmgntframe)
+void dump_mgntframe(struct rtw_adapter *padapter, struct xmit_frame *pmgntframe)
 {
 	if(padapter->bSurpriseRemoved == true ||
 		padapter->bDriverStopped == true)
@@ -5898,7 +5898,7 @@ void dump_mgntframe(_adapter *padapter,
 	rtw_hal_mgnt_xmit(padapter, pmgntframe);
 }
 
-s32 dump_mgntframe_and_wait(_adapter *padapter, struct xmit_frame *pmgntframe, int timeout_ms)
+s32 dump_mgntframe_and_wait(struct rtw_adapter *padapter, struct xmit_frame *pmgntframe, int timeout_ms)
 {
 	s32 ret = _FAIL;
 	struct xmit_buf *pxmitbuf = pmgntframe->pxmitbuf;
@@ -5919,7 +5919,7 @@ s32 dump_mgntframe_and_wait(_adapter *pa
 	 return ret;
 }
 
-s32 dump_mgntframe_and_wait_ack(_adapter *padapter, struct xmit_frame *pmgntframe)
+s32 dump_mgntframe_and_wait_ack(struct rtw_adapter *padapter, struct xmit_frame *pmgntframe)
 {
 #ifdef CONFIG_XMIT_ACK
 	s32 ret = _FAIL;
@@ -5991,7 +5991,7 @@ int update_hidden_ssid(u8 *ies, u32 ies_
 	return len_diff;
 }
 
-void issue_beacon(_adapter *padapter)
+void issue_beacon(struct rtw_adapter *padapter)
 {
 	struct xmit_frame	*pmgntframe;
 	struct pkt_attrib	*pattrib;
@@ -6303,7 +6303,7 @@ _issue_bcn:
 
 }
 
-void issue_probersp(_adapter *padapter, unsigned char *da, u8 is_valid_p2p_probereq)
+void issue_probersp(struct rtw_adapter *padapter, unsigned char *da, u8 is_valid_p2p_probereq)
 {
 	struct xmit_frame			*pmgntframe;
 	struct pkt_attrib			*pattrib;
@@ -6559,7 +6559,7 @@ void issue_probersp(_adapter *padapter,
 
 }
 
-int _issue_probereq(_adapter *padapter, struct ndis_802_11_ssid *pssid, u8 *da, int wait_ack)
+int _issue_probereq(struct rtw_adapter *padapter, struct ndis_802_11_ssid *pssid, u8 *da, int wait_ack)
 {
 	int ret = _FAIL;
 	struct xmit_frame		*pmgntframe;
@@ -6661,12 +6661,12 @@ exit:
 	return ret;
 }
 
-inline void issue_probereq(_adapter *padapter, struct ndis_802_11_ssid *pssid, u8 *da)
+inline void issue_probereq(struct rtw_adapter *padapter, struct ndis_802_11_ssid *pssid, u8 *da)
 {
 	_issue_probereq(padapter, pssid, da, false);
 }
 
-int issue_probereq_ex(_adapter *padapter, struct ndis_802_11_ssid *pssid, u8 *da,
+int issue_probereq_ex(struct rtw_adapter *padapter, struct ndis_802_11_ssid *pssid, u8 *da,
 	int try_cnt, int wait_ms)
 {
 	int ret;
@@ -6709,7 +6709,7 @@ exit:
 }
 
 // if psta == NULL, indiate we are station(client) now...
-void issue_auth(_adapter *padapter, struct sta_info *psta, unsigned short status)
+void issue_auth(struct rtw_adapter *padapter, struct sta_info *psta, unsigned short status)
 {
 	struct xmit_frame			*pmgntframe;
 	struct pkt_attrib			*pattrib;
@@ -6854,7 +6854,7 @@ void issue_auth(_adapter *padapter, stru
 }
 
 
-void issue_asocrsp(_adapter *padapter, unsigned short status, struct sta_info *pstat, int pkt_type)
+void issue_asocrsp(struct rtw_adapter *padapter, unsigned short status, struct sta_info *pstat, int pkt_type)
 {
 #ifdef CONFIG_AP_MODE
 	struct xmit_frame	*pmgntframe;
@@ -7035,7 +7035,7 @@ void issue_asocrsp(_adapter *padapter, u
 #endif
 }
 
-void issue_assocreq(_adapter *padapter)
+void issue_assocreq(struct rtw_adapter *padapter)
 {
 	int ret = _FAIL;
 	struct xmit_frame				*pmgntframe;
@@ -7547,7 +7547,7 @@ exit:
 }
 
 //when wait_ack is ture, this function shoule be called at process context
-static int _issue_nulldata(_adapter *padapter, unsigned char *da, unsigned int power_mode, int wait_ack)
+static int _issue_nulldata(struct rtw_adapter *padapter, unsigned char *da, unsigned int power_mode, int wait_ack)
 {
 	int ret = _FAIL;
 	struct xmit_frame			*pmgntframe;
@@ -7630,7 +7630,7 @@ exit:
 
 //when wait_ms >0 , this function shoule be called at process context
 //da == NULL for station mode
-int issue_nulldata(_adapter *padapter, unsigned char *da, unsigned int power_mode, int try_cnt, int wait_ms)
+int issue_nulldata(struct rtw_adapter *padapter, unsigned char *da, unsigned int power_mode, int try_cnt, int wait_ms)
 {
 	int ret;
 	int i = 0;
@@ -7678,7 +7678,7 @@ exit:
 }
 
 //when wait_ack is ture, this function shoule be called at process context
-static int _issue_qos_nulldata(_adapter *padapter, unsigned char *da, u16 tid, int wait_ack)
+static int _issue_qos_nulldata(struct rtw_adapter *padapter, unsigned char *da, u16 tid, int wait_ack)
 {
 	int ret = _FAIL;
 	struct xmit_frame			*pmgntframe;
@@ -7764,7 +7764,7 @@ exit:
 
 //when wait_ms >0 , this function shoule be called at process context
 //da == NULL for station mode
-int issue_qos_nulldata(_adapter *padapter, unsigned char *da, u16 tid, int try_cnt, int wait_ms)
+int issue_qos_nulldata(struct rtw_adapter *padapter, unsigned char *da, u16 tid, int try_cnt, int wait_ms)
 {
 	int ret;
 	int i = 0;
@@ -7811,7 +7811,7 @@ exit:
 	return ret;
 }
 
-static int _issue_deauth(_adapter *padapter, unsigned char *da, unsigned short reason, u8 wait_ack)
+static int _issue_deauth(struct rtw_adapter *padapter, unsigned char *da, unsigned short reason, u8 wait_ack)
 {
 	struct xmit_frame			*pmgntframe;
 	struct pkt_attrib			*pattrib;
@@ -7883,13 +7883,13 @@ exit:
 	return ret;
 }
 
-int issue_deauth(_adapter *padapter, unsigned char *da, unsigned short reason)
+int issue_deauth(struct rtw_adapter *padapter, unsigned char *da, unsigned short reason)
 {
 	DBG_8192D("%s to %pM\n", __func__, da);
 	return _issue_deauth(padapter, da, reason, false);
 }
 
-int issue_deauth_ex(_adapter *padapter, u8 *da, unsigned short reason, int try_cnt,
+int issue_deauth_ex(struct rtw_adapter *padapter, u8 *da, unsigned short reason, int try_cnt,
 	int wait_ms)
 {
 	int ret;
@@ -7931,7 +7931,7 @@ exit:
 	return ret;
 }
 
-void issue_action_spct_ch_switch(_adapter *padapter, u8 *ra, u8 new_ch, u8 ch_offset)
+void issue_action_spct_ch_switch(struct rtw_adapter *padapter, u8 *ra, u8 new_ch, u8 ch_offset)
 {
 	struct list_head *plist, *phead;
 	struct xmit_frame			*pmgntframe;
@@ -7994,7 +7994,7 @@ void issue_action_spct_ch_switch(_adapte
 
 }
 
-void issue_action_BA(_adapter *padapter, unsigned char *raddr, unsigned char action, unsigned short status)
+void issue_action_BA(struct rtw_adapter *padapter, unsigned char *raddr, unsigned char action, unsigned short status)
 {
 	u8	category = RTW_WLAN_CATEGORY_BACK;
 	u16	start_seq;
@@ -8124,7 +8124,7 @@ void issue_action_BA(_adapter *padapter,
 	dump_mgntframe(padapter, pmgntframe);
 }
 
-static void issue_action_BSSCoexistPacket(_adapter *padapter)
+static void issue_action_BSSCoexistPacket(struct rtw_adapter *padapter)
 {
 	struct list_head *plist, *phead;
 	unsigned char category, action;
@@ -8281,7 +8281,7 @@ static void issue_action_BSSCoexistPacke
 
 }
 
-unsigned int send_delba(_adapter *padapter, u8 initiator, u8 *addr)
+unsigned int send_delba(struct rtw_adapter *padapter, u8 initiator, u8 *addr)
 {
 	struct sta_priv *pstapriv = &padapter->stapriv;
 	struct sta_info *psta = NULL;
@@ -8337,7 +8337,7 @@ unsigned int send_delba(_adapter *padapt
 
 }
 
-unsigned int send_beacon(_adapter *padapter)
+unsigned int send_beacon(struct rtw_adapter *padapter)
 {
 	u8	bxmitok = false;
 	int	issue=0;
@@ -8378,7 +8378,7 @@ Following are some utitity fuctions for
 *****************************************************************************/
 
 bool IsLegal5GChannel(
-	PADAPTER Adapter,
+	struct rtw_adapter * Adapter,
 	u8 channel)
 {
 
@@ -8393,7 +8393,7 @@ bool IsLegal5GChannel(
 	return false;
 }
 
-void site_survey(_adapter *padapter)
+void site_survey(struct rtw_adapter *padapter)
 {
 	unsigned char		survey_channel = 0, val8;
 	enum RT_SCAN_TYPE	ScanType = SCAN_PASSIVE;
@@ -8410,7 +8410,7 @@ void site_survey(_adapter *padapter)
 #endif //CONFIG_STA_MODE_SCAN_UNDER_AP_MODE
 
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
-	PADAPTER pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter * pbuddy_adapter = padapter->pbuddy_adapter;
 	struct mlme_ext_priv *pbuddy_mlmeext = &pbuddy_adapter->mlmeextpriv;
 
 #endif //CONFIG_CONCURRENT_MODE
@@ -8753,7 +8753,7 @@ void site_survey(_adapter *padapter)
 }
 
 //collect bss info from Beacon and Probe response frames.
-u8 collect_bss_info(_adapter *padapter, union recv_frame *precv_frame, WLAN_BSSID_EX *bssid)
+u8 collect_bss_info(struct rtw_adapter *padapter, union recv_frame *precv_frame, WLAN_BSSID_EX *bssid)
 {
 	int	i;
 	u32	len;
@@ -8951,7 +8951,7 @@ u8 collect_bss_info(_adapter *padapter,
 	return _SUCCESS;
 }
 
-void start_create_ibss(_adapter* padapter)
+void start_create_ibss(struct rtw_adapter* padapter)
 {
 	unsigned short	caps;
 	u8	val8;
@@ -9011,7 +9011,7 @@ void start_create_ibss(_adapter* padapte
 
 }
 
-void start_clnt_join(_adapter* padapter)
+void start_clnt_join(struct rtw_adapter* padapter)
 {
 	unsigned short	caps;
 	u8	val8;
@@ -9093,7 +9093,7 @@ void start_clnt_join(_adapter* padapter)
 
 }
 
-void start_clnt_auth(_adapter* padapter)
+void start_clnt_auth(struct rtw_adapter* padapter)
 {
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
@@ -9124,7 +9124,7 @@ void start_clnt_auth(_adapter* padapter)
 }
 
 
-void start_clnt_assoc(_adapter* padapter)
+void start_clnt_assoc(struct rtw_adapter* padapter)
 {
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
@@ -9139,7 +9139,7 @@ void start_clnt_assoc(_adapter* padapter
 	set_link_timer(pmlmeext, REASSOC_TO);
 }
 
-unsigned int receive_disconnect(_adapter *padapter, unsigned char *MacAddr, unsigned short reason)
+unsigned int receive_disconnect(struct rtw_adapter *padapter, unsigned char *MacAddr, unsigned short reason)
 {
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
@@ -9169,7 +9169,7 @@ unsigned int receive_disconnect(_adapter
 }
 
 #ifdef CONFIG_80211D
-static void process_80211d(PADAPTER padapter, WLAN_BSSID_EX *bssid)
+static void process_80211d(struct rtw_adapter * padapter, WLAN_BSSID_EX *bssid)
 {
 	struct registry_priv *pregistrypriv;
 	struct mlme_ext_priv *pmlmeext;
@@ -9442,7 +9442,7 @@ Following are the functions to report ev
 
 *****************************************************************************/
 
-void report_survey_event(_adapter *padapter, union recv_frame *precv_frame)
+void report_survey_event(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 	struct cmd_obj *pcmd_obj;
 	u8	*pevtcmd;
@@ -9508,7 +9508,7 @@ void report_survey_event(_adapter *padap
 
 }
 
-void report_surveydone_event(_adapter *padapter)
+void report_surveydone_event(struct rtw_adapter *padapter)
 {
 	struct cmd_obj *pcmd_obj;
 	u8	*pevtcmd;
@@ -9555,7 +9555,7 @@ void report_surveydone_event(_adapter *p
 
 }
 
-void report_join_res(_adapter *padapter, int res)
+void report_join_res(struct rtw_adapter *padapter, int res)
 {
 	struct cmd_obj *pcmd_obj;
 	u8	*pevtcmd;
@@ -9608,7 +9608,7 @@ void report_join_res(_adapter *padapter,
 
 }
 
-void report_del_sta_event(_adapter *padapter, unsigned char* MacAddr, unsigned short reason)
+void report_del_sta_event(struct rtw_adapter *padapter, unsigned char* MacAddr, unsigned short reason)
 {
 	struct cmd_obj *pcmd_obj;
 	u8	*pevtcmd;
@@ -9666,7 +9666,7 @@ void report_del_sta_event(_adapter *pada
 	return;
 }
 
-void report_add_sta_event(_adapter *padapter, unsigned char* MacAddr, int cam_idx)
+void report_add_sta_event(struct rtw_adapter *padapter, unsigned char* MacAddr, int cam_idx)
 {
 	struct cmd_obj *pcmd_obj;
 	u8	*pevtcmd;
@@ -9721,7 +9721,7 @@ Following are the event callback functio
 *****************************************************************************/
 
 //for sta/adhoc mode
-void update_sta_info(_adapter *padapter, struct sta_info *psta)
+void update_sta_info(struct rtw_adapter *padapter, struct sta_info *psta)
 {
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
@@ -9772,7 +9772,7 @@ void update_sta_info(_adapter *padapter,
 
 }
 
-void mlmeext_joinbss_event_callback(_adapter *padapter, int join_res)
+void mlmeext_joinbss_event_callback(struct rtw_adapter *padapter, int join_res)
 {
 	struct sta_info		*psta, *psta_bmc;
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
@@ -9868,7 +9868,7 @@ exit_mlmeext_joinbss_event_callback:
 
 }
 
-void mlmeext_sta_add_event_callback(_adapter *padapter, struct sta_info *psta)
+void mlmeext_sta_add_event_callback(struct rtw_adapter *padapter, struct sta_info *psta)
 {
 	struct mlme_ext_priv	*pmlmeext = &(padapter->mlmeextpriv);
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
@@ -9918,7 +9918,7 @@ void mlmeext_sta_add_event_callback(_ada
 
 }
 
-void mlmeext_sta_del_event_callback(_adapter *padapter)
+void mlmeext_sta_del_event_callback(struct rtw_adapter *padapter)
 {
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
@@ -9971,13 +9971,13 @@ void mlmeext_sta_del_event_callback(_ada
 Following are the functions for the timer handlers
 
 *****************************************************************************/
-void _linked_rx_signal_strehgth_display(_adapter *padapter);
-void _linked_rx_signal_strehgth_display(_adapter *padapter)
+void _linked_rx_signal_strehgth_display(struct rtw_adapter *padapter);
+void _linked_rx_signal_strehgth_display(struct rtw_adapter *padapter)
 {
 	int	UndecoratedSmoothedPWDB;
 
 #ifdef CONFIG_CONCURRENT_MODE
-	PADAPTER pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter * pbuddy_adapter = padapter->pbuddy_adapter;
 	DBG_8192D("============ pbuddy_adapter linked status check ===================\n");
 	DBG_8192D("buddy_adapter_type=%d\n", pbuddy_adapter->adapter_type);
 	DBG_8192D("pbuddy_adapter pathA Rx SNRdb:%d\n",pbuddy_adapter->recvpriv.RxSNRdB[0]);
@@ -10017,7 +10017,7 @@ void _linked_rx_signal_strehgth_display(
 
 }
 
-u8 chk_ap_is_alive(_adapter *padapter, struct sta_info *psta)
+u8 chk_ap_is_alive(struct rtw_adapter *padapter, struct sta_info *psta)
 {
 	u8 ret = false;
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
@@ -10061,7 +10061,7 @@ u8 chk_ap_is_alive(_adapter *padapter, s
 	return ret;
 }
 
-void linked_status_chk(_adapter *padapter)
+void linked_status_chk(struct rtw_adapter *padapter)
 {
 	u32	i;
 	struct sta_info		*psta;
@@ -10221,7 +10221,7 @@ void linked_status_chk(_adapter *padapte
 
 }
 
-void survey_timer_hdl(_adapter *padapter)
+void survey_timer_hdl(struct rtw_adapter *padapter)
 {
 	struct cmd_obj	*ph2c;
 	struct sitesurvey_parm	*psurveyPara;
@@ -10286,7 +10286,7 @@ exit_survey_timer_hdl:
 	return;
 }
 
-void link_timer_hdl(_adapter *padapter)
+void link_timer_hdl(struct rtw_adapter *padapter)
 {
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
@@ -10342,12 +10342,12 @@ void addba_timer_hdl(struct sta_info *ps
 	}
 }
 
-u8 NULL_hdl(_adapter *padapter, u8 *pbuf)
+u8 NULL_hdl(struct rtw_adapter *padapter, u8 *pbuf)
 {
 	return H2C_SUCCESS;
 }
 
-u8 setopmode_hdl(_adapter *padapter, u8 *pbuf)
+u8 setopmode_hdl(struct rtw_adapter *padapter, u8 *pbuf)
 {
 	u8	type;
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
@@ -10384,7 +10384,7 @@ u8 setopmode_hdl(_adapter *padapter, u8
 
 }
 
-u8 createbss_hdl(_adapter *padapter, u8 *pbuf)
+u8 createbss_hdl(struct rtw_adapter *padapter, u8 *pbuf)
 {
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
@@ -10450,7 +10450,7 @@ u8 createbss_hdl(_adapter *padapter, u8
 
 }
 
-u8 join_cmd_hdl(_adapter *padapter, u8 *pbuf)
+u8 join_cmd_hdl(struct rtw_adapter *padapter, u8 *pbuf)
 {
 	u8	join_type;
 	PNDIS_802_11_VARIABLE_IEs	pIE;
@@ -10604,7 +10604,7 @@ u8 join_cmd_hdl(_adapter *padapter, u8 *
 
 }
 
-u8 disconnect_hdl(_adapter *padapter, unsigned char *pbuf)
+u8 disconnect_hdl(struct rtw_adapter *padapter, unsigned char *pbuf)
 {
 	struct disconnect_parm *param = (struct disconnect_parm *)pbuf;
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
@@ -10667,7 +10667,7 @@ u8 disconnect_hdl(_adapter *padapter, un
 	return	H2C_SUCCESS;
 }
 
-int rtw_scan_ch_decision(_adapter *padapter, struct rtw_ieee80211_channel *out,
+int rtw_scan_ch_decision(struct rtw_adapter *padapter, struct rtw_ieee80211_channel *out,
 	u32 out_num, struct rtw_ieee80211_channel *in, u32 in_num)
 {
 	int i, j;
@@ -10731,7 +10731,7 @@ int rtw_scan_ch_decision(_adapter *padap
 	return j;
 }
 
-u8 sitesurvey_cmd_hdl(_adapter *padapter, u8 *pbuf)
+u8 sitesurvey_cmd_hdl(struct rtw_adapter *padapter, u8 *pbuf)
 {
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
 	struct sitesurvey_parm	*pparm = (struct sitesurvey_parm *)pbuf;
@@ -10858,7 +10858,7 @@ u8 sitesurvey_cmd_hdl(_adapter *padapter
 
 }
 
-u8 setauth_hdl(_adapter *padapter, unsigned char *pbuf)
+u8 setauth_hdl(struct rtw_adapter *padapter, unsigned char *pbuf)
 {
 	struct setauth_parm		*pparm = (struct setauth_parm *)pbuf;
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
@@ -10872,7 +10872,7 @@ u8 setauth_hdl(_adapter *padapter, unsig
 	return	H2C_SUCCESS;
 }
 
-u8 setkey_hdl(_adapter *padapter, u8 *pbuf)
+u8 setkey_hdl(struct rtw_adapter *padapter, u8 *pbuf)
 {
 	unsigned short				ctrl;
 	struct setkey_parm		*pparm = (struct setkey_parm *)pbuf;
@@ -10895,7 +10895,7 @@ u8 setkey_hdl(_adapter *padapter, u8 *pb
 	return H2C_SUCCESS;
 }
 
-u8 set_stakey_hdl(_adapter *padapter, u8 *pbuf)
+u8 set_stakey_hdl(struct rtw_adapter *padapter, u8 *pbuf)
 {
 	u16 ctrl=0;
 	u8 cam_id;//cam_entry
@@ -11028,7 +11028,7 @@ u8 set_stakey_hdl(_adapter *padapter, u8
 	return H2C_SUCCESS;
 }
 
-u8 add_ba_hdl(_adapter *padapter, unsigned char *pbuf)
+u8 add_ba_hdl(struct rtw_adapter *padapter, unsigned char *pbuf)
 {
 	struct addBaReq_parm	*pparm = (struct addBaReq_parm *)pbuf;
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
@@ -11068,7 +11068,7 @@ u8 add_ba_hdl(_adapter *padapter, unsign
 	return	H2C_SUCCESS;
 }
 
-u8 set_tx_beacon_cmd(_adapter* padapter)
+u8 set_tx_beacon_cmd(struct rtw_adapter* padapter)
 {
 	struct cmd_obj	*ph2c;
 	struct Tx_Beacon_param	*ptxBeacon_parm;
@@ -11115,12 +11115,12 @@ _func_exit_;
 }
 
 
-u8 mlme_evt_hdl(_adapter *padapter, unsigned char *pbuf)
+u8 mlme_evt_hdl(struct rtw_adapter *padapter, unsigned char *pbuf)
 {
 	u8 evt_code, evt_seq;
 	u16 evt_sz;
 	uint	*peventbuf;
-	void (*event_callback)(_adapter *dev, u8 *pbuf);
+	void (*event_callback)(struct rtw_adapter *dev, u8 *pbuf);
 	struct evt_priv *pevt_priv = &(padapter->evtpriv);
 
 	peventbuf = (uint*)pbuf;
@@ -11179,7 +11179,7 @@ _abort_event_:
 
 }
 
-u8 h2c_msg_hdl(_adapter *padapter, unsigned char *pbuf)
+u8 h2c_msg_hdl(struct rtw_adapter *padapter, unsigned char *pbuf)
 {
 	if(!pbuf)
 		return H2C_PARAMETERS_ERROR;
@@ -11187,7 +11187,7 @@ u8 h2c_msg_hdl(_adapter *padapter, unsig
 	return H2C_SUCCESS;
 }
 
-u8 tx_beacon_hdl(_adapter *padapter, unsigned char *pbuf)
+u8 tx_beacon_hdl(struct rtw_adapter *padapter, unsigned char *pbuf)
 {
 	if(send_beacon(padapter)==_FAIL)
 	{
@@ -11254,7 +11254,7 @@ u8 tx_beacon_hdl(_adapter *padapter, uns
 
 }
 
-void change_band_update_ie(_adapter *padapter, WLAN_BSSID_EX *pnetwork)
+void change_band_update_ie(struct rtw_adapter *padapter, WLAN_BSSID_EX *pnetwork)
 {
 	u8	network_type,rate_len, total_rate_len,remainder_rate_len;
 	struct mlme_ext_priv *pmlmeext = &(padapter->mlmeextpriv);
@@ -11308,9 +11308,9 @@ void change_band_update_ie(_adapter *pad
 
 
 #ifdef CONFIG_DUALMAC_CONCURRENT
-void dc_SelectChannel(_adapter *padapter, unsigned char channel)
+void dc_SelectChannel(struct rtw_adapter *padapter, unsigned char channel)
 {
-	PADAPTER ptarget_adapter;
+	struct rtw_adapter * ptarget_adapter;
 
 	if( (padapter->pbuddy_adapter != NULL) &&
 		(padapter->DualMacConcurrent == true) &&
@@ -11331,9 +11331,9 @@ void dc_SelectChannel(_adapter *padapter
 	_exit_critical_mutex(&(adapter_to_dvobj(ptarget_adapter)->setch_mutex));
 }
 
-void dc_SetBWMode(_adapter *padapter, unsigned short bwmode, unsigned char channel_offset)
+void dc_SetBWMode(struct rtw_adapter *padapter, unsigned short bwmode, unsigned char channel_offset)
 {
-	PADAPTER ptarget_adapter;
+	struct rtw_adapter * ptarget_adapter;
 
 	if( (padapter->pbuddy_adapter != NULL) &&
 		(padapter->DualMacConcurrent == true) &&
@@ -11354,10 +11354,10 @@ void dc_SetBWMode(_adapter *padapter, un
 	_exit_critical_mutex(&(adapter_to_dvobj(ptarget_adapter)->setbw_mutex));
 }
 
-void dc_set_channel_bwmode_disconnect(_adapter *padapter)
+void dc_set_channel_bwmode_disconnect(struct rtw_adapter *padapter)
 {
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
-	PADAPTER pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter * pbuddy_adapter = padapter->pbuddy_adapter;
 	struct mlme_priv *pbuddy_mlmepriv = NULL;
 
 	if(pbuddy_adapter != NULL &&
@@ -11383,12 +11383,12 @@ void dc_set_channel_bwmode_disconnect(_a
 	}
 }
 
-u8 dc_handle_join_request(_adapter *padapter)
+u8 dc_handle_join_request(struct rtw_adapter *padapter)
 {
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
 	WLAN_BSSID_EX		*pnetwork = (WLAN_BSSID_EX*)(&(pmlmeinfo->network));
-	PADAPTER pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter * pbuddy_adapter = padapter->pbuddy_adapter;
 	struct mlme_ext_priv *pbuddy_mlmeext = NULL;
 	struct mlme_priv	*pbuddy_mlmepriv = NULL;
 	u8	ret = _SUCCESS;
@@ -11439,11 +11439,11 @@ u8 dc_handle_join_request(_adapter *pada
 	return ret;
 }
 
-void dc_handle_join_done(_adapter *padapter, u8 join_res)
+void dc_handle_join_done(struct rtw_adapter *padapter, u8 join_res)
 {
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
-	PADAPTER pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter * pbuddy_adapter = padapter->pbuddy_adapter;
 	struct mlme_priv *pbuddy_mlmepriv = NULL;
 	struct mlme_ext_priv *pbuddy_mlmeext = NULL;
 	struct mlme_ext_info *pbuddy_mlmeinfo = NULL;
@@ -11581,9 +11581,9 @@ void dc_handle_join_done(_adapter *padap
 	}
 }
 
-int	dc_check_fwstate(_adapter *padapter, int fw_state)
+int	dc_check_fwstate(struct rtw_adapter *padapter, int fw_state)
 {
-	PADAPTER pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter * pbuddy_adapter = padapter->pbuddy_adapter;
 	struct mlme_priv *pbuddy_mlmepriv = NULL;
 
 	if(padapter->pbuddy_adapter != NULL &&
@@ -11598,11 +11598,11 @@ int	dc_check_fwstate(_adapter *padapter,
 	return false;
 }
 
-u8 dc_handle_site_survey(_adapter *padapter)
+u8 dc_handle_site_survey(struct rtw_adapter *padapter)
 {
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
-	PADAPTER pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter * pbuddy_adapter = padapter->pbuddy_adapter;
 
 	// only mac0 can do scan request, help issue nulldata(1) for mac1
 	if(pbuddy_adapter != NULL &&
@@ -11621,7 +11621,7 @@ u8 dc_handle_site_survey(_adapter *padap
 	return false;
 }
 
-void	dc_report_survey_event(_adapter *padapter, union recv_frame *precv_frame)
+void	dc_report_survey_event(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 	if(padapter->pbuddy_adapter != NULL &&
 		padapter->DualMacConcurrent == true)
@@ -11630,11 +11630,11 @@ void	dc_report_survey_event(_adapter *pa
 	}
 }
 
-void dc_set_channel_bwmode_survey_done(_adapter *padapter)
+void dc_set_channel_bwmode_survey_done(struct rtw_adapter *padapter)
 {
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
-	PADAPTER pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter * pbuddy_adapter = padapter->pbuddy_adapter;
 	struct mlme_priv *pbuddy_mlmepriv = NULL;
 	struct mlme_ext_priv *pbuddy_mlmeext = NULL;
 	struct mlme_ext_info *pbuddy_mlmeinfo = NULL;
@@ -11697,7 +11697,7 @@ void dc_set_channel_bwmode_survey_done(_
 	}
 }
 
-void dc_set_ap_channel_bandwidth(_adapter *padapter, u8 channel, u8 channel_offset, u8 bwmode)
+void dc_set_ap_channel_bandwidth(struct rtw_adapter *padapter, u8 channel, u8 channel_offset, u8 bwmode)
 {
 	u8	*p;
 	u8	val8, cur_channel, cur_bwmode, cur_ch_offset, change_band;
@@ -11708,7 +11708,7 @@ void dc_set_ap_channel_bandwidth(_adapte
 	struct mlme_ext_priv	*pmlmeext = &(padapter->mlmeextpriv);
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
 	struct HT_info_element	*pht_info=NULL;
-	_adapter	*pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter	*pbuddy_adapter = padapter->pbuddy_adapter;
 	struct mlme_priv	*pbuddy_mlmepriv = NULL;
 	struct mlme_ext_priv	*pbuddy_mlmeext = NULL;
 
@@ -11829,9 +11829,9 @@ void dc_set_ap_channel_bandwidth(_adapte
 	DBG_8192D("dualmac_concurrent_ap_set_channel_bwmode <==\n");
 }
 
-void dc_resume_xmit(_adapter *padapter)
+void dc_resume_xmit(struct rtw_adapter *padapter)
 {
-	PADAPTER pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter * pbuddy_adapter = padapter->pbuddy_adapter;
 
 	if(pbuddy_adapter != NULL &&
 		padapter->DualMacConcurrent == true)
@@ -11841,9 +11841,9 @@ void dc_resume_xmit(_adapter *padapter)
 	}
 }
 
-u8	dc_check_xmit(_adapter *padapter)
+u8	dc_check_xmit(struct rtw_adapter *padapter)
 {
-	PADAPTER pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter * pbuddy_adapter = padapter->pbuddy_adapter;
 	struct mlme_priv *pbuddy_mlmepriv = NULL;
 
 	if(pbuddy_adapter != NULL &&
@@ -11862,9 +11862,9 @@ u8	dc_check_xmit(_adapter *padapter)
 #endif
 
 #ifdef CONFIG_CONCURRENT_MODE
-int check_buddy_mlmeinfo_state(_adapter *padapter, u32 state)
+int check_buddy_mlmeinfo_state(struct rtw_adapter *padapter, u32 state)
 {
-	PADAPTER pbuddy_adapter;
+	struct rtw_adapter * pbuddy_adapter;
 	struct mlme_ext_priv *pbuddy_mlmeext;
 	struct mlme_ext_info *pbuddy_mlmeinfo;
 
@@ -11887,12 +11887,12 @@ int check_buddy_mlmeinfo_state(_adapter
 
 }
 
-int concurrent_chk_start_clnt_join(_adapter *padapter)
+int concurrent_chk_start_clnt_join(struct rtw_adapter *padapter)
 {
 	int ret = _FAIL;
 	struct mlme_ext_priv	*pmlmeext;
 	struct mlme_ext_info	*pmlmeinfo;
-	PADAPTER pbuddy_adapter;
+	struct rtw_adapter * pbuddy_adapter;
 	struct mlme_ext_priv *pbuddy_mlmeext;
 	struct mlme_ext_info	*pbuddy_pmlmeinfo;
 	struct mlme_priv *pbuddy_mlmepriv;
@@ -11972,11 +11972,11 @@ int concurrent_chk_start_clnt_join(_adap
 
 }
 
-void concurrent_chk_joinbss_done(_adapter *padapter, int join_res)
+void concurrent_chk_joinbss_done(struct rtw_adapter *padapter, int join_res)
 {
 	struct mlme_ext_priv	*pmlmeext;
 	struct mlme_ext_info	*pmlmeinfo;
-	PADAPTER pbuddy_adapter;
+	struct rtw_adapter * pbuddy_adapter;
 	struct mlme_priv *pbuddy_mlmepriv;
 	struct mlme_ext_priv *pbuddy_mlmeext;
 	struct mlme_ext_info *pbuddy_mlmeinfo;
@@ -12176,7 +12176,7 @@ void concurrent_chk_joinbss_done(_adapte
 }
 #endif //CONFIG_CONCURRENT_MODE
 
-u8 set_ch_hdl(_adapter *padapter, u8 *pbuf)
+u8 set_ch_hdl(struct rtw_adapter *padapter, u8 *pbuf)
 {
 	struct set_ch_parm *set_ch_parm;
 	struct mlme_priv		*pmlmepriv = &padapter->mlmepriv;
@@ -12200,7 +12200,7 @@ u8 set_ch_hdl(_adapter *padapter, u8 *pb
 	return	H2C_SUCCESS;
 }
 
-u8 set_chplan_hdl(_adapter *padapter, unsigned char *pbuf)
+u8 set_chplan_hdl(struct rtw_adapter *padapter, unsigned char *pbuf)
 {
 	struct SetChannelPlan_param *setChannelPlan_param;
 	struct mlme_priv		*pmlmepriv = &padapter->mlmepriv;
@@ -12217,7 +12217,7 @@ u8 set_chplan_hdl(_adapter *padapter, un
 	return	H2C_SUCCESS;
 }
 
-u8 led_blink_hdl(_adapter *padapter, unsigned char *pbuf)
+u8 led_blink_hdl(struct rtw_adapter *padapter, unsigned char *pbuf)
 {
 	struct LedBlink_param *ledBlink_param;
 
@@ -12233,7 +12233,7 @@ u8 led_blink_hdl(_adapter *padapter, uns
 	return	H2C_SUCCESS;
 }
 
-u8 set_csa_hdl(_adapter *padapter, unsigned char *pbuf)
+u8 set_csa_hdl(struct rtw_adapter *padapter, unsigned char *pbuf)
 {
 #ifdef CONFIG_DFS
 	struct SetChannelSwitch_param *setChannelSwitch_param;
@@ -12286,7 +12286,7 @@ u8 set_csa_hdl(_adapter *padapter, unsig
 // TDLS_CKALV_PH1	: check alive timer phase1
 // TDLS_CKALV_PH2	: check alive timer phase2
 // TDLS_FREE_STA	: free tdls sta
-u8 tdls_hdl(_adapter *padapter, unsigned char *pbuf)
+u8 tdls_hdl(struct rtw_adapter *padapter, unsigned char *pbuf)
 {
 #ifdef CONFIG_TDLS
 	struct tdls_info *ptdlsinfo = &padapter->tdlsinfo;
--- a/drivers/staging/rtl8192du/core/rtw_p2p.c
+++ b/drivers/staging/rtl8192du/core/rtw_p2p.c
@@ -40,7 +40,7 @@ int rtw_p2p_is_channel_list_ok( u8 desir
 	return( found );
 }
 
-int	is_any_client_associated( _adapter *padapter )
+int	is_any_client_associated(struct rtw_adapter *padapter )
 {
 	struct list_head *phead, *plist;
 	int	intFound = false;
@@ -79,7 +79,7 @@ static u32 go_add_group_info_attr(struct
 	u16 attr_len = 0;
 	u8 tmplen, *pdata_attr, *pstart, *pcur;
 	struct sta_info *psta = NULL;
-	_adapter *padapter = pwdinfo->padapter;
+	struct rtw_adapter *padapter = pwdinfo->padapter;
 	struct sta_priv *pstapriv = &padapter->stapriv;
 
 	DBG_8192D("%s\n", __FUNCTION__);
@@ -179,7 +179,7 @@ static void issue_group_disc_req(struct
 	unsigned char					*pframe;
 	struct rtw_ieee80211_hdr	*pwlanhdr;
 	unsigned short				*fctrl;
-	_adapter *padapter = pwdinfo->padapter;
+	struct rtw_adapter *padapter = pwdinfo->padapter;
 	struct xmit_priv			*pxmitpriv = &(padapter->xmitpriv);
 	struct mlme_ext_priv	*pmlmeext = &(padapter->mlmeextpriv);
 	unsigned char category = RTW_WLAN_CATEGORY_P2P;//P2P action frame
@@ -238,7 +238,7 @@ static void issue_p2p_devdisc_resp(struc
 	unsigned char					*pframe;
 	struct rtw_ieee80211_hdr	*pwlanhdr;
 	unsigned short				*fctrl;
-	_adapter *padapter = pwdinfo->padapter;
+	struct rtw_adapter *padapter = pwdinfo->padapter;
 	struct xmit_priv			*pxmitpriv = &(padapter->xmitpriv);
 	struct mlme_ext_priv	*pmlmeext = &(padapter->mlmeextpriv);
 	unsigned char category = RTW_WLAN_CATEGORY_PUBLIC;
@@ -307,7 +307,7 @@ static void issue_p2p_devdisc_resp(struc
 
 static void issue_p2p_provision_resp(struct wifidirect_info *pwdinfo, u8* raddr, u8* frame_body, u16 config_method)
 {
-	_adapter *padapter = pwdinfo->padapter;
+	struct rtw_adapter *padapter = pwdinfo->padapter;
 	unsigned char category = RTW_WLAN_CATEGORY_PUBLIC;
 	u8			action = P2P_PUB_ACTION_ACTION;
 	u8			dialogToken = frame_body[7];	//	The Dialog Token of provisioning discovery request frame.
@@ -408,7 +408,7 @@ static void issue_p2p_presence_resp(stru
 	unsigned char					*pframe;
 	struct rtw_ieee80211_hdr	*pwlanhdr;
 	unsigned short				*fctrl;
-	_adapter *padapter = pwdinfo->padapter;
+	struct rtw_adapter *padapter = pwdinfo->padapter;
 	struct xmit_priv			*pxmitpriv = &(padapter->xmitpriv);
 	struct mlme_ext_priv	*pmlmeext = &(padapter->mlmeextpriv);
 	unsigned char category = RTW_WLAN_CATEGORY_P2P;//P2P action frame
@@ -547,7 +547,7 @@ u32 build_beacon_wfd_ie(struct wifidirec
 {
 	u8 wfdie[ MAX_WFD_IE_LEN] = { 0x00 };
 	u32 len=0, wfdielen = 0;
-	_adapter *padapter = pwdinfo->padapter;
+	struct rtw_adapter *padapter = pwdinfo->padapter;
 	struct mlme_priv		*pmlmepriv = &padapter->mlmepriv;
 	struct wifi_display_info*	pwfd_info = padapter->wdinfo.wfd_info;
 
@@ -664,7 +664,7 @@ u32 build_probe_req_wfd_ie(struct wifidi
 {
 	u8 wfdie[ MAX_WFD_IE_LEN] = { 0x00 };
 	u32 len=0, wfdielen = 0;
-	_adapter *padapter = pwdinfo->padapter;
+	struct rtw_adapter *padapter = pwdinfo->padapter;
 	struct mlme_priv		*pmlmepriv = &padapter->mlmepriv;
 	struct wifi_display_info*	pwfd_info = padapter->wdinfo.wfd_info;
 
@@ -777,7 +777,7 @@ u32 build_probe_resp_wfd_ie(struct wifid
 {
 	u8 wfdie[ MAX_WFD_IE_LEN] = { 0x00 };
 	u32 len=0, wfdielen = 0;
-	_adapter *padapter = pwdinfo->padapter;
+	struct rtw_adapter *padapter = pwdinfo->padapter;
 	struct mlme_priv		*pmlmepriv = &padapter->mlmepriv;
 	struct wifi_display_info*	pwfd_info = padapter->wdinfo.wfd_info;
 
@@ -972,7 +972,7 @@ u32 build_assoc_req_wfd_ie(struct wifidi
 {
 	u8 wfdie[ MAX_WFD_IE_LEN] = { 0x00 };
 	u32 len=0, wfdielen = 0;
-	_adapter					*padapter = NULL;
+	struct rtw_adapter					*padapter = NULL;
 	struct mlme_priv			*pmlmepriv = NULL;
 	struct wifi_display_info		*pwfd_info = NULL;
 
@@ -1079,7 +1079,7 @@ u32 build_assoc_resp_wfd_ie(struct wifid
 {
 	u8 wfdie[ MAX_WFD_IE_LEN] = { 0x00 };
 	u32 len=0, wfdielen = 0;
-	_adapter *padapter = pwdinfo->padapter;
+	struct rtw_adapter *padapter = pwdinfo->padapter;
 	struct mlme_priv		*pmlmepriv = &padapter->mlmepriv;
 	struct wifi_display_info*	pwfd_info = padapter->wdinfo.wfd_info;
 
@@ -1177,7 +1177,7 @@ u32 build_nego_req_wfd_ie(struct wifidir
 {
 	u8 wfdie[ MAX_WFD_IE_LEN] = { 0x00 };
 	u32 len=0, wfdielen = 0;
-	_adapter *padapter = pwdinfo->padapter;
+	struct rtw_adapter *padapter = pwdinfo->padapter;
 	struct mlme_priv		*pmlmepriv = &padapter->mlmepriv;
 	struct wifi_display_info*	pwfd_info = padapter->wdinfo.wfd_info;
 
@@ -1275,7 +1275,7 @@ u32 build_nego_resp_wfd_ie(struct wifidi
 {
 	u8 wfdie[ MAX_WFD_IE_LEN] = { 0x00 };
 	u32 len=0, wfdielen = 0;
-	_adapter *padapter = pwdinfo->padapter;
+	struct rtw_adapter *padapter = pwdinfo->padapter;
 	struct mlme_priv		*pmlmepriv = &padapter->mlmepriv;
 	struct wifi_display_info*	pwfd_info = padapter->wdinfo.wfd_info;
 
@@ -1374,7 +1374,7 @@ u32 build_nego_confirm_wfd_ie(struct wif
 {
 	u8 wfdie[ MAX_WFD_IE_LEN] = { 0x00 };
 	u32 len=0, wfdielen = 0;
-	_adapter *padapter = pwdinfo->padapter;
+	struct rtw_adapter *padapter = pwdinfo->padapter;
 	struct mlme_priv		*pmlmepriv = &padapter->mlmepriv;
 	struct wifi_display_info*	pwfd_info = padapter->wdinfo.wfd_info;
 
@@ -1473,7 +1473,7 @@ u32 build_invitation_req_wfd_ie(struct w
 {
 	u8 wfdie[ MAX_WFD_IE_LEN] = { 0x00 };
 	u32 len=0, wfdielen = 0;
-	_adapter *padapter = pwdinfo->padapter;
+	struct rtw_adapter *padapter = pwdinfo->padapter;
 	struct mlme_priv		*pmlmepriv = &padapter->mlmepriv;
 	struct wifi_display_info*	pwfd_info = padapter->wdinfo.wfd_info;
 
@@ -1586,7 +1586,7 @@ u32 build_invitation_resp_wfd_ie(struct
 {
 	u8 wfdie[ MAX_WFD_IE_LEN] = { 0x00 };
 	u32 len=0, wfdielen = 0;
-	_adapter *padapter = pwdinfo->padapter;
+	struct rtw_adapter *padapter = pwdinfo->padapter;
 	struct mlme_priv		*pmlmepriv = &padapter->mlmepriv;
 	struct wifi_display_info*	pwfd_info = padapter->wdinfo.wfd_info;
 
@@ -1699,7 +1699,7 @@ u32 build_provdisc_req_wfd_ie(struct wif
 {
 	u8 wfdie[ MAX_WFD_IE_LEN] = { 0x00 };
 	u32 len=0, wfdielen = 0;
-	_adapter *padapter = pwdinfo->padapter;
+	struct rtw_adapter *padapter = pwdinfo->padapter;
 	struct mlme_priv		*pmlmepriv = &padapter->mlmepriv;
 	struct wifi_display_info*	pwfd_info = padapter->wdinfo.wfd_info;
 
@@ -1798,7 +1798,7 @@ u32 build_provdisc_resp_wfd_ie(struct wi
 {
 	u8 wfdie[ MAX_WFD_IE_LEN] = { 0x00 };
 	u32 len=0, wfdielen = 0;
-	_adapter *padapter = pwdinfo->padapter;
+	struct rtw_adapter *padapter = pwdinfo->padapter;
 	struct mlme_priv		*pmlmepriv = &padapter->mlmepriv;
 	struct wifi_display_info*	pwfd_info = padapter->wdinfo.wfd_info;
 
@@ -2462,7 +2462,7 @@ u32 process_p2p_devdisc_req(struct wifid
 	u8 *frame_body;
 	u8 status, dialogToken;
 	struct sta_info *psta = NULL;
-	_adapter *padapter = pwdinfo->padapter;
+	struct rtw_adapter *padapter = pwdinfo->padapter;
 	struct sta_priv *pstapriv = &padapter->stapriv;
 	u8 *p2p_ie;
 	u32	p2p_ielen = 0;
@@ -2662,7 +2662,7 @@ u8 rtw_p2p_ch_inclusion(struct mlme_ext_
 
 u8 process_p2p_group_negotation_req( struct wifidirect_info *pwdinfo, u8 *pframe, uint len )
 {
-	_adapter *padapter = pwdinfo->padapter;
+	struct rtw_adapter *padapter = pwdinfo->padapter;
 	u8	result = P2P_STATUS_SUCCESS;
 	u32	p2p_ielen = 0, wps_ielen = 0;
 	u8 * ies;
@@ -2679,7 +2679,7 @@ u8 process_p2p_group_negotation_req( str
 #endif // CONFIG_TDLS
 #endif // CONFIG_WFD
 #ifdef CONFIG_CONCURRENT_MODE
-	_adapter				*pbuddy_adapter = pwdinfo->padapter->pbuddy_adapter;
+	struct rtw_adapter				*pbuddy_adapter = pwdinfo->padapter->pbuddy_adapter;
 	struct wifidirect_info	*pbuddy_wdinfo = &pbuddy_adapter->wdinfo;
 	struct mlme_priv		*pbuddy_mlmepriv = &pbuddy_adapter->mlmepriv;
 	struct mlme_ext_priv	*pbuddy_mlmeext = &pbuddy_adapter->mlmeextpriv;
@@ -2898,7 +2898,7 @@ u8 process_p2p_group_negotation_req( str
 
 u8 process_p2p_group_negotation_resp( struct wifidirect_info *pwdinfo, u8 *pframe, uint len )
 {
-	_adapter *padapter = pwdinfo->padapter;
+	struct rtw_adapter *padapter = pwdinfo->padapter;
 	u8	result = P2P_STATUS_SUCCESS;
 	u32	p2p_ielen, wps_ielen;
 	u8 * ies;
@@ -3272,7 +3272,7 @@ u8 process_p2p_presence_req(struct wifid
 	return true;
 }
 
-void find_phase_handler( _adapter*	padapter )
+void find_phase_handler(struct rtw_adapter*	padapter )
 {
 	struct wifidirect_info  *pwdinfo = &padapter->wdinfo;
 	struct mlme_priv		*pmlmepriv = &padapter->mlmepriv;
@@ -3295,9 +3295,9 @@ _func_enter_;
 _func_exit_;
 }
 
-void p2p_concurrent_handler(  _adapter* padapter );
+void p2p_concurrent_handler(struct rtw_adapter *padapter );
 
-void restore_p2p_state_handler( _adapter*	padapter )
+void restore_p2p_state_handler(struct rtw_adapter*	padapter )
 {
 	struct wifidirect_info  *pwdinfo = &padapter->wdinfo;
 	struct mlme_priv		*pmlmepriv = &padapter->mlmepriv;
@@ -3312,7 +3312,7 @@ _func_enter_;
 #ifdef CONFIG_CONCURRENT_MODE
 	if ( check_buddy_fwstate(padapter, _FW_LINKED ) )
 	{
-		_adapter				*pbuddy_adapter = padapter->pbuddy_adapter;
+		struct rtw_adapter				*pbuddy_adapter = padapter->pbuddy_adapter;
 		struct mlme_priv		*pbuddy_mlmepriv = &pbuddy_adapter->mlmepriv;
 		struct mlme_ext_priv	*pbuddy_mlmeext = &pbuddy_adapter->mlmeextpriv;
 
@@ -3340,7 +3340,7 @@ _func_enter_;
 _func_exit_;
 }
 
-void pre_tx_invitereq_handler( _adapter*	padapter )
+void pre_tx_invitereq_handler(struct rtw_adapter*	padapter )
 {
 	struct wifidirect_info  *pwdinfo = &padapter->wdinfo;
 	u8	val8 = 1;
@@ -3354,7 +3354,7 @@ _func_enter_;
 _func_exit_;
 }
 
-void pre_tx_provdisc_handler( _adapter*	padapter )
+void pre_tx_provdisc_handler(struct rtw_adapter*	padapter )
 {
 	struct wifidirect_info  *pwdinfo = &padapter->wdinfo;
 	u8	val8 = 1;
@@ -3368,7 +3368,7 @@ _func_enter_;
 _func_exit_;
 }
 
-void pre_tx_negoreq_handler( _adapter*	padapter )
+void pre_tx_negoreq_handler(struct rtw_adapter*	padapter )
 {
 	struct wifidirect_info  *pwdinfo = &padapter->wdinfo;
 	u8	val8 = 1;
@@ -3383,7 +3383,7 @@ _func_exit_;
 }
 
 #ifdef CONFIG_CONCURRENT_MODE
-void p2p_concurrent_handler( _adapter*	padapter )
+void p2p_concurrent_handler(struct rtw_adapter*	padapter )
 {
 	struct wifidirect_info	*pwdinfo = &padapter->wdinfo;
 	//_adapter				*pbuddy_adapter = padapter->pbuddy_adapter;
@@ -3395,7 +3395,7 @@ _func_enter_;
 
 	if ( check_buddy_fwstate(padapter, _FW_LINKED ) )
 	{
-		PADAPTER pbuddy_adapter = padapter->pbuddy_adapter;
+		struct rtw_adapter * pbuddy_adapter = padapter->pbuddy_adapter;
 		struct mlme_ext_priv *pbuddy_mlmeext = &pbuddy_adapter->mlmeextpriv;
 
 		pwdinfo->operating_channel = pbuddy_mlmeext->cur_channel;
@@ -3501,7 +3501,7 @@ _func_exit_;
 #endif
 
 #ifdef CONFIG_IOCTL_CFG80211
-static void ro_ch_handler(_adapter *padapter)
+static void ro_ch_handler(struct rtw_adapter *padapter)
 {
 	struct cfg80211_wifidirect_info *pcfg80211_wdinfo = &padapter->cfg80211_wdinfo;
 	struct wifidirect_info *pwdinfo = &padapter->wdinfo;
@@ -3514,7 +3514,7 @@ _func_enter_;
 #ifdef CONFIG_CONCURRENT_MODE
 		if ( check_buddy_fwstate(padapter, _FW_LINKED ) )
 		{
-			PADAPTER pbuddy_adapter = padapter->pbuddy_adapter;
+			struct rtw_adapter * pbuddy_adapter = padapter->pbuddy_adapter;
 			struct mlme_ext_priv *pbuddy_mlmeext = &pbuddy_adapter->mlmeextpriv;
 
 			DBG_8192D("%s, switch ch back to buddy's cur_channel=%d\n", __func__, pbuddy_mlmeext->cur_channel);
@@ -3553,7 +3553,7 @@ _func_exit_;
 
 static void ro_ch_timer_process (void *FunctionContext)
 {
-	_adapter *adapter = (_adapter *)FunctionContext;
+	struct rtw_adapter *adapter = (struct rtw_adapter *)FunctionContext;
 	struct rtw_wdev_priv *pwdev_priv = wdev_to_priv(adapter->rtw_wdev);
 
 	//printk("%s \n", __FUNCTION__);
@@ -3565,12 +3565,12 @@ static void ro_ch_timer_process (void *F
 	p2p_protocol_wk_cmd( adapter, P2P_RO_CH_WK);
 }
 
-static void rtw_cfg80211_adjust_p2pie_channel(_adapter *padapter, const u8 *frame_body, u32 len)
+static void rtw_cfg80211_adjust_p2pie_channel(struct rtw_adapter *padapter, const u8 *frame_body, u32 len)
 {
 #ifdef CONFIG_CONCURRENT_MODE
 	u8 *ies, *p2p_ie;
 	u32 ies_len, p2p_ielen;
-	PADAPTER pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter * pbuddy_adapter = padapter->pbuddy_adapter;
 	struct mlme_ext_priv *pbuddy_mlmeext = &pbuddy_adapter->mlmeextpriv;
 
 	ies = (u8*)(frame_body + _PUBLIC_ACTION_IE_OFFSET_);
@@ -3621,7 +3621,7 @@ static void rtw_cfg80211_adjust_p2pie_ch
 }
 
 #ifdef CONFIG_WFD
-void rtw_append_wfd_ie(_adapter *padapter, u8 *buf, u32* len)
+void rtw_append_wfd_ie(struct rtw_adapter *padapter, u8 *buf, u32* len)
 {
 	unsigned char	*frame_body;
 	u8 category, action, OUI_Subtype, dialogToken=0;
@@ -3737,7 +3737,7 @@ void rtw_append_wfd_ie(_adapter *padapte
 }
 #endif
 
-int rtw_p2p_check_frames(_adapter *padapter, const u8 *buf, u32 len, u8 tx)
+int rtw_p2p_check_frames(struct rtw_adapter *padapter, const u8 *buf, u32 len, u8 tx)
 {
 	int is_p2p_frame = (-1);
 	unsigned char	*frame_body;
@@ -3971,7 +3971,7 @@ int rtw_p2p_check_frames(_adapter *padap
 	return is_p2p_frame;
 }
 
-void rtw_init_cfg80211_wifidirect_info( _adapter*	padapter)
+void rtw_init_cfg80211_wifidirect_info(struct rtw_adapter*	padapter)
 {
 	struct cfg80211_wifidirect_info *pcfg80211_wdinfo = &padapter->cfg80211_wdinfo;
 
@@ -3981,7 +3981,7 @@ void rtw_init_cfg80211_wifidirect_info(
 }
 #endif //CONFIG_IOCTL_CFG80211
 
-void p2p_protocol_wk_hdl(_adapter *padapter, int intCmdType)
+void p2p_protocol_wk_hdl(struct rtw_adapter *padapter, int intCmdType)
 {
 	struct wifidirect_info	*pwdinfo= &(padapter->wdinfo);
 
@@ -4070,7 +4070,7 @@ _func_exit_;
 }
 
 #ifdef CONFIG_P2P_PS
-void process_p2p_ps_ie(PADAPTER padapter, u8 *IEs, u32 IELength)
+void process_p2p_ps_ie(struct rtw_adapter * padapter, u8 *IEs, u32 IELength)
 {
 	u8 * ies;
 	u32 ies_len;
@@ -4182,7 +4182,7 @@ _func_enter_;
 _func_exit_;
 }
 
-void p2p_ps_wk_hdl(_adapter *padapter, u8 p2p_ps_state)
+void p2p_ps_wk_hdl(struct rtw_adapter *padapter, u8 p2p_ps_state)
 {
 	struct pwrctrl_priv		*pwrpriv = &padapter->pwrctrlpriv;
 	struct wifidirect_info	*pwdinfo= &(padapter->wdinfo);
@@ -4241,7 +4241,7 @@ _func_enter_;
 _func_exit_;
 }
 
-u8 p2p_ps_wk_cmd(_adapter*padapter, u8 p2p_ps_state, u8 enqueue)
+u8 p2p_ps_wk_cmd(struct rtw_adapter*padapter, u8 p2p_ps_state, u8 enqueue)
 {
 	struct cmd_obj	*ph2c;
 	struct drvextra_cmd_parm	*pdrvextra_cmd_parm;
@@ -4299,7 +4299,7 @@ _func_exit_;
 
 static void reset_ch_sitesurvey_timer_process (void *FunctionContext)
 {
-	_adapter *adapter = (_adapter *)FunctionContext;
+	struct rtw_adapter *adapter = (struct rtw_adapter *)FunctionContext;
 	struct	wifidirect_info		*pwdinfo = &adapter->wdinfo;
 
 	if(rtw_p2p_chk_state(pwdinfo, P2P_STATE_NONE))
@@ -4313,7 +4313,7 @@ static void reset_ch_sitesurvey_timer_pr
 
 static void reset_ch_sitesurvey_timer_process2 (void *FunctionContext)
 {
-	_adapter *adapter = (_adapter *)FunctionContext;
+	struct rtw_adapter *adapter = (struct rtw_adapter *)FunctionContext;
 	struct	wifidirect_info		*pwdinfo = &adapter->wdinfo;
 
 	if(rtw_p2p_chk_state(pwdinfo, P2P_STATE_NONE))
@@ -4327,7 +4327,7 @@ static void reset_ch_sitesurvey_timer_pr
 
 static void restore_p2p_state_timer_process (void *FunctionContext)
 {
-	_adapter *adapter = (_adapter *)FunctionContext;
+	struct rtw_adapter *adapter = (struct rtw_adapter *)FunctionContext;
 	struct	wifidirect_info		*pwdinfo = &adapter->wdinfo;
 
 	if(rtw_p2p_chk_state(pwdinfo, P2P_STATE_NONE))
@@ -4338,7 +4338,7 @@ static void restore_p2p_state_timer_proc
 
 static void pre_tx_scan_timer_process (void *FunctionContext)
 {
-	_adapter							*adapter = (_adapter *) FunctionContext;
+	struct rtw_adapter							*adapter = (struct rtw_adapter *) FunctionContext;
 	struct	wifidirect_info				*pwdinfo = &adapter->wdinfo;
 	struct mlme_priv					*pmlmepriv = &adapter->mlmepriv;
 	u8								_status = 0;
@@ -4386,7 +4386,7 @@ static void pre_tx_scan_timer_process (v
 
 static void find_phase_timer_process (void *FunctionContext)
 {
-	_adapter *adapter = (_adapter *)FunctionContext;
+	struct rtw_adapter *adapter = (struct rtw_adapter *)FunctionContext;
 	struct	wifidirect_info		*pwdinfo = &adapter->wdinfo;
 
 	if(rtw_p2p_chk_state(pwdinfo, P2P_STATE_NONE))
@@ -4400,7 +4400,7 @@ static void find_phase_timer_process (vo
 #ifdef CONFIG_CONCURRENT_MODE
 void ap_p2p_switch_timer_process (void *FunctionContext)
 {
-	_adapter *adapter = (_adapter *)FunctionContext;
+	struct rtw_adapter *adapter = (struct rtw_adapter *)FunctionContext;
 	struct	wifidirect_info		*pwdinfo = &adapter->wdinfo;
 #ifdef CONFIG_IOCTL_CFG80211
 	struct rtw_wdev_priv *pwdev_priv = wdev_to_priv(adapter->rtw_wdev);
@@ -4417,7 +4417,7 @@ void ap_p2p_switch_timer_process (void *
 }
 #endif
 
-void reset_global_wifidirect_info( _adapter* padapter )
+void reset_global_wifidirect_info(struct rtw_adapter* padapter )
 {
 	struct wifidirect_info	*pwdinfo;
 
@@ -4429,7 +4429,7 @@ void reset_global_wifidirect_info( _adap
 }
 
 #ifdef CONFIG_WFD
-int rtw_init_wifi_display_info(_adapter* padapter)
+int rtw_init_wifi_display_info(struct rtw_adapter* padapter)
 {
 	int	res = _SUCCESS;
 	struct wifi_display_info *pwfd_info = &padapter->wfd_info;
@@ -4453,7 +4453,7 @@ int rtw_init_wifi_display_info(_adapter*
 }
 #endif //CONFIG_WFD
 
-void rtw_init_wifidirect_timers(_adapter* padapter)
+void rtw_init_wifidirect_timers(struct rtw_adapter* padapter)
 {
 	struct wifidirect_info *pwdinfo = &padapter->wdinfo;
 
@@ -4467,7 +4467,7 @@ void rtw_init_wifidirect_timers(_adapter
 #endif
 }
 
-void rtw_init_wifidirect_addrs(_adapter* padapter, u8 *dev_addr, u8 *iface_addr)
+void rtw_init_wifidirect_addrs(struct rtw_adapter* padapter, u8 *dev_addr, u8 *iface_addr)
 {
 #ifdef CONFIG_P2P
 	struct wifidirect_info *pwdinfo = &padapter->wdinfo;
@@ -4482,14 +4482,14 @@ void rtw_init_wifidirect_addrs(_adapter*
 #endif
 }
 
-void init_wifidirect_info( _adapter* padapter, enum P2P_ROLE role)
+void init_wifidirect_info(struct rtw_adapter* padapter, enum P2P_ROLE role)
 {
 	struct wifidirect_info	*pwdinfo;
 #ifdef CONFIG_WFD
 	struct wifi_display_info	*pwfd_info = &padapter->wfd_info;
 #endif
 #ifdef CONFIG_CONCURRENT_MODE
-	_adapter				*pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter				*pbuddy_adapter = padapter->pbuddy_adapter;
 	struct wifidirect_info	*pbuddy_wdinfo;
 	struct mlme_priv		*pbuddy_mlmepriv;
 	struct mlme_ext_priv	*pbuddy_mlmeext;
@@ -4708,7 +4708,7 @@ void dbg_rtw_p2p_set_role(struct wifidir
 #endif //CONFIG_DBG_P2P
 
 
-int rtw_p2p_enable(_adapter *padapter, enum P2P_ROLE role)
+int rtw_p2p_enable(struct rtw_adapter *padapter, enum P2P_ROLE role)
 {
 	int ret = _SUCCESS;
 	struct wifidirect_info *pwdinfo= &(padapter->wdinfo);
@@ -4720,7 +4720,7 @@ int rtw_p2p_enable(_adapter *padapter, e
 		u16 bwmode;
 
 #ifdef CONFIG_CONCURRENT_MODE
-		_adapter				*pbuddy_adapter = padapter->pbuddy_adapter;
+		struct rtw_adapter				*pbuddy_adapter = padapter->pbuddy_adapter;
 		struct wifidirect_info	*pbuddy_wdinfo = &pbuddy_adapter->wdinfo;
 		//	Commented by Albert 2011/12/30
 		//	The driver just supports 1 P2P group operation.
--- a/drivers/staging/rtl8192du/core/rtw_pwrctrl.c
+++ b/drivers/staging/rtl8192du/core/rtw_pwrctrl.c
@@ -26,7 +26,7 @@
 
 
 #ifdef CONFIG_IPS
-void ips_enter(_adapter * padapter)
+void ips_enter(struct rtw_adapter * padapter)
 {
 	struct pwrctrl_priv *pwrpriv = &padapter->pwrctrlpriv;
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
@@ -54,7 +54,7 @@ void ips_enter(_adapter * padapter)
 
 }
 
-int ips_leave(_adapter * padapter)
+int ips_leave(struct rtw_adapter * padapter)
 {
 	struct pwrctrl_priv *pwrpriv = &padapter->pwrctrlpriv;
 	struct security_priv* psecuritypriv=&(padapter->securitypriv);
@@ -102,18 +102,18 @@ int ips_leave(_adapter * padapter)
 #endif
 
 #ifdef CONFIG_AUTOSUSPEND
-extern void autosuspend_enter(_adapter* padapter);
-extern int autoresume_enter(_adapter* padapter);
+extern void autosuspend_enter(struct rtw_adapter* padapter);
+extern int autoresume_enter(struct rtw_adapter* padapter);
 #endif
 
 #ifdef SUPPORT_HW_RFOFF_DETECTED
-int rtw_hw_suspend(_adapter *padapter );
-int rtw_hw_resume(_adapter *padapter);
+int rtw_hw_suspend(struct rtw_adapter *padapter );
+int rtw_hw_resume(struct rtw_adapter *padapter);
 #endif
 
-bool rtw_pwr_unassociated_idle(_adapter *adapter)
+bool rtw_pwr_unassociated_idle(struct rtw_adapter *adapter)
 {
-	_adapter *buddy = adapter->pbuddy_adapter;
+	struct rtw_adapter *buddy = adapter->pbuddy_adapter;
 	struct mlme_priv *pmlmepriv = &(adapter->mlmepriv);
 #ifdef CONFIG_P2P
 	struct wifidirect_info	*pwdinfo = &(adapter->wdinfo);
@@ -171,7 +171,7 @@ exit:
 	return ret;
 }
 
-void rtw_ps_processor(_adapter*padapter)
+void rtw_ps_processor(struct rtw_adapter*padapter)
 {
 #ifdef CONFIG_P2P
 	struct wifidirect_info	*pwdinfo = &( padapter->wdinfo );
@@ -289,7 +289,7 @@ exit:
 void pwr_state_check_handler(void *FunctionContext);
 void pwr_state_check_handler(void *FunctionContext)
 {
-	_adapter *padapter = (_adapter *)FunctionContext;
+	struct rtw_adapter *padapter = (struct rtw_adapter *)FunctionContext;
 	rtw_ps_cmd(padapter);
 }
 
@@ -301,7 +301,7 @@ void pwr_state_check_handler(void *Funct
  *	pslv			power state level, only could be PS_STATE_S0 ~ PS_STATE_S4
  *
  */
-void rtw_set_rpwm(PADAPTER padapter, u8 pslv)
+void rtw_set_rpwm(struct rtw_adapter * padapter, u8 pslv)
 {
 	u8	rpwm;
 	struct pwrctrl_priv *pwrpriv = &padapter->pwrctrlpriv;
@@ -343,8 +343,8 @@ _func_enter_;
 _func_exit_;
 }
 
-u8 PS_RDY_CHECK(_adapter * padapter);
-u8 PS_RDY_CHECK(_adapter * padapter)
+u8 PS_RDY_CHECK(struct rtw_adapter * padapter);
+u8 PS_RDY_CHECK(struct rtw_adapter * padapter)
 {
 	u32 curr_time, delta_time;
 	struct pwrctrl_priv	*pwrpriv = &padapter->pwrctrlpriv;
@@ -381,7 +381,7 @@ u8 PS_RDY_CHECK(_adapter * padapter)
 	return true;
 }
 
-void rtw_set_ps_mode(PADAPTER padapter, u8 ps_mode, u8 smart_ps)
+void rtw_set_ps_mode(struct rtw_adapter * padapter, u8 ps_mode, u8 smart_ps)
 {
 	struct pwrctrl_priv *pwrpriv = &padapter->pwrctrlpriv;
 #ifdef CONFIG_P2P
@@ -529,11 +529,11 @@ _func_exit_;
 //	Description:
 //		Enter the leisure power save mode.
 //
-void LPS_Enter(PADAPTER padapter)
+void LPS_Enter(struct rtw_adapter * padapter)
 {
 	struct pwrctrl_priv	*pwrpriv = &padapter->pwrctrlpriv;
 	struct mlme_priv	*pmlmepriv = &(padapter->mlmepriv);
-	_adapter *buddy = padapter->pbuddy_adapter;
+	struct rtw_adapter *buddy = padapter->pbuddy_adapter;
 
 _func_enter_;
 
@@ -602,7 +602,7 @@ _func_exit_;
 //	Description:
 //		Leave the leisure power save mode.
 //
-void LPS_Leave(PADAPTER padapter)
+void LPS_Leave(struct rtw_adapter * padapter)
 {
 #define LPS_LEAVE_TIMEOUT_MS 100
 
@@ -658,7 +658,7 @@ _func_exit_;
 // Description: Leave all power save mode: LPS, FwLPS, IPS if needed.
 // Move code to function by tynli. 2010.03.26.
 //
-void LeaveAllPowerSaveMode(PADAPTER Adapter)
+void LeaveAllPowerSaveMode(struct rtw_adapter * Adapter)
 {
 	struct mlme_priv	*pmlmepriv = &(Adapter->mlmepriv);
 
@@ -715,7 +715,7 @@ _func_exit_;
  * using to update cpwn of drv; and drv willl make a decision to up or down pwr level
  */
 void cpwm_int_hdl(
-	PADAPTER padapter,
+	struct rtw_adapter * padapter,
 	struct reportpwrstate_parm *preportpwrstate)
 {
 	struct pwrctrl_priv *pwrpriv;
@@ -765,7 +765,7 @@ __inline static void unregister_task_ali
  *	 _SUCCESS	rtw_xmit_thread can write fifo/txcmd afterwards.
  *	 _FAIL		rtw_xmit_thread can not do anything.
  */
-s32 rtw_register_tx_alive(PADAPTER padapter)
+s32 rtw_register_tx_alive(struct rtw_adapter * padapter)
 {
 	s32 res;
 	struct pwrctrl_priv *pwrctrl;
@@ -812,7 +812,7 @@ _func_exit_;
  *	_SUCCESS	rtw_cmd_thread can issue cmds to firmware afterwards.
  *	_FAIL		rtw_cmd_thread can not do anything.
  */
-s32 rtw_register_cmd_alive(PADAPTER padapter)
+s32 rtw_register_cmd_alive(struct rtw_adapter * padapter)
 {
 	s32 res;
 	struct pwrctrl_priv *pwrctrl;
@@ -855,7 +855,7 @@ _func_exit_;
  *	_SUCCESS
  *	_FAIL
  */
-s32 rtw_register_rx_alive(PADAPTER padapter)
+s32 rtw_register_rx_alive(struct rtw_adapter * padapter)
 {
 	struct pwrctrl_priv *pwrctrl;
 
@@ -886,7 +886,7 @@ _func_exit_;
  *	_SUCCESS
  *	_FAIL
  */
-s32 rtw_register_evt_alive(PADAPTER padapter)
+s32 rtw_register_evt_alive(struct rtw_adapter * padapter)
 {
 	struct pwrctrl_priv *pwrctrl;
 
@@ -915,7 +915,7 @@ _func_exit_;
  * No more pkts for TX,
  * Then driver shall call this fun. to power down firmware again.
  */
-void rtw_unregister_tx_alive(PADAPTER padapter)
+void rtw_unregister_tx_alive(struct rtw_adapter * padapter)
 {
 	struct pwrctrl_priv *pwrctrl;
 
@@ -953,7 +953,7 @@ _func_exit_;
  * and no more command to do,
  * then driver shall call this fun. to power down firmware again.
  */
-void rtw_unregister_cmd_alive(PADAPTER padapter)
+void rtw_unregister_cmd_alive(struct rtw_adapter * padapter)
 {
 	struct pwrctrl_priv *pwrctrl;
 
@@ -987,7 +987,7 @@ _func_exit_;
 /*
  * Caller: ISR
  */
-void rtw_unregister_rx_alive(PADAPTER padapter)
+void rtw_unregister_rx_alive(struct rtw_adapter * padapter)
 {
 	struct pwrctrl_priv *pwrctrl;
 
@@ -1008,7 +1008,7 @@ _func_enter_;
 _func_exit_;
 }
 
-void rtw_unregister_evt_alive(PADAPTER padapter)
+void rtw_unregister_evt_alive(struct rtw_adapter * padapter)
 {
 	struct pwrctrl_priv *pwrctrl;
 
@@ -1032,7 +1032,7 @@ _func_exit_;
 static void resume_workitem_callback(struct work_struct *work);
 #endif //CONFIG_RESUME_IN_WORKQUEUE
 
-void rtw_init_pwrctrl_priv(PADAPTER padapter)
+void rtw_init_pwrctrl_priv(struct rtw_adapter * padapter)
 {
 	struct pwrctrl_priv *pwrctrlpriv = &padapter->pwrctrlpriv;
 
@@ -1092,7 +1092,7 @@ _func_exit_;
 }
 
 
-void rtw_free_pwrctrl_priv(PADAPTER adapter)
+void rtw_free_pwrctrl_priv(struct rtw_adapter * adapter)
 {
 	struct pwrctrl_priv *pwrctrlpriv = &adapter->pwrctrlpriv;
 
@@ -1119,11 +1119,11 @@ _func_exit_;
 }
 
 #ifdef CONFIG_RESUME_IN_WORKQUEUE
-extern int rtw_resume_process(_adapter *padapter);
+extern int rtw_resume_process(struct rtw_adapter *padapter);
 static void resume_workitem_callback(struct work_struct *work)
 {
 	struct pwrctrl_priv *pwrpriv = container_of(work, struct pwrctrl_priv, resume_work);
-	_adapter *adapter = container_of(pwrpriv, _adapter, pwrctrlpriv);
+	struct rtw_adapter *adapter = container_of(pwrpriv, _adapter, pwrctrlpriv);
 
 	DBG_8192D("%s\n",__FUNCTION__);
 	rtw_resume_process(adapter);
@@ -1160,7 +1160,7 @@ inline void rtw_set_do_late_resume(struc
 #endif
 
 #ifdef CONFIG_HAS_EARLYSUSPEND
-extern int rtw_resume_process(_adapter *padapter);
+extern int rtw_resume_process(struct rtw_adapter *padapter);
 static void rtw_early_suspend(struct early_suspend *h)
 {
 	struct pwrctrl_priv *pwrpriv = container_of(h, struct pwrctrl_priv, early_suspend);
@@ -1172,7 +1172,7 @@ static void rtw_early_suspend(struct ear
 static void rtw_late_resume(struct early_suspend *h)
 {
 	struct pwrctrl_priv *pwrpriv = container_of(h, struct pwrctrl_priv, early_suspend);
-	_adapter *adapter = container_of(pwrpriv, _adapter, pwrctrlpriv);
+	struct rtw_adapter *adapter = container_of(pwrpriv, _adapter, pwrctrlpriv);
 
 	DBG_8192D("%s\n",__FUNCTION__);
 	if(pwrpriv->do_late_resume) {
@@ -1209,7 +1209,7 @@ void rtw_unregister_early_suspend(struct
 #endif //CONFIG_HAS_EARLYSUSPEND
 
 #ifdef CONFIG_ANDROID_POWER
-extern int rtw_resume_process(PADAPTER padapter);
+extern int rtw_resume_process(struct rtw_adapter * padapter);
 static void rtw_early_suspend(android_early_suspend_t *h)
 {
 	struct pwrctrl_priv *pwrpriv = container_of(h, struct pwrctrl_priv, early_suspend);
@@ -1221,7 +1221,7 @@ static void rtw_early_suspend(android_ea
 static void rtw_late_resume(android_early_suspend_t *h)
 {
 	struct pwrctrl_priv *pwrpriv = container_of(h, struct pwrctrl_priv, early_suspend);
-	_adapter *adapter = container_of(pwrpriv, _adapter, pwrctrlpriv);
+	struct rtw_adapter *adapter = container_of(pwrpriv, _adapter, pwrctrlpriv);
 
 	DBG_8192D("%s\n",__FUNCTION__);
 	if(pwrpriv->do_late_resume) {
@@ -1255,7 +1255,7 @@ void rtw_unregister_early_suspend(struct
 }
 #endif //CONFIG_ANDROID_POWER
 
-u8 rtw_interface_ps_func(_adapter *padapter, enum HAL_INTF_PS_FUNC efunc_id,u8* val)
+u8 rtw_interface_ps_func(struct rtw_adapter *padapter, enum HAL_INTF_PS_FUNC efunc_id,u8* val)
 {
 	u8 bResult = true;
 
@@ -1265,7 +1265,7 @@ u8 rtw_interface_ps_func(_adapter *padap
 }
 
 
-inline void rtw_set_ips_deny(_adapter *padapter, u32 ms)
+inline void rtw_set_ips_deny(struct rtw_adapter *padapter, u32 ms)
 {
 	struct pwrctrl_priv *pwrpriv = &padapter->pwrctrlpriv;
 	pwrpriv->ips_deny_time = rtw_get_current_time() + rtw_ms_to_systime(ms);
@@ -1277,7 +1277,7 @@ inline void rtw_set_ips_deny(_adapter *p
 * @ips_deffer_ms: the ms wiil prevent from falling into IPS after wakeup
 * Return _SUCCESS or _FAIL
 */
-int _rtw_pwr_wakeup(_adapter *padapter, u32 ips_deffer_ms, const char *caller)
+int _rtw_pwr_wakeup(struct rtw_adapter *padapter, u32 ips_deffer_ms, const char *caller)
 {
 	struct pwrctrl_priv *pwrpriv = &padapter->pwrctrlpriv;
 	struct mlme_priv *pmlmepriv = &padapter->mlmepriv;
@@ -1396,7 +1396,7 @@ exit:
 
 }
 
-int rtw_pm_set_lps(_adapter *padapter, u8 mode)
+int rtw_pm_set_lps(struct rtw_adapter *padapter, u8 mode)
 {
 	int	ret = 0;
 	struct pwrctrl_priv *pwrctrlpriv = &padapter->pwrctrlpriv;
@@ -1425,7 +1425,7 @@ int rtw_pm_set_lps(_adapter *padapter, u
 	return ret;
 }
 
-int rtw_pm_set_ips(_adapter *padapter, u8 mode)
+int rtw_pm_set_ips(struct rtw_adapter *padapter, u8 mode)
 {
 	struct pwrctrl_priv *pwrctrlpriv = &padapter->pwrctrlpriv;
 
--- a/drivers/staging/rtl8192du/core/rtw_recv.c
+++ b/drivers/staging/rtl8192du/core/rtw_recv.c
@@ -54,7 +54,7 @@ _func_exit_;
 
 }
 
-int _rtw_init_recv_priv(struct recv_priv *precvpriv, _adapter *padapter)
+int _rtw_init_recv_priv(struct recv_priv *precvpriv, struct rtw_adapter *padapter)
 {
 	int i;
 
@@ -153,7 +153,7 @@ void rtw_mfree_recv_priv_lock(struct rec
 
 void _rtw_free_recv_priv (struct recv_priv *precvpriv)
 {
-	_adapter	*padapter = precvpriv->adapter;
+	struct rtw_adapter	*padapter = precvpriv->adapter;
 
 _func_enter_;
 
@@ -178,7 +178,7 @@ union recv_frame *_rtw_alloc_recvframe (
 
 	union recv_frame  *precvframe;
 	struct list_head *plist, *phead;
-	_adapter *padapter;
+	struct rtw_adapter *padapter;
 	struct recv_priv *precvpriv;
 _func_enter_;
 
@@ -232,7 +232,7 @@ void rtw_init_recvframe(union recv_frame
 
 int rtw_free_recvframe(union recv_frame *precvframe, struct __queue *pfree_recv_queue)
 {
-	_adapter *padapter=precvframe->u.hdr.adapter;
+	struct rtw_adapter *padapter=precvframe->u.hdr.adapter;
 	struct recv_priv *precvpriv = &padapter->recvpriv;
 
 _func_enter_;
@@ -280,7 +280,7 @@ _func_exit_;
 int _rtw_enqueue_recvframe(union recv_frame *precvframe, struct __queue *queue)
 {
 
-	_adapter *padapter=precvframe->u.hdr.adapter;
+	struct rtw_adapter *padapter=precvframe->u.hdr.adapter;
 	struct recv_priv *precvpriv = &padapter->recvpriv;
 
 _func_enter_;
@@ -346,7 +346,7 @@ _func_exit_;
 
 }
 
-u32 rtw_free_uc_swdec_pending_queue(_adapter *adapter)
+u32 rtw_free_uc_swdec_pending_queue(struct rtw_adapter *adapter)
 {
 	u32 cnt = 0;
 	union recv_frame *pending_frame;
@@ -422,8 +422,8 @@ struct recv_buf *rtw_dequeue_recvbuf(str
 
 }
 
-int recvframe_chkmic(_adapter *adapter,  union recv_frame *precvframe);
-int recvframe_chkmic(_adapter *adapter,  union recv_frame *precvframe){
+int recvframe_chkmic(struct rtw_adapter *adapter,  union recv_frame *precvframe);
+int recvframe_chkmic(struct rtw_adapter *adapter,  union recv_frame *precvframe){
 
 	int	i,res=_SUCCESS;
 	u32	datalen;
@@ -564,8 +564,8 @@ _func_exit_;
 }
 
 //decrypt and set the ivlen,icvlen of the recv_frame
-union recv_frame * decryptor(_adapter *padapter,union recv_frame *precv_frame);
-union recv_frame * decryptor(_adapter *padapter,union recv_frame *precv_frame)
+union recv_frame * decryptor(struct rtw_adapter *padapter,union recv_frame *precv_frame);
+union recv_frame * decryptor(struct rtw_adapter *padapter,union recv_frame *precv_frame)
 {
 
 	struct rx_pkt_attrib *prxattrib = &precv_frame->u.hdr.attrib;
@@ -656,8 +656,8 @@ _func_exit_;
 
 }
 //###set the security information in the recv_frame
-union recv_frame * portctrl(_adapter *adapter,union recv_frame * precv_frame);
-union recv_frame * portctrl(_adapter *adapter,union recv_frame * precv_frame)
+union recv_frame * portctrl(struct rtw_adapter *adapter,union recv_frame * precv_frame);
+union recv_frame * portctrl(struct rtw_adapter *adapter,union recv_frame * precv_frame)
 {
 	u8   *psta_addr,*ptr;
 	uint  auth_alg;
@@ -775,8 +775,8 @@ _func_exit_;
 
 }
 
-void process_pwrbit_data(_adapter *padapter, union recv_frame *precv_frame);
-void process_pwrbit_data(_adapter *padapter, union recv_frame *precv_frame)
+void process_pwrbit_data(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+void process_pwrbit_data(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 #ifdef CONFIG_AP_MODE
 	unsigned char pwrbit;
@@ -821,8 +821,8 @@ void process_pwrbit_data(_adapter *padap
 #endif
 }
 
-void process_wmmps_data(_adapter *padapter, union recv_frame *precv_frame);
-void process_wmmps_data(_adapter *padapter, union recv_frame *precv_frame)
+void process_wmmps_data(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+void process_wmmps_data(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 #ifdef CONFIG_AP_MODE
 	struct rx_pkt_attrib *pattrib = &precv_frame->u.hdr.attrib;
@@ -895,7 +895,7 @@ void process_wmmps_data(_adapter *padapt
 }
 
 #ifdef CONFIG_TDLS
-int OnTDLS(_adapter *adapter, union recv_frame *precv_frame)
+int OnTDLS(struct rtw_adapter *adapter, union recv_frame *precv_frame)
 {
 	struct rx_pkt_attrib	*pattrib = & precv_frame->u.hdr.attrib;
 	int ret = _SUCCESS;
@@ -987,8 +987,8 @@ exit:
 }
 #endif //CONFIG_TDLS
 
-void count_rx_stats(_adapter *padapter, union recv_frame *prframe, struct sta_info*sta);
-void count_rx_stats(_adapter *padapter, union recv_frame *prframe, struct sta_info*sta)
+void count_rx_stats(struct rtw_adapter *padapter, union recv_frame *prframe, struct sta_info*sta);
+void count_rx_stats(struct rtw_adapter *padapter, union recv_frame *prframe, struct sta_info*sta)
 {
 	int	sz;
 	struct sta_info		*psta = NULL;
@@ -1021,12 +1021,12 @@ void count_rx_stats(_adapter *padapter,
 }
 
 int sta2sta_data_frame(
-	_adapter *adapter,
+	struct rtw_adapter *adapter,
 	union recv_frame *precv_frame,
 	struct sta_info**psta
 );
 int sta2sta_data_frame(
-	_adapter *adapter,
+	struct rtw_adapter *adapter,
 	union recv_frame *precv_frame,
 	struct sta_info**psta
 )
@@ -1238,11 +1238,11 @@ _func_exit_;
 }
 
 int ap2sta_data_frame(
-	_adapter *adapter,
+	struct rtw_adapter *adapter,
 	union recv_frame *precv_frame,
 	struct sta_info**psta );
 int ap2sta_data_frame(
-	_adapter *adapter,
+	struct rtw_adapter *adapter,
 	union recv_frame *precv_frame,
 	struct sta_info**psta )
 {
@@ -1397,11 +1397,11 @@ _func_exit_;
 }
 
 int sta2ap_data_frame(
-	_adapter *adapter,
+	struct rtw_adapter *adapter,
 	union recv_frame *precv_frame,
 	struct sta_info**psta );
 int sta2ap_data_frame(
-	_adapter *adapter,
+	struct rtw_adapter *adapter,
 	union recv_frame *precv_frame,
 	struct sta_info**psta )
 {
@@ -1468,8 +1468,8 @@ _func_exit_;
 
 }
 
-int validate_recv_ctrl_frame(_adapter *padapter, union recv_frame *precv_frame);
-int validate_recv_ctrl_frame(_adapter *padapter, union recv_frame *precv_frame)
+int validate_recv_ctrl_frame(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+int validate_recv_ctrl_frame(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 #ifdef CONFIG_AP_MODE
 	struct rx_pkt_attrib *pattrib = &precv_frame->u.hdr.attrib;
@@ -1626,9 +1626,9 @@ int validate_recv_ctrl_frame(_adapter *p
 
 }
 
-union recv_frame* recvframe_chk_defrag(PADAPTER padapter, union recv_frame *precv_frame);
-int validate_recv_mgnt_frame(PADAPTER padapter, union recv_frame *precv_frame);
-int validate_recv_mgnt_frame(PADAPTER padapter, union recv_frame *precv_frame)
+union recv_frame* recvframe_chk_defrag(struct rtw_adapter * padapter, union recv_frame *precv_frame);
+int validate_recv_mgnt_frame(struct rtw_adapter * padapter, union recv_frame *precv_frame);
+int validate_recv_mgnt_frame(struct rtw_adapter * padapter, union recv_frame *precv_frame)
 {
 	RT_TRACE(_module_rtl871x_recv_c_, _drv_info_, ("+validate_recv_mgnt_frame\n"));
 
@@ -1665,7 +1665,7 @@ int validate_recv_mgnt_frame(PADAPTER pa
 
 }
 
-int validate_recv_data_frame(_adapter *adapter, union recv_frame *precv_frame)
+int validate_recv_data_frame(struct rtw_adapter *adapter, union recv_frame *precv_frame)
 {
 	u8 bretry;
 	u8 *psa, *pda, *pbssid;
@@ -1817,8 +1817,8 @@ _func_exit_;
 	return ret;
 }
 
-int validate_recv_frame(_adapter *adapter, union recv_frame *precv_frame);
-int validate_recv_frame(_adapter *adapter, union recv_frame *precv_frame)
+int validate_recv_frame(struct rtw_adapter *adapter, union recv_frame *precv_frame);
+int validate_recv_frame(struct rtw_adapter *adapter, union recv_frame *precv_frame)
 {
 	//shall check frame subtype, to / from ds, da, bssid
 
@@ -1927,7 +1927,7 @@ int wlanhdr_to_ethhdr ( union recv_frame
 	struct ieee80211_snap_hdr	*psnap;
 
 	int ret=_SUCCESS;
-	_adapter			*adapter =precvframe->u.hdr.adapter;
+	struct rtw_adapter			*adapter =precvframe->u.hdr.adapter;
 	struct mlme_priv	*pmlmepriv = &adapter->mlmepriv;
 
 	u8	*ptr = get_recvframe_data(precvframe) ; // point to frame_ctrl field
@@ -1995,7 +1995,7 @@ _func_exit_;
 }
 
 //perform defrag
-union recv_frame * recvframe_defrag(_adapter *adapter, struct __queue *defrag_q)
+union recv_frame * recvframe_defrag(struct rtw_adapter *adapter, struct __queue *defrag_q)
 {
 	struct list_head *plist, *phead;
 	u8	*data,wlanhdr_offset;
@@ -2083,7 +2083,7 @@ _func_exit_;
 }
 
 //check if need to defrag, if needed queue the frame to defrag_q
-union recv_frame* recvframe_chk_defrag(PADAPTER padapter, union recv_frame *precv_frame)
+union recv_frame* recvframe_chk_defrag(struct rtw_adapter * padapter, union recv_frame *precv_frame)
 {
 	u8	ismfrag;
 	u8	fragnum;
@@ -2212,7 +2212,7 @@ _func_exit_;
 
 #define ENDIAN_FREE 1
 
-int amsdu_to_msdu(_adapter *padapter, union recv_frame *prframe)
+int amsdu_to_msdu(struct rtw_adapter *padapter, union recv_frame *prframe)
 {
 	int	a_len, padding_len;
 	u16	eth_type, nSubframe_Length;
@@ -2354,7 +2354,7 @@ int amsdu_to_msdu(_adapter *padapter, un
 
 			if( br_port && (check_fwstate(pmlmepriv, WIFI_STATION_STATE|WIFI_ADHOC_STATE) == true) )
 			{
-				int nat25_handle_frame(_adapter *priv, struct sk_buff *skb);
+				int nat25_handle_frame(struct rtw_adapter *priv, struct sk_buff *skb);
 				if (nat25_handle_frame(padapter, sub_skb) == -1) {
 					//priv->ext_stats.rx_data_drops++;
 					//DEBUG_ERR("RX DROP: nat25_handle_frame fail!\n");
@@ -2521,8 +2521,8 @@ int enqueue_reorder_recvframe(struct rec
 
 }
 
-int recv_indicatepkts_in_order(_adapter *padapter, struct recv_reorder_ctrl *preorder_ctrl, int bforced);
-int recv_indicatepkts_in_order(_adapter *padapter, struct recv_reorder_ctrl *preorder_ctrl, int bforced)
+int recv_indicatepkts_in_order(struct rtw_adapter *padapter, struct recv_reorder_ctrl *preorder_ctrl, int bforced);
+int recv_indicatepkts_in_order(struct rtw_adapter *padapter, struct recv_reorder_ctrl *preorder_ctrl, int bforced)
 {
 	struct list_head *phead, *plist;
 	union recv_frame *prframe;
@@ -2638,8 +2638,8 @@ int recv_indicatepkts_in_order(_adapter
 
 }
 
-int recv_indicatepkt_reorder(_adapter *padapter, union recv_frame *prframe);
-int recv_indicatepkt_reorder(_adapter *padapter, union recv_frame *prframe)
+int recv_indicatepkt_reorder(struct rtw_adapter *padapter, union recv_frame *prframe);
+int recv_indicatepkt_reorder(struct rtw_adapter *padapter, union recv_frame *prframe)
 {
 	int retval = _SUCCESS;
 	struct rx_pkt_attrib *pattrib = &prframe->u.hdr.attrib;
@@ -2804,7 +2804,7 @@ _err_exit:
 void rtw_reordering_ctrl_timeout_handler(void *pcontext)
 {
 	struct recv_reorder_ctrl *preorder_ctrl = (struct recv_reorder_ctrl *)pcontext;
-	_adapter *padapter = preorder_ctrl->padapter;
+	struct rtw_adapter *padapter = preorder_ctrl->padapter;
 	struct __queue *ppending_recvframe_queue = &preorder_ctrl->pending_recvframe_queue;
 
 
@@ -2825,7 +2825,7 @@ void rtw_reordering_ctrl_timeout_handler
 	spin_unlock_bh(&ppending_recvframe_queue->lock);
 }
 
-int process_recv_indicatepkts(_adapter *padapter, union recv_frame *prframe)
+int process_recv_indicatepkts(struct rtw_adapter *padapter, union recv_frame *prframe)
 {
 	int retval = _SUCCESS;
 	//struct recv_priv *precvpriv = &padapter->recvpriv;
@@ -2900,7 +2900,7 @@ int process_recv_indicatepkts(_adapter *
 
 }
 
-int recv_func_prehandle(_adapter *padapter, union recv_frame *rframe)
+int recv_func_prehandle(struct rtw_adapter *padapter, union recv_frame *rframe)
 {
 	int ret = _SUCCESS;
 	struct rx_pkt_attrib *pattrib = &rframe->u.hdr.attrib;
@@ -2941,7 +2941,7 @@ exit:
 	return ret;
 }
 
-int recv_func_posthandle(_adapter *padapter, union recv_frame *prframe)
+int recv_func_posthandle(struct rtw_adapter *padapter, union recv_frame *prframe)
 {
 	int ret = _SUCCESS;
 	union recv_frame *orig_prframe = prframe;
@@ -3097,8 +3097,8 @@ _recv_data_drop:
 }
 
 
-int recv_func(_adapter *padapter, union recv_frame *rframe);
-int recv_func(_adapter *padapter, union recv_frame *rframe)
+int recv_func(struct rtw_adapter *padapter, union recv_frame *rframe);
+int recv_func(struct rtw_adapter *padapter, union recv_frame *rframe)
 {
 	int ret;
 	struct rx_pkt_attrib *prxattrib = &rframe->u.hdr.attrib;
@@ -3142,7 +3142,7 @@ exit:
 
 s32 rtw_recv_entry(union recv_frame *precvframe)
 {
-	_adapter *padapter;
+	struct rtw_adapter *padapter;
 	struct recv_priv *precvpriv;
 	s32 ret=_SUCCESS;
 
@@ -3183,7 +3183,7 @@ _func_exit_;
 
 #ifdef CONFIG_NEW_SIGNAL_STAT_PROCESS
 void rtw_signal_stat_timer_hdl(RTW_TIMER_HDL_ARGS){
-	_adapter *adapter = (_adapter *)FunctionContext;
+	struct rtw_adapter *adapter = (struct rtw_adapter *)FunctionContext;
 	struct recv_priv *recvpriv = &adapter->recvpriv;
 
 	u32 tmp_s, tmp_q;
--- a/drivers/staging/rtl8192du/core/rtw_security.c
+++ b/drivers/staging/rtl8192du/core/rtw_security.c
@@ -160,7 +160,7 @@ _func_exit_;
 /*
 	Need to consider the fragment  situation
 */
-void rtw_wep_encrypt(_adapter *padapter, u8 *pxmitframe)
+void rtw_wep_encrypt(struct rtw_adapter *padapter, u8 *pxmitframe)
 {																	// exclude ICV
 
 	unsigned char	crc[4];
@@ -233,7 +233,7 @@ _func_exit_;
 
 }
 
-void rtw_wep_decrypt(_adapter  *padapter, u8 *precvframe)
+void rtw_wep_decrypt(struct rtw_adapter  *padapter, u8 *precvframe)
 {
 	// exclude ICV
 	u8	crc[4];
@@ -641,7 +641,7 @@ _func_exit_;
 
 
 //The hlen isn't include the IV
-u32	rtw_tkip_encrypt(_adapter *padapter, u8 *pxmitframe)
+u32	rtw_tkip_encrypt(struct rtw_adapter *padapter, u8 *pxmitframe)
 {																	// exclude ICV
 	u16	pnl;
 	u32	pnh;
@@ -748,7 +748,7 @@ _func_exit_;
 
 
 //The hlen isn't include the IV
-u32 rtw_tkip_decrypt(_adapter *padapter, u8 *precvframe)
+u32 rtw_tkip_decrypt(struct rtw_adapter *padapter, u8 *precvframe)
 {																	// exclude ICV
 	u16 pnl;
 	u32 pnh;
@@ -1493,7 +1493,7 @@ _func_exit_;
 
 
 
-u32	rtw_aes_encrypt(_adapter *padapter, u8 *pxmitframe)
+u32	rtw_aes_encrypt(struct rtw_adapter *padapter, u8 *pxmitframe)
 {	// exclude ICV
 
 
@@ -1869,7 +1869,7 @@ _func_exit_;
 	return res;
 }
 
-u32	rtw_aes_decrypt(_adapter *padapter, u8 *precvframe)
+u32	rtw_aes_decrypt(struct rtw_adapter *padapter, u8 *precvframe)
 {	// exclude ICV
 
 
@@ -2642,7 +2642,7 @@ static int omac1_aes_128(u8 *key, u8 *da
 }
 
 #ifdef CONFIG_TDLS
-void wpa_tdls_generate_tpk(_adapter *padapter, struct sta_info *psta)
+void wpa_tdls_generate_tpk(struct rtw_adapter *padapter, struct sta_info *psta)
 {
 	struct mlme_priv	*pmlmepriv = &padapter->mlmepriv;
 	u8 *SNonce = psta->SNonce;
@@ -2813,7 +2813,7 @@ int tdls_verify_mic(u8 *kck, u8 trans_se
 
 void rtw_use_tkipkey_handler(void *FunctionContext)
 {
-        _adapter *padapter = (_adapter *)FunctionContext;
+        struct rtw_adapter *padapter = (struct rtw_adapter *)FunctionContext;
 
 
 _func_enter_;
--- a/drivers/staging/rtl8192du/core/rtw_sta_mgt.c
+++ b/drivers/staging/rtl8192du/core/rtw_sta_mgt.c
@@ -424,7 +424,7 @@ _func_exit_;
 
 
 // using pstapriv->sta_hash_lock to protect
-u32	rtw_free_stainfo(_adapter *padapter , struct sta_info *psta)
+u32	rtw_free_stainfo(struct rtw_adapter *padapter , struct sta_info *psta)
 {
 	int i;
 	struct __queue *pfree_sta_queue;
@@ -577,7 +577,7 @@ _func_exit_;
 }
 
 // free all stainfo which in sta_hash[all]
-void rtw_free_all_stainfo(_adapter *padapter)
+void rtw_free_all_stainfo(struct rtw_adapter *padapter)
 {
 	struct list_head *plist, *phead;
 	s32	index;
@@ -664,7 +664,7 @@ _func_exit_;
 
 }
 
-u32 rtw_init_bcmc_stainfo(_adapter* padapter)
+u32 rtw_init_bcmc_stainfo(struct rtw_adapter* padapter)
 {
 
 	struct sta_info		*psta;
@@ -696,7 +696,7 @@ _func_exit_;
 }
 
 
-struct sta_info* rtw_get_bcmc_stainfo(_adapter* padapter)
+struct sta_info* rtw_get_bcmc_stainfo(struct rtw_adapter* padapter)
 {
 	struct sta_info		*psta;
 	struct sta_priv		*pstapriv = &padapter->stapriv;
@@ -708,7 +708,7 @@ _func_exit_;
 
 }
 
-u8 rtw_access_ctrl(_adapter *padapter, u8 *mac_addr)
+u8 rtw_access_ctrl(struct rtw_adapter *padapter, u8 *mac_addr)
 {
 	u8 res = true;
 #ifdef  CONFIG_AP_MODE
--- a/drivers/staging/rtl8192du/core/rtw_wlan_util.c
+++ b/drivers/staging/rtl8192du/core/rtw_wlan_util.c
@@ -139,7 +139,7 @@ unsigned char networktype_to_raid(unsign
 
 }
 
-int judge_network_type(_adapter *padapter, unsigned char *rate, int ratelen)
+int judge_network_type(struct rtw_adapter *padapter, unsigned char *rate, int ratelen)
 {
 	int network_type = 0;
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
@@ -240,8 +240,8 @@ unsigned char ratetbl_val_2wifirate(unsi
 
 }
 
-int is_basicrate(_adapter *padapter, unsigned char rate);
-int is_basicrate(_adapter *padapter, unsigned char rate)
+int is_basicrate(struct rtw_adapter *padapter, unsigned char rate);
+int is_basicrate(struct rtw_adapter *padapter, unsigned char rate)
 {
 	int i;
 	unsigned char val;
@@ -263,8 +263,8 @@ int is_basicrate(_adapter *padapter, uns
 	return false;
 }
 
-unsigned int ratetbl2rateset(_adapter *padapter, unsigned char *rateset);
-unsigned int ratetbl2rateset(_adapter *padapter, unsigned char *rateset)
+unsigned int ratetbl2rateset(struct rtw_adapter *padapter, unsigned char *rateset);
+unsigned int ratetbl2rateset(struct rtw_adapter *padapter, unsigned char *rateset)
 {
 	int i;
 	unsigned char rate;
@@ -300,7 +300,7 @@ unsigned int ratetbl2rateset(_adapter *p
 }
 
 
-void get_rate_set(_adapter *padapter, unsigned char *pbssrate, int *bssrate_len)
+void get_rate_set(struct rtw_adapter *padapter, unsigned char *pbssrate, int *bssrate_len)
 {
 	unsigned char supportedrates[NumRates];
 
@@ -310,7 +310,7 @@ void get_rate_set(_adapter *padapter, un
 }
 
 void UpdateBrateTbl(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	u8			*mBratesOS
 )
 {
@@ -358,12 +358,12 @@ void UpdateBrateTblForSoftAP(u8 *bssrate
 
 }
 
-void Save_DM_Func_Flag(_adapter *padapter)
+void Save_DM_Func_Flag(struct rtw_adapter *padapter)
 {
 	u8	bSaveFlag = true;
 
 #ifdef CONFIG_CONCURRENT_MODE
-	_adapter *pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter *pbuddy_adapter = padapter->pbuddy_adapter;
 	if(pbuddy_adapter)
 	rtw_hal_set_hwreg(pbuddy_adapter, HW_VAR_DM_FUNC_OP, (u8 *)(&bSaveFlag));
 #endif
@@ -372,21 +372,21 @@ void Save_DM_Func_Flag(_adapter *padapte
 
 }
 
-void Restore_DM_Func_Flag(_adapter *padapter)
+void Restore_DM_Func_Flag(struct rtw_adapter *padapter)
 {
 	u8	bSaveFlag = false;
 #ifdef CONFIG_CONCURRENT_MODE
-	_adapter *pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter *pbuddy_adapter = padapter->pbuddy_adapter;
 	if(pbuddy_adapter)
 	rtw_hal_set_hwreg(pbuddy_adapter, HW_VAR_DM_FUNC_OP, (u8 *)(&bSaveFlag));
 #endif
 	rtw_hal_set_hwreg(padapter, HW_VAR_DM_FUNC_OP, (u8 *)(&bSaveFlag));
 }
 
-void Switch_DM_Func(_adapter *padapter, u8 mode, u8 enable)
+void Switch_DM_Func(struct rtw_adapter *padapter, u8 mode, u8 enable)
 {
 #ifdef CONFIG_CONCURRENT_MODE
-	_adapter *pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter *pbuddy_adapter = padapter->pbuddy_adapter;
 #endif
 
 	if(enable == true)
@@ -407,17 +407,17 @@ void Switch_DM_Func(_adapter *padapter,
 	}
 }
 
-static void Set_NETYPE1_MSR(_adapter *padapter, u8 type)
+static void Set_NETYPE1_MSR(struct rtw_adapter *padapter, u8 type)
 {
 	rtw_hal_set_hwreg(padapter, HW_VAR_MEDIA_STATUS1, (u8 *)(&type));
 }
 
-static void Set_NETYPE0_MSR(_adapter *padapter, u8 type)
+static void Set_NETYPE0_MSR(struct rtw_adapter *padapter, u8 type)
 {
 	rtw_hal_set_hwreg(padapter, HW_VAR_MEDIA_STATUS, (u8 *)(&type));
 }
 
-void Set_MSR(_adapter *padapter, u8 type)
+void Set_MSR(struct rtw_adapter *padapter, u8 type)
 {
 #ifdef CONFIG_CONCURRENT_MODE
 	if(padapter->iface_type == IFACE_PORT1)
@@ -431,37 +431,37 @@ void Set_MSR(_adapter *padapter, u8 type
 	}
 }
 
-inline u8 rtw_get_oper_ch(_adapter *adapter)
+inline u8 rtw_get_oper_ch(struct rtw_adapter *adapter)
 {
 	return adapter_to_dvobj(adapter)->oper_channel;
 }
 
-inline void rtw_set_oper_ch(_adapter *adapter, u8 ch)
+inline void rtw_set_oper_ch(struct rtw_adapter *adapter, u8 ch)
 {
 	adapter_to_dvobj(adapter)->oper_channel = ch;
 }
 
-inline u8 rtw_get_oper_bw(_adapter *adapter)
+inline u8 rtw_get_oper_bw(struct rtw_adapter *adapter)
 {
 	return adapter_to_dvobj(adapter)->oper_bwmode;
 }
 
-inline void rtw_set_oper_bw(_adapter *adapter, u8 bw)
+inline void rtw_set_oper_bw(struct rtw_adapter *adapter, u8 bw)
 {
 	adapter_to_dvobj(adapter)->oper_bwmode = bw;
 }
 
-inline u8 rtw_get_oper_choffset(_adapter *adapter)
+inline u8 rtw_get_oper_choffset(struct rtw_adapter *adapter)
 {
 	return adapter_to_dvobj(adapter)->oper_ch_offset;
 }
 
-inline void rtw_set_oper_choffset(_adapter *adapter, u8 offset)
+inline void rtw_set_oper_choffset(struct rtw_adapter *adapter, u8 offset)
 {
 	adapter_to_dvobj(adapter)->oper_ch_offset = offset;
 }
 
-void SelectChannel(_adapter *padapter, unsigned char channel)
+void SelectChannel(struct rtw_adapter *padapter, unsigned char channel)
 {
 	struct mlme_ext_priv *pmlmeext = &padapter->mlmeextpriv;
 
@@ -483,7 +483,7 @@ void SelectChannel(_adapter *padapter, u
 #endif // CONFIG_DUALMAC_CONCURRENT
 }
 
-void SetBWMode(_adapter *padapter, unsigned short bwmode, unsigned char channel_offset)
+void SetBWMode(struct rtw_adapter *padapter, unsigned short bwmode, unsigned char channel_offset)
 {
 	struct mlme_ext_priv *pmlmeext = &padapter->mlmeextpriv;
 
@@ -507,7 +507,7 @@ void SetBWMode(_adapter *padapter, unsig
 #endif // CONFIG_DUALMAC_CONCURRENT
 }
 
-void set_channel_bwmode(_adapter *padapter, unsigned char channel, unsigned char channel_offset, unsigned short bwmode)
+void set_channel_bwmode(struct rtw_adapter *padapter, unsigned char channel, unsigned char channel_offset, unsigned short bwmode)
 {
 	u8 center_ch;
 	struct mlme_ext_priv *pmlmeext = &padapter->mlmeextpriv;
@@ -597,7 +597,7 @@ u16 get_beacon_interval(WLAN_BSSID_EX *b
 
 }
 
-int is_client_associated_to_ap(_adapter *padapter)
+int is_client_associated_to_ap(struct rtw_adapter *padapter)
 {
 	struct mlme_ext_priv	*pmlmeext;
 	struct mlme_ext_info	*pmlmeinfo;
@@ -618,7 +618,7 @@ int is_client_associated_to_ap(_adapter
 	}
 }
 
-int is_client_associated_to_ibss(_adapter *padapter)
+int is_client_associated_to_ibss(struct rtw_adapter *padapter)
 {
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
@@ -633,7 +633,7 @@ int is_client_associated_to_ibss(_adapte
 	}
 }
 
-int is_IBSS_empty(_adapter *padapter)
+int is_IBSS_empty(struct rtw_adapter *padapter)
 {
 	unsigned int i;
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
@@ -668,19 +668,19 @@ unsigned int decide_wait_for_beacon_time
 }
 
 void CAM_empty_entry(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8			ucIndex
 )
 {
 	rtw_hal_set_hwreg(Adapter, HW_VAR_CAM_EMPTY_ENTRY, (u8 *)(&ucIndex));
 }
 
-void invalidate_cam_all(_adapter *padapter)
+void invalidate_cam_all(struct rtw_adapter *padapter)
 {
 	rtw_hal_set_hwreg(padapter, HW_VAR_CAM_INVALID_ALL, 0);
 }
 
-void write_cam(_adapter *padapter, u8 entry, u16 ctrl, u8 *mac, u8 *key)
+void write_cam(struct rtw_adapter *padapter, u8 entry, u16 ctrl, u8 *mac, u8 *key)
 {
 	unsigned int	i, val, addr;
 	//unsigned int    cmd;
@@ -724,7 +724,7 @@ void write_cam(_adapter *padapter, u8 en
 
 }
 
-void clear_cam_entry(_adapter *padapter, u8 entry)
+void clear_cam_entry(struct rtw_adapter *padapter, u8 entry)
 {
 	unsigned char null_sta[] = {0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
 	unsigned char null_key[] = {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00};
@@ -732,7 +732,7 @@ void clear_cam_entry(_adapter *padapter,
 	write_cam(padapter, entry, 0, null_sta, null_key);
 }
 
-int allocate_fw_sta_entry(_adapter *padapter)
+int allocate_fw_sta_entry(struct rtw_adapter *padapter)
 {
 	unsigned int mac_id;
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
@@ -751,7 +751,7 @@ int allocate_fw_sta_entry(_adapter *pada
 	return mac_id;
 }
 
-void flush_all_cam_entry(_adapter *padapter)
+void flush_all_cam_entry(struct rtw_adapter *padapter)
 {
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
@@ -803,7 +803,7 @@ void flush_all_cam_entry(_adapter *padap
 }
 
 #if defined(CONFIG_P2P) && defined(CONFIG_WFD)
-int WFD_info_handler(_adapter *padapter, PNDIS_802_11_VARIABLE_IEs	pIE)
+int WFD_info_handler(struct rtw_adapter *padapter, PNDIS_802_11_VARIABLE_IEs	pIE)
 {
 	struct registry_priv	*pregpriv = &padapter->registrypriv;
 	struct mlme_priv	*pmlmepriv = &(padapter->mlmepriv);
@@ -838,7 +838,7 @@ int WFD_info_handler(_adapter *padapter,
 }
 #endif
 
-int WMM_param_handler(_adapter *padapter, PNDIS_802_11_VARIABLE_IEs	pIE)
+int WMM_param_handler(struct rtw_adapter *padapter, PNDIS_802_11_VARIABLE_IEs	pIE)
 {
 	//struct registry_priv	*pregpriv = &padapter->registrypriv;
 	struct mlme_priv	*pmlmepriv = &(padapter->mlmepriv);
@@ -877,7 +877,7 @@ int WMM_param_handler(_adapter *padapter
 
 }
 
-void WMMOnAssocRsp(_adapter *padapter)
+void WMMOnAssocRsp(struct rtw_adapter *padapter)
 {
 	u8	ACI, ACM, AIFS, ECWMin, ECWMax, aSifsTime;
 	u8	acm_mask;
@@ -947,7 +947,7 @@ void WMMOnAssocRsp(_adapter *padapter)
 	return;
 }
 
-static void bwmode_update_check(_adapter *padapter, PNDIS_802_11_VARIABLE_IEs pIE)
+static void bwmode_update_check(struct rtw_adapter *padapter, PNDIS_802_11_VARIABLE_IEs pIE)
 {
 	unsigned char	 new_bwmode;
 	unsigned char  new_ch_offset;
@@ -1054,7 +1054,7 @@ static void bwmode_update_check(_adapter
 
 }
 
-void HT_caps_handler(_adapter *padapter, PNDIS_802_11_VARIABLE_IEs pIE)
+void HT_caps_handler(struct rtw_adapter *padapter, PNDIS_802_11_VARIABLE_IEs pIE)
 {
 	unsigned int	i;
 	u8	rf_type;
@@ -1144,7 +1144,7 @@ void HT_caps_handler(_adapter *padapter,
 	return;
 }
 
-void HT_info_handler(_adapter *padapter, PNDIS_802_11_VARIABLE_IEs pIE)
+void HT_info_handler(struct rtw_adapter *padapter, PNDIS_802_11_VARIABLE_IEs pIE)
 {
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
@@ -1165,7 +1165,7 @@ void HT_info_handler(_adapter *padapter,
 	return;
 }
 
-void HTOnAssocRsp(_adapter *padapter)
+void HTOnAssocRsp(struct rtw_adapter *padapter)
 {
 	unsigned char		max_AMPDU_len;
 	unsigned char		min_MPDU_spacing;
@@ -1201,7 +1201,7 @@ void HTOnAssocRsp(_adapter *padapter)
 
 }
 
-void ERP_IE_handler(_adapter *padapter, PNDIS_802_11_VARIABLE_IEs pIE)
+void ERP_IE_handler(struct rtw_adapter *padapter, PNDIS_802_11_VARIABLE_IEs pIE)
 {
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
@@ -1213,7 +1213,7 @@ void ERP_IE_handler(_adapter *padapter,
 	_rtw_memcpy(&(pmlmeinfo->ERP_IE), pIE->data, pIE->Length);
 }
 
-void VCS_update(_adapter *padapter, struct sta_info *psta)
+void VCS_update(struct rtw_adapter *padapter, struct sta_info *psta)
 {
 	struct registry_priv	 *pregpriv = &padapter->registrypriv;
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
@@ -1281,7 +1281,7 @@ int check_ap_tdls_prohibited(u8 *pframe,
 }
 #endif //CONFIG_TDLS
 
-void update_beacon_info(_adapter *padapter, u8 *pframe, uint pkt_len, struct sta_info *psta)
+void update_beacon_info(struct rtw_adapter *padapter, u8 *pframe, uint pkt_len, struct sta_info *psta)
 {
 	unsigned int i;
 	unsigned int len;
@@ -1320,7 +1320,7 @@ void update_beacon_info(_adapter *padapt
 }
 
 #ifdef CONFIG_DFS
-void process_csa_ie(_adapter *padapter, u8 *pframe, uint pkt_len)
+void process_csa_ie(struct rtw_adapter *padapter, u8 *pframe, uint pkt_len)
 {
 	unsigned int i;
 	unsigned int len;
@@ -1349,7 +1349,7 @@ void process_csa_ie(_adapter *padapter,
 }
 #endif //CONFIG_DFS
 
-unsigned int is_ap_in_tkip(_adapter *padapter)
+unsigned int is_ap_in_tkip(struct rtw_adapter *padapter)
 {
 	u32 i;
 	PNDIS_802_11_VARIABLE_IEs	pIE;
@@ -1494,7 +1494,7 @@ unsigned int update_MSC_rate(struct HT_c
 	return mask;
 }
 
-int support_short_GI(_adapter *padapter, struct HT_caps_element *pHT_caps)
+int support_short_GI(struct rtw_adapter *padapter, struct HT_caps_element *pHT_caps)
 {
 	unsigned char					bit_offset;
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
@@ -1553,25 +1553,25 @@ unsigned char get_highest_mcs_rate(struc
 	return i;
 }
 
-void Update_RA_Entry(_adapter *padapter, u32 mac_id)
+void Update_RA_Entry(struct rtw_adapter *padapter, u32 mac_id)
 {
 	rtw_hal_update_ra_mask(padapter, mac_id);
 }
 
-void enable_rate_adaptive(_adapter *padapter, u32 mac_id);
-void enable_rate_adaptive(_adapter *padapter, u32 mac_id)
+void enable_rate_adaptive(struct rtw_adapter *padapter, u32 mac_id);
+void enable_rate_adaptive(struct rtw_adapter *padapter, u32 mac_id)
 {
 	Update_RA_Entry(padapter, mac_id);
 }
 
-void set_sta_rate(_adapter *padapter, struct sta_info *psta)
+void set_sta_rate(struct rtw_adapter *padapter, struct sta_info *psta)
 {
 	//rate adaptive
 	enable_rate_adaptive(padapter, psta->mac_id);
 }
 
 // Update RRSR and Rate for USERATE
-void update_tx_basic_rate(_adapter *padapter, u8 wirelessmode)
+void update_tx_basic_rate(struct rtw_adapter *padapter, u8 wirelessmode)
 {
 	NDIS_802_11_RATES_EX	supported_rates;
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
@@ -1676,7 +1676,7 @@ unsigned char check_assoc_AP(u8 *pframe,
 	return unknownAP;
 }
 
-void update_IOT_info(_adapter *padapter)
+void update_IOT_info(struct rtw_adapter *padapter)
 {
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
@@ -1708,7 +1708,7 @@ void update_IOT_info(_adapter *padapter)
 
 }
 
-void update_capinfo(PADAPTER Adapter, u16 updateCap)
+void update_capinfo(struct rtw_adapter * Adapter, u16 updateCap)
 {
 	struct mlme_ext_priv	*pmlmeext = &Adapter->mlmeextpriv;
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
@@ -1778,7 +1778,7 @@ void update_capinfo(PADAPTER Adapter, u1
 
 }
 
-void update_wireless_mode(_adapter *padapter)
+void update_wireless_mode(struct rtw_adapter *padapter)
 {
 	u8	init_rate=0;
 	int	ratelen, network_type = 0;
@@ -1788,7 +1788,7 @@ void update_wireless_mode(_adapter *pada
 	WLAN_BSSID_EX		*cur_network = &(pmlmeinfo->network);
 	unsigned char			*rate = cur_network->SupportedRates;
 #ifdef CONFIG_CONCURRENT_MODE
-	_adapter *pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter *pbuddy_adapter = padapter->pbuddy_adapter;
 #endif //CONFIG_CONCURRENT_MODE
 
 	ratelen = rtw_get_rateset_len(cur_network->SupportedRates);
@@ -1861,12 +1861,12 @@ void update_wireless_mode(_adapter *pada
 	}
 }
 
-void fire_write_MAC_cmd(_adapter *padapter, unsigned int addr, unsigned int value);
-void fire_write_MAC_cmd(_adapter *padapter, unsigned int addr, unsigned int value)
+void fire_write_MAC_cmd(struct rtw_adapter *padapter, unsigned int addr, unsigned int value);
+void fire_write_MAC_cmd(struct rtw_adapter *padapter, unsigned int addr, unsigned int value)
 {
 }
 
-void update_bmc_sta_support_rate(_adapter *padapter, u32 mac_id)
+void update_bmc_sta_support_rate(struct rtw_adapter *padapter, u32 mac_id)
 {
 	struct mlme_ext_priv	*pmlmeext = &(padapter->mlmeextpriv);
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
@@ -1882,7 +1882,7 @@ void update_bmc_sta_support_rate(_adapte
 	}
 }
 
-int update_sta_support_rate(_adapter *padapter, u8* pvar_ie, uint var_ie_len, int cam_idx)
+int update_sta_support_rate(struct rtw_adapter *padapter, u8* pvar_ie, uint var_ie_len, int cam_idx)
 {
 	unsigned int	ie_len;
 	PNDIS_802_11_VARIABLE_IEs	pIE;
@@ -1909,7 +1909,7 @@ int update_sta_support_rate(_adapter *pa
 
 }
 
-void process_addba_req(_adapter *padapter, u8 *paddba_req, u8 *addr)
+void process_addba_req(struct rtw_adapter *padapter, u8 *paddba_req, u8 *addr)
 {
 	struct sta_info *psta;
 	u16 tid, start_seq, param;
@@ -1960,19 +1960,19 @@ void update_TSF(struct mlme_ext_priv *pm
 	pmlmeext->TSFValue |= le32_to_cpu(*pbuf);
 }
 
-void correct_TSF(_adapter *padapter, struct mlme_ext_priv *pmlmeext)
+void correct_TSF(struct rtw_adapter *padapter, struct mlme_ext_priv *pmlmeext)
 {
 	rtw_hal_set_hwreg(padapter, HW_VAR_CORRECT_TSF, 0);
 }
 
-void beacon_timing_control(_adapter *padapter)
+void beacon_timing_control(struct rtw_adapter *padapter)
 {
 	rtw_hal_bcn_related_reg_setting(padapter);
 }
 
-static _adapter *pbuddy_padapter = NULL;
+static struct rtw_adapter *pbuddy_padapter = NULL;
 
-int rtw_handle_dualmac(_adapter *adapter, bool init)
+int rtw_handle_dualmac(struct rtw_adapter *adapter, bool init)
 {
 	int status = _SUCCESS;
 	struct dvobj_priv *dvobj = adapter_to_dvobj(adapter);
--- a/drivers/staging/rtl8192du/core/rtw_xmit.c
+++ b/drivers/staging/rtl8192du/core/rtw_xmit.c
@@ -67,7 +67,7 @@ _func_exit_;
 
 }
 
-s32	_rtw_init_xmit_priv(struct xmit_priv *pxmitpriv, _adapter *padapter)
+s32	_rtw_init_xmit_priv(struct xmit_priv *pxmitpriv, struct rtw_adapter *padapter)
 {
 	int i;
 	struct xmit_buf *pxmitbuf;
@@ -303,8 +303,8 @@ void  rtw_mfree_xmit_priv_lock (struct x
 
 void _rtw_free_xmit_priv (struct xmit_priv *pxmitpriv)
 {
-       int i;
-      _adapter *padapter = pxmitpriv->adapter;
+	int i;
+	struct rtw_adapter *padapter = pxmitpriv->adapter;
 	struct xmit_frame	*pxmitframe = (struct xmit_frame*) pxmitpriv->pxmit_frame_buf;
 	struct xmit_buf *pxmitbuf = (struct xmit_buf *)pxmitpriv->pxmitbuf;
 
@@ -373,7 +373,7 @@ _func_exit_;
 
 }
 
-static void update_attrib_vcs_info(_adapter *padapter, struct xmit_frame *pxmitframe)
+static void update_attrib_vcs_info(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe)
 {
 	u32	sz;
 	struct pkt_attrib	*pattrib = &pxmitframe->attrib;
@@ -576,7 +576,7 @@ static void set_qos(struct pkt_file *ppk
 	pattrib->subtype = WIFI_QOS_DATA_TYPE;
 }
 
-static s32 update_attrib(_adapter *padapter, struct sk_buff *pkt, struct pkt_attrib *pattrib)
+static s32 update_attrib(struct rtw_adapter *padapter, struct sk_buff *pkt, struct pkt_attrib *pattrib)
 {
 	uint i;
 	struct pkt_file pktfile;
@@ -837,7 +837,7 @@ _func_exit_;
 	return res;
 }
 
-static s32 xmitframe_addmic(_adapter *padapter, struct xmit_frame *pxmitframe){
+static s32 xmitframe_addmic(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe){
 	int			curfragnum,length;
 	u8	*pframe, *payload,mic[8];
 	struct	mic_data		micdata;
@@ -967,7 +967,7 @@ _func_exit_;
 	return _SUCCESS;
 }
 
-static s32 xmitframe_swencrypt(_adapter *padapter, struct xmit_frame *pxmitframe){
+static s32 xmitframe_swencrypt(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe){
 
 	struct	pkt_attrib	 *pattrib = &pxmitframe->attrib;
 	//struct	security_priv	*psecuritypriv=&padapter->securitypriv;
@@ -1003,7 +1003,7 @@ _func_exit_;
 	return _SUCCESS;
 }
 
-s32 rtw_make_wlanhdr (_adapter *padapter , u8 *hdr, struct pkt_attrib *pattrib)
+s32 rtw_make_wlanhdr (struct rtw_adapter *padapter , u8 *hdr, struct pkt_attrib *pattrib)
 {
 	u16 *qc;
 
@@ -1214,7 +1214,7 @@ _func_exit_;
 	return res;
 }
 
-s32 rtw_txframes_pending(_adapter *padapter)
+s32 rtw_txframes_pending(struct rtw_adapter *padapter)
 {
 	struct xmit_priv *pxmitpriv = &padapter->xmitpriv;
 
@@ -1224,7 +1224,7 @@ s32 rtw_txframes_pending(_adapter *padap
 			 (_rtw_queue_empty(&pxmitpriv->vo_pending) == false));
 }
 
-s32 rtw_txframes_sta_ac_pending(_adapter *padapter, struct pkt_attrib *pattrib)
+s32 rtw_txframes_sta_ac_pending(struct rtw_adapter *padapter, struct pkt_attrib *pattrib)
 {
 	struct sta_info *psta;
 	struct tx_servq *ptxservq;
@@ -1259,7 +1259,7 @@ s32 rtw_txframes_sta_ac_pending(_adapter
 
 #ifdef CONFIG_TDLS
 
-int rtw_build_tdls_ies(_adapter * padapter, struct xmit_frame * pxmitframe, u8 *pframe, u8 action)
+int rtw_build_tdls_ies(struct rtw_adapter * padapter, struct xmit_frame * pxmitframe, u8 *pframe, u8 action)
 {
 	int res=_SUCCESS;
 
@@ -1304,7 +1304,7 @@ int rtw_build_tdls_ies(_adapter * padapt
 	return res;
 }
 
-s32 rtw_make_tdls_wlanhdr (_adapter *padapter , u8 *hdr, struct pkt_attrib *pattrib, u8 action)
+s32 rtw_make_tdls_wlanhdr (struct rtw_adapter *padapter , u8 *hdr, struct pkt_attrib *pattrib, u8 action)
 {
 	u16 *qc;
 	struct rtw_ieee80211_hdr *pwlanhdr = (struct rtw_ieee80211_hdr *)hdr;
@@ -1411,7 +1411,7 @@ _func_exit_;
 	return res;
 }
 
-s32 rtw_xmit_tdls_coalesce(_adapter * padapter, struct xmit_frame * pxmitframe, u8 action)
+s32 rtw_xmit_tdls_coalesce(struct rtw_adapter * padapter, struct xmit_frame * pxmitframe, u8 action)
 {
 	s32 llc_sz;
 
@@ -1549,7 +1549,7 @@ This sub-routine will perform all the fo
 6. apply sw-encrypt, if necessary.
 
 */
-s32 rtw_xmitframe_coalesce(_adapter *padapter, struct sk_buff *pkt, struct xmit_frame *pxmitframe)
+s32 rtw_xmitframe_coalesce(struct rtw_adapter *padapter, struct sk_buff *pkt, struct xmit_frame *pxmitframe)
 {
 	struct pkt_file pktfile;
 
@@ -1763,7 +1763,7 @@ _func_exit_;
 	return SNAP_SIZE + sizeof(u16);
 }
 
-void rtw_update_protection(_adapter *padapter, u8 *ie, uint ie_len)
+void rtw_update_protection(struct rtw_adapter *padapter, u8 *ie, uint ie_len)
 {
 
 	uint	protection;
@@ -1812,7 +1812,7 @@ _func_exit_;
 
 }
 
-void rtw_count_tx_stats(_adapter *padapter, struct xmit_frame *pxmitframe, int sz)
+void rtw_count_tx_stats(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe, int sz)
 {
 	struct sta_info *psta = NULL;
 	struct stainfo_stats *pstats = NULL;
@@ -2043,7 +2043,7 @@ struct xmit_frame *rtw_alloc_xmitframe(s
 	struct xmit_frame *pxframe = NULL;
 	struct list_head *plist, *phead;
 	struct __queue *pfree_xmit_queue = &pxmitpriv->free_xmit_queue;
-	_adapter *padapter = pxmitpriv->adapter;
+	struct rtw_adapter *padapter = pxmitpriv->adapter;
 
 _func_enter_;
 
@@ -2107,7 +2107,7 @@ _func_exit_;
 s32 rtw_free_xmitframe(struct xmit_priv *pxmitpriv, struct xmit_frame *pxmitframe)
 {
 	struct __queue *pfree_xmit_queue = &pxmitpriv->free_xmit_queue;
-	_adapter *padapter = pxmitpriv->adapter;
+	struct rtw_adapter *padapter = pxmitpriv->adapter;
 	struct sk_buff *pndis_pkt = NULL;
 
 _func_enter_;
@@ -2171,7 +2171,7 @@ _func_enter_;
 _func_exit_;
 }
 
-s32 rtw_xmitframe_enqueue(_adapter *padapter, struct xmit_frame *pxmitframe)
+s32 rtw_xmitframe_enqueue(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe)
 {
 	if (rtw_xmit_classifier(padapter, pxmitframe) == _FAIL)
 	{
@@ -2221,7 +2221,7 @@ struct xmit_frame* rtw_dequeue_xframe(st
 	struct tx_servq *ptxservq = NULL;
 	struct __queue *pframe_queue = NULL;
 	struct xmit_frame *pxmitframe = NULL;
-	_adapter *padapter = pxmitpriv->adapter;
+	struct rtw_adapter *padapter = pxmitpriv->adapter;
 	struct registry_priv	*pregpriv = &padapter->registrypriv;
 	int i, inx[4];
 
@@ -2300,7 +2300,7 @@ _func_exit_;
 	return pxmitframe;
 }
 
-struct tx_servq *rtw_get_sta_pending(_adapter *padapter, struct sta_info *psta, int up, u8 *ac)
+struct tx_servq *rtw_get_sta_pending(struct rtw_adapter *padapter, struct sta_info *psta, int up, u8 *ac)
 {
 	struct tx_servq *ptxservq;
 
@@ -2341,7 +2341,7 @@ _func_exit_;
  * Will enqueue pxmitframe to the proper queue,
  * and indicate it to xx_pending list.....
  */
-s32 rtw_xmit_classifier(_adapter *padapter, struct xmit_frame *pxmitframe)
+s32 rtw_xmit_classifier(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe)
 {
 	u8	ac_index;
 	struct sta_info	*psta;
@@ -2382,7 +2382,7 @@ _func_exit_;
 	return res;
 }
 
-void rtw_alloc_hwxmits(_adapter *padapter)
+void rtw_alloc_hwxmits(struct rtw_adapter *padapter)
 {
 	struct hw_xmit *hwxmits;
 	struct xmit_priv *pxmitpriv = &padapter->xmitpriv;
@@ -2444,7 +2444,7 @@ void rtw_alloc_hwxmits(_adapter *padapte
 
 }
 
-void rtw_free_hwxmits(_adapter *padapter)
+void rtw_free_hwxmits(struct rtw_adapter *padapter)
 {
 	struct hw_xmit *hwxmits;
 	struct xmit_priv *pxmitpriv = &padapter->xmitpriv;
@@ -2469,12 +2469,12 @@ _func_exit_;
 }
 
 #ifdef CONFIG_BR_EXT
-int rtw_br_client_tx(_adapter *padapter, struct sk_buff **pskb)
+int rtw_br_client_tx(struct rtw_adapter *padapter, struct sk_buff **pskb)
 {
 	struct sk_buff *skb = *pskb;
 	struct xmit_priv *pxmitpriv = &padapter->xmitpriv;
 	{
-		void dhcp_flag_bcast(_adapter *priv, struct sk_buff *skb);
+		void dhcp_flag_bcast(struct rtw_adapter *priv, struct sk_buff *skb);
 		int res, is_vlan_tag=0, i, do_nat25=1;
 		unsigned short vlan_hdr=0;
 		void *br_port = NULL;
@@ -2519,7 +2519,7 @@ int rtw_br_client_tx(_adapter *padapter,
 
 			if (*((unsigned short *)(skb->data+MACADDRLEN*2)) == __constant_htons(ETH_P_IP)) {
 				if (memcmp(padapter->scdb_mac, skb->data+MACADDRLEN, MACADDRLEN)) {
-					void *scdb_findEntry(_adapter *priv, unsigned char *macAddr, unsigned char *ipAddr);
+					void *scdb_findEntry(struct rtw_adapter *priv, unsigned char *macAddr, unsigned char *ipAddr);
 
 					if ((padapter->scdb_entry = (struct nat25_network_db_entry *)scdb_findEntry(padapter,
 								skb->data+MACADDRLEN, skb->data+WLAN_ETHHDR_LEN+12)) != NULL) {
@@ -2544,7 +2544,7 @@ int rtw_br_client_tx(_adapter *padapter,
 #endif // 1
 			if (do_nat25)
 			{
-				int nat25_db_handle(_adapter *priv, struct sk_buff *skb, int method);
+				int nat25_db_handle(struct rtw_adapter *priv, struct sk_buff *skb, int method);
 				if (nat25_db_handle(padapter, skb, NAT25_CHECK) == 0) {
 					struct sk_buff *newskb;
 
@@ -2649,7 +2649,7 @@ int rtw_br_client_tx(_adapter *padapter,
 }
 #endif	// CONFIG_BR_EXT
 
-static void do_queue_select(_adapter	*padapter, struct pkt_attrib *pattrib)
+static void do_queue_select(struct rtw_adapter	*padapter, struct pkt_attrib *pattrib)
 {
 	u8 qsel;
 
@@ -2672,7 +2672,7 @@ static void do_queue_select(_adapter	*pa
  *	0	success, hardware will handle this xmit frame(packet)
  *	<0	fail
  */
-s32 rtw_xmit(_adapter *padapter, struct sk_buff **ppkt)
+s32 rtw_xmit(struct rtw_adapter *padapter, struct sk_buff **ppkt)
 {
 #ifdef CONFIG_AP_MODE
 #endif
@@ -2748,7 +2748,7 @@ s32 rtw_xmit(_adapter *padapter, struct
 }
 
 #ifdef CONFIG_TDLS
-int xmitframe_enqueue_for_tdls_sleeping_sta(_adapter *padapter, struct xmit_frame *pxmitframe)
+int xmitframe_enqueue_for_tdls_sleeping_sta(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe)
 {
 	int ret=false;
 
@@ -2821,7 +2821,7 @@ int xmitframe_enqueue_for_tdls_sleeping_
 
 #if defined(CONFIG_AP_MODE) || defined(CONFIG_TDLS)
 
-int xmitframe_enqueue_for_sleeping_sta(_adapter *padapter, struct xmit_frame *pxmitframe)
+int xmitframe_enqueue_for_sleeping_sta(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe)
 {
 	int ret=false;
 	struct sta_info *psta=NULL;
@@ -2953,7 +2953,7 @@ int xmitframe_enqueue_for_sleeping_sta(_
 	return ret;
 }
 
-static void dequeue_xmitframes_to_sleeping_queue(_adapter *padapter, struct sta_info *psta, struct __queue *pframequeue)
+static void dequeue_xmitframes_to_sleeping_queue(struct rtw_adapter *padapter, struct sta_info *psta, struct __queue *pframequeue)
 {
 	struct list_head *plist, *phead;
 	u8	ac_index;
@@ -2983,7 +2983,7 @@ static void dequeue_xmitframes_to_sleepi
 
 }
 
-void stop_sta_xmit(_adapter *padapter, struct sta_info *psta)
+void stop_sta_xmit(struct rtw_adapter *padapter, struct sta_info *psta)
 {
 	struct sta_info *psta_bmc;
 	struct sta_xmit_priv *pstaxmitpriv;
@@ -3043,7 +3043,7 @@ void stop_sta_xmit(_adapter *padapter, s
 	spin_unlock_bh(&pxmitpriv->lock);
 }
 
-void wakeup_sta_to_xmit(_adapter *padapter, struct sta_info *psta)
+void wakeup_sta_to_xmit(struct rtw_adapter *padapter, struct sta_info *psta)
 {
 	u8 update_mask=0, wmmps_ac=0;
 	struct sta_info *psta_bmc;
@@ -3209,7 +3209,7 @@ void wakeup_sta_to_xmit(_adapter *padapt
 
 }
 
-void xmit_delivery_enabled_frames(_adapter *padapter, struct sta_info *psta)
+void xmit_delivery_enabled_frames(struct rtw_adapter *padapter, struct sta_info *psta)
 {
 	u8 wmmps_ac=0;
 	struct list_head *xmitframe_plist, *xmitframe_phead;
@@ -3363,7 +3363,7 @@ void rtw_sctx_done(struct submit_ctx **s
 #ifdef CONFIG_XMIT_ACK
 
 #ifdef CONFIG_XMIT_ACK_POLLING
-s32 c2h_evt_hdl(_adapter *adapter, struct c2h_evt_hdr *c2h_evt, c2h_id_filter filter);
+s32 c2h_evt_hdl(struct rtw_adapter *adapter, struct c2h_evt_hdr *c2h_evt, c2h_id_filter filter);
 
 /**
  * rtw_ack_tx_polling -
@@ -3378,7 +3378,7 @@ int rtw_ack_tx_polling(struct xmit_priv
 {
 	int ret = _FAIL;
 	struct submit_ctx *pack_tx_ops = &pxmitpriv->ack_tx_ops;
-	_adapter *adapter = container_of(pxmitpriv, _adapter, xmitpriv);
+	struct rtw_adapter *adapter = container_of(pxmitpriv, struct rtw_adapter, xmitpriv);
 
 	pack_tx_ops->submit_time = rtw_get_current_time();
 	pack_tx_ops->timeout_ms = timeout_ms;
--- a/drivers/staging/rtl8192du/hal/hal_com.c
+++ b/drivers/staging/rtl8192du/hal/hal_com.c
@@ -190,7 +190,7 @@ void dump_chip_info(HAL_VERSION	chip_ver
 
 u8	/* return the final channel plan decision */
 hal_com_get_channel_plan(
-	PADAPTER	padapter,
+	struct rtw_adapter *	padapter,
 	u8 hw_channel_plan, /* from HW (efuse/eeprom) */
 	u8 sw_channel_plan, /* from SW (registry/module param) */
 	u8 def_channel_plan, /* used when the former two are invalid */
@@ -267,7 +267,7 @@ u8	ratetohwrate(u8 rate)
 	return ret;
 }
 
-void	halsetbratecfg(PADAPTER Adapter, u8 *brates, u16 *bratecfg)
+void	halsetbratecfg(struct rtw_adapter * Adapter, u8 *brates, u16 *bratecfg)
 {
 	u8	i, is_brate, brate;
 
@@ -318,7 +318,7 @@ void	halsetbratecfg(PADAPTER Adapter, u8
 	}
 }
 
-void hal_init_macaddr(_adapter *adapter)
+void hal_init_macaddr(struct rtw_adapter *adapter)
 {
 	rtw_hal_set_hwreg(adapter, HW_VAR_MAC_ADDR,
 			  adapter->eeprompriv.mac_addr);
@@ -335,12 +335,12 @@ void hal_init_macaddr(_adapter *adapter)
 * BITS	 [127:120]	[119:16]      [15:8]		  [7:4]		   [3:0]
 */
 
-void c2h_evt_clear(_adapter *adapter)
+void c2h_evt_clear(struct rtw_adapter *adapter)
 {
 	rtw_write8(adapter, REG_C2HEVT_CLEAR, C2H_EVT_HOST_CLOSE);
 }
 
-s32 c2h_evt_read(_adapter *adapter, u8 *buf)
+s32 c2h_evt_read(struct rtw_adapter *adapter, u8 *buf)
 {
 	s32 ret = _FAIL;
 	struct c2h_evt_hdr *c2h_evt;
--- a/drivers/staging/rtl8192du/hal/hal_intf.c
+++ b/drivers/staging/rtl8192du/hal/hal_intf.c
@@ -26,62 +26,62 @@
 #include <hal_intf.h>
 #include <usb_hal.h>
 
-void rtw_hal_chip_configure(_adapter *padapter)
+void rtw_hal_chip_configure(struct rtw_adapter *padapter)
 {
 	if(padapter->HalFunc.intf_chip_configure)
 		padapter->HalFunc.intf_chip_configure(padapter);
 }
 
-void rtw_hal_read_chip_info(_adapter *padapter)
+void rtw_hal_read_chip_info(struct rtw_adapter *padapter)
 {
 	if(padapter->HalFunc.read_adapter_info)
 		padapter->HalFunc.read_adapter_info(padapter);
 }
 
-void rtw_hal_read_chip_version(_adapter *padapter)
+void rtw_hal_read_chip_version(struct rtw_adapter *padapter)
 {
 	if(padapter->HalFunc.read_chip_version)
 		padapter->HalFunc.read_chip_version(padapter);
 }
 
-void rtw_hal_def_value_init(_adapter *padapter)
+void rtw_hal_def_value_init(struct rtw_adapter *padapter)
 {
 	if(padapter->HalFunc.init_default_value)
 		padapter->HalFunc.init_default_value(padapter);
 }
 
-void rtw_hal_free_data(_adapter *padapter)
+void rtw_hal_free_data(struct rtw_adapter *padapter)
 {
 	if(padapter->HalFunc.free_hal_data)
 		padapter->HalFunc.free_hal_data(padapter);
 }
 
-void rtw_hal_dm_init(_adapter *padapter)
+void rtw_hal_dm_init(struct rtw_adapter *padapter)
 {
 	if(padapter->HalFunc.dm_init)
 		padapter->HalFunc.dm_init(padapter);
 }
 
-void rtw_hal_dm_deinit(_adapter *padapter)
+void rtw_hal_dm_deinit(struct rtw_adapter *padapter)
 {
 	// cancel dm  timer
 	if(padapter->HalFunc.dm_deinit)
 		padapter->HalFunc.dm_deinit(padapter);
 }
 
-void rtw_hal_sw_led_init(_adapter *padapter)
+void rtw_hal_sw_led_init(struct rtw_adapter *padapter)
 {
 	if(padapter->HalFunc.InitSwLeds)
 		padapter->HalFunc.InitSwLeds(padapter);
 }
 
-void rtw_hal_sw_led_deinit(_adapter *padapter)
+void rtw_hal_sw_led_deinit(struct rtw_adapter *padapter)
 {
 	if(padapter->HalFunc.DeInitSwLeds)
 		padapter->HalFunc.DeInitSwLeds(padapter);
 }
 
-uint	 rtw_hal_init(_adapter *padapter)
+uint	 rtw_hal_init(struct rtw_adapter *padapter)
 {
 	uint	status = _SUCCESS;
 
@@ -176,7 +176,7 @@ uint	 rtw_hal_init(_adapter *padapter)
 
 }
 
-uint rtw_hal_deinit(_adapter *padapter)
+uint rtw_hal_deinit(struct rtw_adapter *padapter)
 {
 	uint	status = _SUCCESS;
 
@@ -197,33 +197,33 @@ _func_exit_;
 	return status;
 }
 
-void rtw_hal_set_hwreg(_adapter *padapter, u8 variable, u8 *val)
+void rtw_hal_set_hwreg(struct rtw_adapter *padapter, u8 variable, u8 *val)
 {
 	if (padapter->HalFunc.SetHwRegHandler)
 		padapter->HalFunc.SetHwRegHandler(padapter, variable, val);
 }
 
-void rtw_hal_get_hwreg(_adapter *padapter, u8 variable, u8 *val)
+void rtw_hal_get_hwreg(struct rtw_adapter *padapter, u8 variable, u8 *val)
 {
 	if (padapter->HalFunc.GetHwRegHandler)
 		padapter->HalFunc.GetHwRegHandler(padapter, variable, val);
 }
 
-u8 rtw_hal_set_def_var(_adapter *padapter, enum HAL_DEF_VARIABLE eVariable, void * pValue)
+u8 rtw_hal_set_def_var(struct rtw_adapter *padapter, enum HAL_DEF_VARIABLE eVariable, void * pValue)
 {
 	if(padapter->HalFunc.SetHalDefVarHandler)
 		return padapter->HalFunc.SetHalDefVarHandler(padapter,eVariable,pValue);
 	return _FAIL;
 }
 
-u8 rtw_hal_get_def_var(_adapter *padapter, enum HAL_DEF_VARIABLE eVariable, void * pValue)
+u8 rtw_hal_get_def_var(struct rtw_adapter *padapter, enum HAL_DEF_VARIABLE eVariable, void * pValue)
 {
 	if(padapter->HalFunc.GetHalDefVarHandler)
 		return padapter->HalFunc.GetHalDefVarHandler(padapter,eVariable,pValue);
 	return _FAIL;
 }
 
-void rtw_hal_enable_interrupt(_adapter *padapter)
+void rtw_hal_enable_interrupt(struct rtw_adapter *padapter)
 {
 	if (padapter->HalFunc.enable_interrupt)
 		padapter->HalFunc.enable_interrupt(padapter);
@@ -231,7 +231,7 @@ void rtw_hal_enable_interrupt(_adapter *
 		DBG_8192D("%s: HalFunc.enable_interrupt is NULL!\n", __FUNCTION__);
 
 }
-void rtw_hal_disable_interrupt(_adapter *padapter)
+void rtw_hal_disable_interrupt(struct rtw_adapter *padapter)
 {
 	if (padapter->HalFunc.disable_interrupt)
 		padapter->HalFunc.disable_interrupt(padapter);
@@ -240,7 +240,7 @@ void rtw_hal_disable_interrupt(_adapter
 
 }
 
-u32	rtw_hal_inirp_init(_adapter *padapter)
+u32	rtw_hal_inirp_init(struct rtw_adapter *padapter)
 {
 	u32 rst = _FAIL;
 	if(padapter->HalFunc.inirp_init)
@@ -250,7 +250,7 @@ u32	rtw_hal_inirp_init(_adapter *padapte
 	return rst;
 }
 
-u32	rtw_hal_inirp_deinit(_adapter *padapter)
+u32	rtw_hal_inirp_deinit(struct rtw_adapter *padapter)
 {
 
 	if(padapter->HalFunc.inirp_deinit)
@@ -260,14 +260,14 @@ u32	rtw_hal_inirp_deinit(_adapter *padap
 
 }
 
-u8 rtw_hal_intf_ps_func(_adapter *padapter, enum HAL_INTF_PS_FUNC efunc_id, u8* val)
+u8 rtw_hal_intf_ps_func(struct rtw_adapter *padapter, enum HAL_INTF_PS_FUNC efunc_id, u8* val)
 {
 	if(padapter->HalFunc.interface_ps_func)
 		return padapter->HalFunc.interface_ps_func(padapter,efunc_id,val);
 	return _FAIL;
 }
 
-s32 rtw_hal_xmit(_adapter *padapter, struct xmit_frame *pxmitframe)
+s32 rtw_hal_xmit(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe)
 {
 	if(padapter->HalFunc.hal_xmit)
 		return padapter->HalFunc.hal_xmit(padapter, pxmitframe);
@@ -275,7 +275,7 @@ s32 rtw_hal_xmit(_adapter *padapter, str
 	return false;
 }
 
-s32	rtw_hal_mgnt_xmit(_adapter *padapter, struct xmit_frame *pmgntframe)
+s32	rtw_hal_mgnt_xmit(struct rtw_adapter *padapter, struct xmit_frame *pmgntframe)
 {
 	s32 ret = _FAIL;
 	if(padapter->HalFunc.mgnt_xmit)
@@ -283,20 +283,20 @@ s32	rtw_hal_mgnt_xmit(_adapter *padapter
 	return ret;
 }
 
-s32 rtw_hal_init_xmit_priv(_adapter *padapter)
+s32 rtw_hal_init_xmit_priv(struct rtw_adapter *padapter)
 {
 	if(padapter->HalFunc.init_xmit_priv != NULL)
 		return padapter->HalFunc.init_xmit_priv(padapter);
 	return _FAIL;
 }
 
-void rtw_hal_free_xmit_priv(_adapter *padapter)
+void rtw_hal_free_xmit_priv(struct rtw_adapter *padapter)
 {
 	if(padapter->HalFunc.free_xmit_priv != NULL)
 		padapter->HalFunc.free_xmit_priv(padapter);
 }
 
-s32 rtw_hal_init_recv_priv(_adapter *padapter)
+s32 rtw_hal_init_recv_priv(struct rtw_adapter *padapter)
 {
 	if(padapter->HalFunc.init_recv_priv)
 		return padapter->HalFunc.init_recv_priv(padapter);
@@ -304,25 +304,25 @@ s32 rtw_hal_init_recv_priv(_adapter *pad
 	return _FAIL;
 }
 
-void rtw_hal_free_recv_priv(_adapter *padapter)
+void rtw_hal_free_recv_priv(struct rtw_adapter *padapter)
 {
 	if(padapter->HalFunc.free_recv_priv)
 		padapter->HalFunc.free_recv_priv(padapter);
 }
 
-void rtw_hal_update_ra_mask(_adapter *padapter, u32 mac_id)
+void rtw_hal_update_ra_mask(struct rtw_adapter *padapter, u32 mac_id)
 {
 	if(padapter->HalFunc.UpdateRAMaskHandler)
 		padapter->HalFunc.UpdateRAMaskHandler(padapter,mac_id);
 }
 
-void rtw_hal_add_ra_tid(_adapter *padapter, u32 bitmap, u8 arg)
+void rtw_hal_add_ra_tid(struct rtw_adapter *padapter, u32 bitmap, u8 arg)
 {
 	if(padapter->HalFunc.Add_RateATid)
 		padapter->HalFunc.Add_RateATid(padapter, bitmap, arg);
 }
 
-u32 rtw_hal_read_bbreg(_adapter *padapter, u32 RegAddr, u32 BitMask)
+u32 rtw_hal_read_bbreg(struct rtw_adapter *padapter, u32 RegAddr, u32 BitMask)
 {
 	u32 data = 0;
 	if (padapter->HalFunc.read_bbreg)
@@ -330,13 +330,13 @@ u32 rtw_hal_read_bbreg(_adapter *padapte
 	return data;
 }
 
-void rtw_hal_write_bbreg(_adapter *padapter, u32 RegAddr, u32 BitMask, u32 Data)
+void rtw_hal_write_bbreg(struct rtw_adapter *padapter, u32 RegAddr, u32 BitMask, u32 Data)
 {
 	if (padapter->HalFunc.write_bbreg)
 		padapter->HalFunc.write_bbreg(padapter, RegAddr, BitMask, Data);
 }
 
-u32 rtw_hal_read_rfreg(_adapter *padapter, u32 eRFPath, u32 RegAddr, u32 BitMask)
+u32 rtw_hal_read_rfreg(struct rtw_adapter *padapter, u32 eRFPath, u32 RegAddr, u32 BitMask)
 {
 	u32 data = 0;
 	if (padapter->HalFunc.read_rfreg)
@@ -344,52 +344,52 @@ u32 rtw_hal_read_rfreg(_adapter *padapte
 	return data;
 }
 
-void rtw_hal_write_rfreg(_adapter *padapter, u32 eRFPath, u32 RegAddr, u32 BitMask, u32 Data)
+void rtw_hal_write_rfreg(struct rtw_adapter *padapter, u32 eRFPath, u32 RegAddr, u32 BitMask, u32 Data)
 {
 	if (padapter->HalFunc.write_rfreg)
 		padapter->HalFunc.write_rfreg(padapter, eRFPath, RegAddr, BitMask, Data);
 }
 
-s32 rtw_hal_interrupt_handler(_adapter *padapter)
+s32 rtw_hal_interrupt_handler(struct rtw_adapter *padapter)
 {
 	if(padapter->HalFunc.interrupt_handler)
 		return padapter->HalFunc.interrupt_handler(padapter);
 	return _FAIL;
 }
 
-void rtw_hal_set_bwmode(_adapter *padapter, enum HT_CHANNEL_WIDTH Bandwidth, u8 Offset)
+void rtw_hal_set_bwmode(struct rtw_adapter *padapter, enum HT_CHANNEL_WIDTH Bandwidth, u8 Offset)
 {
 	if(padapter->HalFunc.set_bwmode_handler)
 		padapter->HalFunc.set_bwmode_handler(padapter, Bandwidth, Offset);
 }
 
-void rtw_hal_set_chan(_adapter *padapter, u8 channel)
+void rtw_hal_set_chan(struct rtw_adapter *padapter, u8 channel)
 {
 	if(padapter->HalFunc.set_channel_handler)
 		padapter->HalFunc.set_channel_handler(padapter, channel);
 }
 
-void rtw_hal_dm_watchdog(_adapter *padapter)
+void rtw_hal_dm_watchdog(struct rtw_adapter *padapter)
 {
 	if(padapter->HalFunc.hal_dm_watchdog)
 		padapter->HalFunc.hal_dm_watchdog(padapter);
 }
 
-void rtw_hal_bcn_related_reg_setting(_adapter *padapter)
+void rtw_hal_bcn_related_reg_setting(struct rtw_adapter *padapter)
 {
 	if(padapter->HalFunc.SetBeaconRelatedRegistersHandler)
 		padapter->HalFunc.SetBeaconRelatedRegistersHandler(padapter);
 }
 
 #ifdef CONFIG_ANTENNA_DIVERSITY
-u8 rtw_hal_antdiv_before_linked(_adapter *padapter)
+u8 rtw_hal_antdiv_before_linked(struct rtw_adapter *padapter)
 {
 	if (padapter->HalFunc.AntDivBeforeLinkHandler)
 		return padapter->HalFunc.AntDivBeforeLinkHandler(padapter);
 	return false;
 }
 
-void rtw_hal_antdiv_rssi_compared(_adapter *padapter, WLAN_BSSID_EX *dst, WLAN_BSSID_EX *src)
+void rtw_hal_antdiv_rssi_compared(struct rtw_adapter *padapter, WLAN_BSSID_EX *dst, WLAN_BSSID_EX *src)
 {
 	if (padapter->HalFunc.AntDivCompareHandler)
 		padapter->HalFunc.AntDivCompareHandler(padapter, dst, src);
@@ -397,7 +397,7 @@ void rtw_hal_antdiv_rssi_compared(_adapt
 #endif
 
 #ifdef CONFIG_HOSTAPD_MLME
-s32	rtw_hal_hostap_mgnt_xmit_entry(_adapter *padapter, _pkt *pkt)
+s32	rtw_hal_hostap_mgnt_xmit_entry(struct rtw_adapter *padapter, _pkt *pkt)
 {
 	if (padapter->HalFunc.hostap_mgnt_xmit_entry)
 		return padapter->HalFunc.hostap_mgnt_xmit_entry(padapter, pkt);
@@ -406,25 +406,25 @@ s32	rtw_hal_hostap_mgnt_xmit_entry(_adap
 #endif //CONFIG_HOSTAPD_MLME
 
 #ifdef DBG_CONFIG_ERROR_DETECT
-void rtw_hal_sreset_init(_adapter *padapter)
+void rtw_hal_sreset_init(struct rtw_adapter *padapter)
 {
 	if(padapter->HalFunc.sreset_init_value)
 		padapter->HalFunc.sreset_init_value(padapter);
 }
 
-void rtw_hal_sreset_reset(_adapter *padapter)
+void rtw_hal_sreset_reset(struct rtw_adapter *padapter)
 {
 	if(padapter->HalFunc.silentreset)
 		padapter->HalFunc.silentreset(padapter);
 }
 
-void rtw_hal_sreset_reset_value(_adapter *padapter)
+void rtw_hal_sreset_reset_value(struct rtw_adapter *padapter)
 {
 	if(padapter->HalFunc.sreset_reset_value)
 		padapter->HalFunc.sreset_reset_value(padapter);
 }
 
-void rtw_hal_sreset_xmit_status_check(_adapter *padapter)
+void rtw_hal_sreset_xmit_status_check(struct rtw_adapter *padapter)
 {
 #ifdef CONFIG_CONCURRENT_MODE
 	if (padapter->adapter_type != PRIMARY_ADAPTER)
@@ -434,13 +434,13 @@ void rtw_hal_sreset_xmit_status_check(_a
 		padapter->HalFunc.sreset_xmit_status_check(padapter);
 }
 
-void rtw_hal_sreset_linked_status_check(_adapter *padapter)
+void rtw_hal_sreset_linked_status_check(struct rtw_adapter *padapter)
 {
 	if(padapter->HalFunc.sreset_linked_status_check)
 		padapter->HalFunc.sreset_linked_status_check(padapter);
 }
 
-u8 rtw_hal_sreset_get_wifi_status(_adapter *padapter)
+u8 rtw_hal_sreset_get_wifi_status(struct rtw_adapter *padapter)
 {
 	u8 status = 0;
 	if(padapter->HalFunc.sreset_get_wifi_status)
@@ -458,19 +458,19 @@ int rtw_hal_iol_cmd(ADAPTER *adapter, st
 }
 #endif
 
-void rtw_hal_notch_filter(_adapter *adapter, bool enable)
+void rtw_hal_notch_filter(struct rtw_adapter *adapter, bool enable)
 {
 	if(adapter->HalFunc.hal_notch_filter)
 		adapter->HalFunc.hal_notch_filter(adapter,enable);
 }
 
-void rtw_hal_reset_security_engine(_adapter * adapter)
+void rtw_hal_reset_security_engine(struct rtw_adapter * adapter)
 {
 	if(adapter->HalFunc.hal_reset_security_engine)
 		adapter->HalFunc.hal_reset_security_engine(adapter);
 }
 
-s32 rtw_hal_c2h_handler(_adapter *adapter, struct c2h_evt_hdr *c2h_evt)
+s32 rtw_hal_c2h_handler(struct rtw_adapter *adapter, struct c2h_evt_hdr *c2h_evt)
 {
 	s32 ret = _FAIL;
 	if (adapter->HalFunc.c2h_handler)
@@ -478,7 +478,7 @@ s32 rtw_hal_c2h_handler(_adapter *adapte
 	return ret;
 }
 
-c2h_id_filter rtw_hal_c2h_id_filter_ccx(_adapter *adapter)
+c2h_id_filter rtw_hal_c2h_id_filter_ccx(struct rtw_adapter *adapter)
 {
 	return adapter->HalFunc.c2h_id_filter_ccx;
 }
--- a/drivers/staging/rtl8192du/hal/rtl8192d_cmd.c
+++ b/drivers/staging/rtl8192du/hal/rtl8192d_cmd.c
@@ -33,7 +33,7 @@
 
 static bool
 CheckWriteH2C(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	u8		BoxNum
 )
 {
@@ -51,7 +51,7 @@ CheckWriteH2C(
 
 static bool
 CheckFwReadLastH2C(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	u8		BoxNum
 )
 {
@@ -86,7 +86,7 @@ CheckFwReadLastH2C(
 *| h2c_msg	|Ext_bit	|CMD_ID	|
 *
 ******************************************/
-static void _FillH2CCmd92D(_adapter* padapter, u8 ElementID, u32 CmdLen, u8* pCmdBuffer)
+static void _FillH2CCmd92D(struct rtw_adapter* padapter, u8 ElementID, u32 CmdLen, u8* pCmdBuffer)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(padapter);
 	u8	BoxNum;
@@ -271,7 +271,7 @@ _func_exit_;
 
 void
 FillH2CCmd92D(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8	ElementID,
 	u32	CmdLen,
 	u8*	pCmdBuffer
@@ -295,8 +295,8 @@ FillH2CCmd92D(
 	return;
 }
 
-u8 rtl8192d_h2c_msg_hdl(_adapter *padapter, unsigned char *pbuf);
-u8 rtl8192d_h2c_msg_hdl(_adapter *padapter, unsigned char *pbuf)
+u8 rtl8192d_h2c_msg_hdl(struct rtw_adapter *padapter, unsigned char *pbuf);
+u8 rtl8192d_h2c_msg_hdl(struct rtw_adapter *padapter, unsigned char *pbuf)
 {
 	u8 ElementID, CmdLen;
 	u8 *pCmdBuffer;
@@ -316,7 +316,7 @@ u8 rtl8192d_h2c_msg_hdl(_adapter *padapt
 }
 
 
-u8 rtl8192d_set_raid_cmd(_adapter*padapter, u32 mask, u8 arg)
+u8 rtl8192d_set_raid_cmd(struct rtw_adapter*padapter, u32 mask, u8 arg)
 {
 	u8	buf[5];
 	u8	res=_SUCCESS;
@@ -340,7 +340,7 @@ _func_exit_;
 //bitmap[28:31]= Rate Adaptive id
 //arg[0:4] = macid
 //arg[5] = Short GI
-void rtl8192d_Add_RateATid(PADAPTER pAdapter, u32 bitmap, u8 arg)
+void rtl8192d_Add_RateATid(struct rtw_adapter * pAdapter, u32 bitmap, u8 arg)
 {
 
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(pAdapter);
@@ -368,7 +368,7 @@ void rtl8192d_Add_RateATid(PADAPTER pAda
 }
 
 
-void rtl8192d_set_FwPwrMode_cmd(_adapter*padapter, u8 Mode)
+void rtl8192d_set_FwPwrMode_cmd(struct rtw_adapter*padapter, u8 Mode)
 {
 	struct pwrctrl_priv *pwrpriv = &padapter->pwrctrlpriv;
 	u8	u1H2CSetPwrMode[3]={0};
@@ -387,8 +387,8 @@ _func_enter_;
 _func_exit_;
 }
 
-void ConstructBeacon(_adapter *padapter, u8 *pframe, u32 *pLength);
-void ConstructBeacon(_adapter *padapter, u8 *pframe, u32 *pLength)
+void ConstructBeacon(struct rtw_adapter *padapter, u8 *pframe, u32 *pLength);
+void ConstructBeacon(struct rtw_adapter *padapter, u8 *pframe, u32 *pLength)
 {
 	struct rtw_ieee80211_hdr	*pwlanhdr;
 	u16					*fctrl;
@@ -491,8 +491,8 @@ _ConstructBeacon:
 
 }
 
-void ConstructPSPoll(_adapter *padapter, u8 *pframe, u32 *pLength);
-void ConstructPSPoll(_adapter *padapter, u8 *pframe, u32 *pLength)
+void ConstructPSPoll(struct rtw_adapter *padapter, u8 *pframe, u32 *pLength);
+void ConstructPSPoll(struct rtw_adapter *padapter, u8 *pframe, u32 *pLength)
 {
 	struct rtw_ieee80211_hdr	*pwlanhdr;
 	u16					*fctrl;
@@ -521,8 +521,8 @@ void ConstructPSPoll(_adapter *padapter,
 	*pLength = 16;
 }
 
-void ConstructNullFunctionData(_adapter *padapter, u8 *pframe, u32 *pLength, u8 *StaAddr, bool bForcePowerSave);
-void ConstructNullFunctionData(_adapter *padapter, u8 *pframe, u32 *pLength, u8 *StaAddr, bool bForcePowerSave)
+void ConstructNullFunctionData(struct rtw_adapter *padapter, u8 *pframe, u32 *pLength, u8 *StaAddr, bool bForcePowerSave);
+void ConstructNullFunctionData(struct rtw_adapter *padapter, u8 *pframe, u32 *pLength, u8 *StaAddr, bool bForcePowerSave)
 {
 	struct rtw_ieee80211_hdr	*pwlanhdr;
 	u16					*fctrl;
@@ -575,8 +575,8 @@ void ConstructNullFunctionData(_adapter
 	*pLength = pktlen;
 }
 
-void ConstructProbeRsp(_adapter *padapter, u8 *pframe, u32 *pLength, u8 *StaAddr, bool bHideSSID);
-void ConstructProbeRsp(_adapter *padapter, u8 *pframe, u32 *pLength, u8 *StaAddr, bool bHideSSID)
+void ConstructProbeRsp(struct rtw_adapter *padapter, u8 *pframe, u32 *pLength, u8 *StaAddr, bool bHideSSID);
+void ConstructProbeRsp(struct rtw_adapter *padapter, u8 *pframe, u32 *pLength, u8 *StaAddr, bool bHideSSID)
 {
 	struct rtw_ieee80211_hdr	*pwlanhdr;
 	u16					*fctrl;
@@ -624,7 +624,7 @@ void ConstructProbeRsp(_adapter *padapte
 //
 static void
 FillFakeTxDescriptor92D(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	u8*			pDesc,
 	u32			BufferLen,
 	bool		IsPsPoll
@@ -681,8 +681,8 @@ FillFakeTxDescriptor92D(
 //			      TRUE: At the second time, we should send the first packet (default:beacon)
 //						to Hw again and set the lengh in descriptor to the real beacon lengh.
 // 2009.10.15 by tynli.
-void SetFwRsvdPagePkt(PADAPTER Adapter, bool bDLFinished);
-void SetFwRsvdPagePkt(PADAPTER Adapter, bool bDLFinished)
+void SetFwRsvdPagePkt(struct rtw_adapter * Adapter, bool bDLFinished);
+void SetFwRsvdPagePkt(struct rtw_adapter * Adapter, bool bDLFinished)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 	struct xmit_frame	*pmgntframe;
@@ -823,7 +823,7 @@ void SetFwRsvdPagePkt(PADAPTER Adapter,
 	rtw_mfree(ReservedPagePacket,1000);
 }
 
-void rtl8192d_set_FwJoinBssReport_cmd(_adapter* padapter, u8 mstatus)
+void rtl8192d_set_FwJoinBssReport_cmd(struct rtw_adapter* padapter, u8 mstatus)
 {
 	u8	u1JoinBssRptParm[1]={0};
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(padapter);
@@ -893,7 +893,7 @@ _func_exit_;
 }
 
 #ifdef CONFIG_P2P_PS
-void rtl8192d_set_p2p_ctw_period_cmd(_adapter* padapter, u8 ctwindow)
+void rtl8192d_set_p2p_ctw_period_cmd(struct rtw_adapter* padapter, u8 ctwindow)
 {
 	u8	CTWPeriod = ctwindow;
 
@@ -901,7 +901,7 @@ void rtl8192d_set_p2p_ctw_period_cmd(_ad
 
 }
 
-void rtl8192d_set_p2p_ps_offload_cmd(_adapter* padapter, u8 p2p_ps_state)
+void rtl8192d_set_p2p_ps_offload_cmd(struct rtw_adapter* padapter, u8 p2p_ps_state)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(padapter);
 	struct pwrctrl_priv		*pwrpriv = &padapter->pwrctrlpriv;
@@ -1010,7 +1010,7 @@ _func_exit_;
 /*
 	ask FW to Reset sync register at Beacon early interrupt
 */
-u8 rtl8192d_reset_tsf(_adapter *padapter, u8 reset_port )
+u8 rtl8192d_reset_tsf(struct rtw_adapter *padapter, u8 reset_port )
 {
 	u8	buf[2];
 	u8	res=_SUCCESS;
@@ -1028,7 +1028,7 @@ _func_exit_;
 	return res;
 }
 
-int reset_tsf(PADAPTER Adapter, u8 reset_port )
+int reset_tsf(struct rtw_adapter * Adapter, u8 reset_port )
 {
 	u8 reset_cnt_before = 0, reset_cnt_after = 0, loop_cnt = 0;
 	u32 reg_reset_tsf_cnt = (IFACE_PORT0==reset_port) ?
@@ -1052,7 +1052,7 @@ int reset_tsf(PADAPTER Adapter, u8 reset
 
 #ifdef CONFIG_WOWLAN
 
-void rtl8192d_set_wowlan_cmd(_adapter* padapter)
+void rtl8192d_set_wowlan_cmd(struct rtw_adapter* padapter)
 {
 	u8	res=_SUCCESS;
 	u32 test=0;
--- a/drivers/staging/rtl8192du/hal/rtl8192d_dm.c
+++ b/drivers/staging/rtl8192du/hal/rtl8192d_dm.c
@@ -69,7 +69,7 @@ extern atomic_t GlobalMutexForGlobalAdap
  *
  *---------------------------------------------------------------------------*/
 static void dm_DIGInit(
-	PADAPTER	pAdapter
+	struct rtw_adapter *	pAdapter
 )
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(pAdapter);
@@ -112,10 +112,10 @@ static void dm_DIGInit(
 #ifdef CONFIG_DUALMAC_CONCURRENT
 static bool
 dm_DualMacGetParameterFromBuddyAdapter(
-		PADAPTER	Adapter
+		struct rtw_adapter *	Adapter
 )
 {
-	PADAPTER	BuddyAdapter = Adapter->pbuddy_adapter;
+	struct rtw_adapter *	BuddyAdapter = Adapter->pbuddy_adapter;
 	PHAL_DATA_TYPE	pHalData = GET_HAL_DATA(Adapter);
 	struct mlme_priv *pmlmepriv = &(Adapter->mlmepriv);
 	struct mlme_priv *pbuddy_mlmepriv = &(BuddyAdapter->mlmepriv);
@@ -140,11 +140,11 @@ dm_DualMacGetParameterFromBuddyAdapter(
 
 static void
 odm_FalseAlarmCounterStatistics_ForSlaveOfDMSP(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 )
 {
 #ifdef CONFIG_DUALMAC_CONCURRENT
-	PADAPTER	BuddyAdapter = Adapter->pbuddy_adapter;
+	struct rtw_adapter *	BuddyAdapter = Adapter->pbuddy_adapter;
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 	struct dm_priv	*pdmpriv = &pHalData->dmpriv;
 	struct FALSE_ALARM_STATISTICS *falsealmcnt = &(pdmpriv->falsealmcnt);
@@ -196,7 +196,7 @@ odm_FalseAlarmCounterStatistics_ForSlave
 
 static void
 odm_FalseAlarmCounterStatistics(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 	)
 {
 	u32	ret_value;
@@ -206,7 +206,7 @@ odm_FalseAlarmCounterStatistics(
 	struct FALSE_ALARM_STATISTICS *falsealmcnt = &(pdmpriv->falsealmcnt);
 	u8	BBReset;
 #ifdef CONFIG_CONCURRENT_MODE
-	PADAPTER pbuddy_adapter = Adapter->pbuddy_adapter;
+	struct rtw_adapter * pbuddy_adapter = Adapter->pbuddy_adapter;
 	HAL_DATA_TYPE	*pbuddy_pHalData = GET_HAL_DATA(pbuddy_adapter);
 	struct mlme_priv	*pbuddy_pmlmepriv = &(pbuddy_adapter->mlmepriv);
 #endif //CONFIG_CONCURRENT_MODE
@@ -322,7 +322,7 @@ odm_FalseAlarmCounterStatistics(
 
 static void
 odm_FindMinimumRSSI_Dmsp(
-	PADAPTER	pAdapter
+	struct rtw_adapter *	pAdapter
 )
 {
 #ifdef CONFIG_DUALMAC_CONCURRENT
@@ -331,7 +331,7 @@ odm_FindMinimumRSSI_Dmsp(
 	s32	rssi_val_min_back_for_mac0;
 	bool		bGetValueFromBuddyAdapter = dm_DualMacGetParameterFromBuddyAdapter(pAdapter);
 	bool		rest_rssi = false;
-	PADAPTER	BuddyAdapter = pAdapter->pbuddy_adapter;
+	struct rtw_adapter *	BuddyAdapter = pAdapter->pbuddy_adapter;
 	struct dm_priv	*Buddydmpriv;
 
 	if(pHalData->MacPhyMode92D == DUALMAC_SINGLEPHY)
@@ -368,7 +368,7 @@ odm_FindMinimumRSSI_Dmsp(
 
 static void
 odm_FindMinimumRSSI_92D(
-PADAPTER	pAdapter
+struct rtw_adapter *	pAdapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(pAdapter);
@@ -410,7 +410,7 @@ PADAPTER	pAdapter
 
 static u8
 odm_initial_gain_MinPWDB(
-	PADAPTER	pAdapter
+	struct rtw_adapter *	pAdapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(pAdapter);
@@ -427,14 +427,14 @@ odm_initial_gain_MinPWDB(
 
 static void
 DM_Write_DIG_DMSP(
-	PADAPTER	pAdapter
+	struct rtw_adapter *	pAdapter
 	)
 {
 #ifdef CONFIG_DUALMAC_CONCURRENT
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(pAdapter);
 	struct dm_priv	*pdmpriv = &pHalData->dmpriv;
 	struct DIG_T *dm_digtable = &pdmpriv->DM_DigTable;
-	PADAPTER	BuddyAdapter = pAdapter->pbuddy_adapter;
+	struct rtw_adapter *	BuddyAdapter = pAdapter->pbuddy_adapter;
 	bool		bGetValueFromOtherMac = dm_DualMacGetParameterFromBuddyAdapter(pAdapter);
 	struct dm_priv	*Buddydmpriv;
 
@@ -500,7 +500,7 @@ DM_Write_DIG_DMSP(
 
 static void
 DM_Write_DIG(
-	PADAPTER	pAdapter
+	struct rtw_adapter *	pAdapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(pAdapter);
@@ -523,7 +523,7 @@ DM_Write_DIG(
 }
 
 static void odm_DIG(
-	PADAPTER	pAdapter)
+	struct rtw_adapter *	pAdapter)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(pAdapter);
 	struct mlme_priv	*pmlmepriv = &(pAdapter->mlmepriv);
@@ -539,7 +539,7 @@ static void odm_DIG(
 	bool		FirstConnect;
 	u8	TxRate = rtw_read8(pAdapter, REG_INIDATA_RATE_SEL);
 #ifdef CONFIG_CONCURRENT_MODE
-	PADAPTER pbuddy_adapter = pAdapter->pbuddy_adapter;
+	struct rtw_adapter * pbuddy_adapter = pAdapter->pbuddy_adapter;
 	HAL_DATA_TYPE	*pbuddy_pHalData = GET_HAL_DATA(pbuddy_adapter);
 	struct mlme_priv	*pbuddy_pmlmepriv = &(pbuddy_adapter->mlmepriv);
 	struct dm_priv	*pbuddy_pdmpriv = &pbuddy_pHalData->dmpriv;
@@ -879,7 +879,7 @@ static void odm_DIG(
 
 static u8
 dm_initial_gain_MinPWDB(
-	PADAPTER	pAdapter
+	struct rtw_adapter *	pAdapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(pAdapter);
@@ -906,13 +906,13 @@ dm_initial_gain_MinPWDB(
 }
 
 static void dm_CCK_PacketDetectionThresh_DMSP(
-	PADAPTER	pAdapter)
+	struct rtw_adapter *	pAdapter)
 {
 #ifdef CONFIG_DUALMAC_CONCURRENT
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(pAdapter);
 	struct dm_priv	*pdmpriv = &pHalData->dmpriv;
 	struct DIG_T *dm_digtable = &pdmpriv->DM_DigTable;
-	PADAPTER	BuddyAdapter = pAdapter->pbuddy_adapter;
+	struct rtw_adapter *	BuddyAdapter = pAdapter->pbuddy_adapter;
 	bool		bGetValueFromBuddyAdapter = dm_DualMacGetParameterFromBuddyAdapter(pAdapter);
 	struct dm_priv	*Buddydmpriv;
 
@@ -1057,7 +1057,7 @@ static void dm_CCK_PacketDetectionThresh
 #endif
 }
 
-static void dm_CCK_PacketDetectionThresh(PADAPTER	pAdapter)
+static void dm_CCK_PacketDetectionThresh(struct rtw_adapter *	pAdapter)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(pAdapter);
 	struct dm_priv	*pdmpriv = &pHalData->dmpriv;
@@ -1089,7 +1089,7 @@ static void dm_CCK_PacketDetectionThresh
 
 }
 
-static void dm_1R_CCA(PADAPTER	pAdapter)
+static void dm_1R_CCA(struct rtw_adapter *	pAdapter)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(pAdapter);
 	struct dm_priv	*pdmpriv = &pHalData->dmpriv;
@@ -1157,7 +1157,7 @@ static void dm_1R_CCA(PADAPTER	pAdapter)
 	}
 }
 
-static void dm_InitDynamicTxPower(PADAPTER	Adapter)
+static void dm_InitDynamicTxPower(struct rtw_adapter *	Adapter)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 	struct dm_priv	*pdmpriv = &pHalData->dmpriv;
@@ -1168,7 +1168,7 @@ static void dm_InitDynamicTxPower(PADAPT
 	pdmpriv->DynamicTxHighPowerLvl = TxHighPwrLevel_Normal;
 }
 
-static void odm_DynamicTxPower_92D(PADAPTER	Adapter)
+static void odm_DynamicTxPower_92D(struct rtw_adapter *	Adapter)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 	struct mlme_priv	*pmlmepriv = &(Adapter->mlmepriv);
@@ -1176,7 +1176,7 @@ static void odm_DynamicTxPower_92D(PADAP
 	int	UndecoratedSmoothedPWDB;
 
 #ifdef CONFIG_DUALMAC_CONCURRENT
-	PADAPTER	BuddyAdapter = Adapter->pbuddy_adapter;
+	struct rtw_adapter *	BuddyAdapter = Adapter->pbuddy_adapter;
 	struct dm_priv	*pbuddy_dmpriv = NULL;
 	bool		bGetValueFromBuddyAdapter = dm_DualMacGetParameterFromBuddyAdapter(Adapter);
 	u8		HighPowerLvlBackForMac0 = TxHighPwrLevel_Level1;
@@ -1334,7 +1334,7 @@ static void odm_DynamicTxPower_92D(PADAP
 
 
 static void PWDB_Monitor(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -1447,7 +1447,7 @@ static void PWDB_Monitor(
 
 static void
 DM_InitEdcaTurbo(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -1458,7 +1458,7 @@ DM_InitEdcaTurbo(
 
 static void
 dm_CheckEdcaTurbo(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 	)
 {
 	u32	trafficIndex;
@@ -1584,7 +1584,7 @@ dm_CheckEdcaTurbo_EXIT:
 }	// dm_CheckEdcaTurbo
 
 static void dm_InitDynamicBBPowerSaving(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -1599,7 +1599,7 @@ static void dm_InitDynamicBBPowerSaving(
 
 static void
 dm_DynamicBBPowerSaving(
-PADAPTER	pAdapter
+struct rtw_adapter *	pAdapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(pAdapter);
@@ -1616,7 +1616,7 @@ PADAPTER	pAdapter
 
 static	void
 dm_RXGainTrackingCallback_ThermalMeter_92D(
-	PADAPTER	Adapter)
+	struct rtw_adapter *	Adapter)
 {
 	u8			index_mapping[Rx_index_mapping_NUM] = {
 						0x0f,	0x0f,	0x0f,	0x0f,	0x0b,
@@ -1642,7 +1642,7 @@ dm_RXGainTrackingCallback_ThermalMeter_9
 //091212 chiyokolin
 static	void
 dm_TXPowerTrackingCallback_ThermalMeter_92D(
-            PADAPTER	Adapter)
+            struct rtw_adapter *	Adapter)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 	struct dm_priv	*pdmpriv = &pHalData->dmpriv;
@@ -2141,7 +2141,7 @@ dm_TXPowerTrackingCallback_ThermalMeter_
 
 static	void
 dm_InitializeTXPowerTracking_ThermalMeter(
-	PADAPTER		Adapter)
+	struct rtw_adapter *		Adapter)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 	struct dm_priv	*pdmpriv = &pHalData->dmpriv;
@@ -2161,7 +2161,7 @@ dm_InitializeTXPowerTracking_ThermalMete
 
 static void
 DM_InitializeTXPowerTracking(
-	PADAPTER		Adapter)
+	struct rtw_adapter *		Adapter)
 {
 	//HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 
@@ -2184,14 +2184,14 @@ DM_InitializeTXPowerTracking(
 //
 static void
 DM_TXPowerTracking92CDirectCall(
-            PADAPTER		Adapter)
+            struct rtw_adapter *		Adapter)
 {
 	dm_TXPowerTrackingCallback_ThermalMeter_92D(Adapter);
 }
 
 static void
 dm_CheckTXPowerTracking_ThermalMeter(
-	PADAPTER		Adapter)
+	struct rtw_adapter *		Adapter)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 	struct dm_priv	*pdmpriv = &pHalData->dmpriv;
@@ -2228,7 +2228,7 @@ dm_CheckTXPowerTracking_ThermalMeter(
 
 void
 rtl8192d_dm_CheckTXPowerTracking(
-	PADAPTER		Adapter)
+	struct rtw_adapter *		Adapter)
 {
 	//RT_TRACE(COMP_POWER_TRACKING, DBG_LOUD,("dm_CheckTXPowerTracking!!\n"));
 
@@ -2257,7 +2257,7 @@ rtl8192d_dm_CheckTXPowerTracking(
  *---------------------------------------------------------------------------*/
 static void
 dm_CheckRfCtrlGPIO(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 	)
 {
 
@@ -2279,7 +2279,7 @@ dm_CheckRfCtrlGPIO(
  *	03/11/2008	hpfan	Create Version 0.
  *
  *---------------------------------------------------------------------------*/
-static void	dm_CheckPbcGPIO(PADAPTER padapter)
+static void	dm_CheckPbcGPIO(struct rtw_adapter * padapter)
 {
 	u8	tmp1byte;
 	u8	bPbcPressed = false;
@@ -2335,7 +2335,7 @@ static void	dm_CheckPbcGPIO(PADAPTER pad
 	}
 }
 
-static void dm_InitRateAdaptiveMask(PADAPTER	Adapter)
+static void dm_InitRateAdaptiveMask(struct rtw_adapter *	Adapter)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 	struct dm_priv	*pdmpriv = &pHalData->dmpriv;
@@ -2368,19 +2368,19 @@ static void dm_InitRateAdaptiveMask(PADA
  *
  *---------------------------------------------------------------------------*/
 static void
-dm_RefreshRateAdaptiveMask(PADAPTER	pAdapter)
+dm_RefreshRateAdaptiveMask(struct rtw_adapter *	pAdapter)
 {
 }
 static void
 dm_CheckProtection(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 	)
 {
 }
 
 static void
 dm_CheckStatistics(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 	)
 {
 }
@@ -2390,7 +2390,7 @@ dm_CheckStatistics(
 //
 static void
 dm_InitGPIOSetting(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 	)
 {
 	u8	tmp1byte;
@@ -2404,7 +2404,7 @@ dm_InitGPIOSetting(
 //============================================================
 // functions
 //============================================================
-void rtl8192d_init_dm_priv(PADAPTER Adapter)
+void rtl8192d_init_dm_priv(struct rtw_adapter * Adapter)
 {
 	//PHAL_DATA_TYPE	pHalData = GET_HAL_DATA(Adapter);
 	//struct dm_priv	*pdmpriv = &pHalData->dmpriv;
@@ -2413,7 +2413,7 @@ void rtl8192d_init_dm_priv(PADAPTER Adap
 
 }
 
-void rtl8192d_deinit_dm_priv(PADAPTER Adapter)
+void rtl8192d_deinit_dm_priv(struct rtw_adapter * Adapter)
 {
 	//PHAL_DATA_TYPE	pHalData = GET_HAL_DATA(Adapter);
 	//struct dm_priv	*pdmpriv = &pHalData->dmpriv;
@@ -2422,7 +2422,7 @@ void rtl8192d_deinit_dm_priv(PADAPTER Ad
 
 void
 rtl8192d_InitHalDm(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 	)
 {
 	PHAL_DATA_TYPE	pHalData = GET_HAL_DATA(Adapter);
@@ -2467,13 +2467,13 @@ rtl8192d_InitHalDm(
 }
 
 #ifdef CONFIG_CONCURRENT_MODE
-static void FindMinimumRSSI(PADAPTER Adapter)
+static void FindMinimumRSSI(struct rtw_adapter * Adapter)
 {
 	PHAL_DATA_TYPE	pbuddy_HalData;
 	struct dm_priv *pbuddy_dmpriv;
 	PHAL_DATA_TYPE	pHalData = GET_HAL_DATA(Adapter);
 	struct dm_priv	*pdmpriv = &pHalData->dmpriv;
-	PADAPTER pbuddy_adapter = Adapter->pbuddy_adapter;
+	struct rtw_adapter * pbuddy_adapter = Adapter->pbuddy_adapter;
 	struct mlme_priv *pmlmepriv = &Adapter->mlmepriv;
 
 	if(!rtw_buddy_adapter_up(Adapter))
@@ -2540,7 +2540,7 @@ static void FindMinimumRSSI(PADAPTER Ada
 
 void
 rtl8192d_HalDmWatchDog(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 	)
 {
 	bool		bFwCurrentInPSMode = false;
@@ -2549,7 +2549,7 @@ rtl8192d_HalDmWatchDog(
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 	struct dm_priv	*pdmpriv = &pHalData->dmpriv;
 #ifdef CONFIG_CONCURRENT_MODE
-	PADAPTER pbuddy_adapter = Adapter->pbuddy_adapter;
+	struct rtw_adapter * pbuddy_adapter = Adapter->pbuddy_adapter;
 #endif //CONFIG_CONCURRENT_MODE
 
 #ifdef CONFIG_DUALMAC_CONCURRENT
--- a/drivers/staging/rtl8192du/hal/rtl8192d_hal_init.c
+++ b/drivers/staging/rtl8192du/hal/rtl8192d_hal_init.c
@@ -41,7 +41,7 @@ bool GlobalFirstConfigurationForNormalCh
 
 static bool
 _IsFWDownloaded(
-	PADAPTER			Adapter
+	struct rtw_adapter *			Adapter
 	)
 {
 	return ((rtw_read32(Adapter, REG_MCUFWDL) & MCUFWDL_RDY) ? true : false);
@@ -49,7 +49,7 @@ _IsFWDownloaded(
 
 static void
 _FWDownloadEnable(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	bool			enable
 	)
 {
@@ -103,7 +103,7 @@ _FWDownloadEnable(
 
 static int
 _BlockWrite_92d(
-		PADAPTER		Adapter,
+		struct rtw_adapter *		Adapter,
 		void *			buffer,
 		u32				size
 	)
@@ -173,7 +173,7 @@ exit:
 
 static int
 _PageWrite(
-		PADAPTER		Adapter,
+		struct rtw_adapter *		Adapter,
 		u32			page,
 		void *			buffer,
 		u32			size
@@ -189,7 +189,7 @@ _PageWrite(
 
 static int
 _WriteFW(
-		PADAPTER		Adapter,
+		struct rtw_adapter *		Adapter,
 		void *			buffer,
 		u32			size
 	)
@@ -225,10 +225,10 @@ exit:
 	return ret;
 }
 int _FWFreeToGo_92D(
-		PADAPTER		Adapter
+		struct rtw_adapter *		Adapter
 	);
 int _FWFreeToGo_92D(
-		PADAPTER		Adapter
+		struct rtw_adapter *		Adapter
 	)
 {
 	u32			counter = 0;
@@ -253,7 +253,7 @@ int _FWFreeToGo_92D(
 
 void
 rtl8192d_FirmwareSelfReset(
-	PADAPTER		Adapter
+	struct rtw_adapter *		Adapter
 )
 {
 	//HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -301,10 +301,10 @@ rtl8192d_FirmwareSelfReset(
 // description :polling fw ready
 //
 int _FWInit(
-	PADAPTER			  Adapter
+	struct rtw_adapter *			  Adapter
 	);
 int _FWInit(
-	PADAPTER			  Adapter
+	struct rtw_adapter *			  Adapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -356,7 +356,7 @@ u8	FwBuffer8192D[FW_8192D_SIZE];
 //
 //
 int FirmwareDownload92D(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	bool			bUsedWoWLANFw
 )
 {
@@ -608,7 +608,7 @@ Exit:
 #ifdef CONFIG_WOWLAN
 void
 InitializeFirmwareVars92D(
-	PADAPTER		Adapter
+	struct rtw_adapter *		Adapter
 )
 {
 	HAL_DATA_TYPE		*pHalData	= GET_HAL_DATA(Adapter);
@@ -636,7 +636,7 @@ InitializeFirmwareVars92D(
 //
 void
 SetFwRelatedForWoWLAN8192DU(
-	PADAPTER			padapter,
+	struct rtw_adapter *			padapter,
 	u8			bHostIsGoingtoSleep
 )
 {
@@ -708,7 +708,7 @@ static u8 Hal_GetChnlGroupfromArray(u8 c
 
 void
 rtl8192d_ReadChipVersion(
-	PADAPTER			Adapter
+	struct rtw_adapter *			Adapter
 	)
 {
 	u32	value32;
@@ -745,7 +745,7 @@ rtl8192d_ReadChipVersion(
 
 void
 rtl8192d_EfuseParseChnlPlan(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8*			hwinfo,
 	bool		AutoLoadFail
 	)
@@ -769,7 +769,7 @@ rtl8192d_EfuseParseChnlPlan(
 
 static void
 hal_ReadPowerValueFromPROM92D(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	PTxPowerInfo	pwrInfo,
 	u8*			PROMContent,
 	bool			AutoLoadFail
@@ -905,7 +905,7 @@ hal_ReadPowerValueFromPROM92D(
 
 void
 rtl8192d_ReadTxPowerInfo(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	u8*			PROMContent,
 	bool			AutoLoadFail
 	)
@@ -1104,12 +1104,12 @@ rtl8192d_ReadTxPowerInfo(
 //	Assumption:
 //
 void rtl8192d_ResetDualMacSwitchVariables(
-		PADAPTER			Adapter
+		struct rtw_adapter *			Adapter
 )
 {
 #ifdef CONFIG_DUALMAC_CONCURRENT
 /*	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
-	PADAPTER		BuddyAdapter = Adapter->BuddyAdapter;
+	struct rtw_adapter *		BuddyAdapter = Adapter->BuddyAdapter;
 
 	Adapter->bNeedReConfigMac = false;
 	Adapter->bNeedReConfigPhyRf = false;
@@ -1138,7 +1138,7 @@ void rtl8192d_ResetDualMacSwitchVariable
 
 }
 
-u8 GetEEPROMSize8192D(PADAPTER Adapter)
+u8 GetEEPROMSize8192D(struct rtw_adapter * Adapter)
 {
 	u8	size = 0;
 	u32	curRCR;
@@ -1156,7 +1156,7 @@ Function: Synchrosize for power off with
 *************************************************************/
 bool
 PHY_CheckPowerOffFor8192D(
-	PADAPTER   Adapter
+	struct rtw_adapter *   Adapter
 )
 {
 	u8 u1bTmp;
@@ -1204,7 +1204,7 @@ Function: Synchrosize for power off/on w
 *************************************************************/
 void
 PHY_SetPowerOnFor8192D(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 )
 {
 	PHAL_DATA_TYPE		pHalData = GET_HAL_DATA(Adapter);
@@ -1266,7 +1266,7 @@ PHY_SetPowerOnFor8192D(
 	}
 }
 
-void rtl8192d_free_hal_data(_adapter * padapter)
+void rtl8192d_free_hal_data(struct rtw_adapter * padapter)
 {
 _func_enter_;
 
@@ -1290,7 +1290,7 @@ enum{
 
 static void
 rtl8192d_EfusePowerSwitch(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u8		bWrite,
 	u8		PwrState)
 {
@@ -1339,7 +1339,7 @@ rtl8192d_EfusePowerSwitch(
 
 static void
 ReadEFuse_RTL8192D(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8			efuseType,
 	u16			_offset,
 	u16			_size_byte,
@@ -1513,7 +1513,7 @@ ReadEFuse_RTL8192D(
 
 static void
 hal_EfuseUpdateNormalChipVersion_92D(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 )
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -1552,7 +1552,7 @@ hal_EfuseUpdateNormalChipVersion_92D(
 
 static bool
 hal_EfuseMacMode_ISVS_92D(
-         PADAPTER     Adapter
+         struct rtw_adapter *     Adapter
 )
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -1588,7 +1588,7 @@ hal_EfuseMacMode_ISVS_92D(
 
 static void
 rtl8192d_ReadEFuse(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8			efuseType,
 	u16			_offset,
 	u16			_size_byte,
@@ -1606,7 +1606,7 @@ rtl8192d_ReadEFuse(
 
 static void
 rtl8192d_EFUSE_GetEfuseDefinition(
-		PADAPTER	pAdapter,
+		struct rtw_adapter *	pAdapter,
 		u8		efuseType,
 		u8		type,
 		void *		*pOut,
@@ -1669,7 +1669,7 @@ rtl8192d_EFUSE_GetEfuseDefinition(
 
 static u16
 rtl8192d_EfuseGetCurrentSize(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u8			efuseType,
 	bool		bPseudoTest)
 {
@@ -1721,7 +1721,7 @@ rtl8192d_EfuseGetCurrentSize(
 }
 
 static int
-rtl8192d_Efuse_PgPacketRead(	PADAPTER	pAdapter,
+rtl8192d_Efuse_PgPacketRead(	struct rtw_adapter *	pAdapter,
 					u8			offset,
 					u8			*data,
 					bool		bPseudoTest)
@@ -1832,7 +1832,7 @@ rtl8192d_Efuse_PgPacketRead(	PADAPTER	pA
 }
 
 static int
-rtl8192d_Efuse_PgPacketWrite(PADAPTER	pAdapter,
+rtl8192d_Efuse_PgPacketWrite(struct rtw_adapter *	pAdapter,
 					u8			offset,
 					u8			word_en,
 					u8			*data,
@@ -2261,7 +2261,7 @@ rtl8192d_Efuse_PgPacketWrite(PADAPTER	pA
 }
 
 static u8
-rtl8192d_Efuse_WordEnableDataWrite(	PADAPTER	pAdapter,
+rtl8192d_Efuse_WordEnableDataWrite(	struct rtw_adapter *	pAdapter,
 							u16		efuse_addr,
 							u8		word_en,
 							u8		*data,
@@ -2328,7 +2328,7 @@ rtl8192d_Efuse_WordEnableDataWrite(	PADA
 	}
 	return badworden;
 }
-void hal_notch_filter_8192d(_adapter *adapter, bool enable)
+void hal_notch_filter_8192d(struct rtw_adapter *adapter, bool enable)
 {
 	if (enable) {
 		DBG_8192D("Enable notch filter\n");
@@ -2348,7 +2348,7 @@ static s32 c2h_id_filter_ccx_8192d(u8 id
 	return ret;
 }
 
-static s32 c2h_handler_8192d(_adapter *padapter, struct c2h_evt_hdr *c2h_evt)
+static s32 c2h_handler_8192d(struct rtw_adapter *padapter, struct c2h_evt_hdr *c2h_evt)
 {
 	s32 ret = _SUCCESS;
 	u8 i = 0;
--- a/drivers/staging/rtl8192du/hal/rtl8192d_phycfg.c
+++ b/drivers/staging/rtl8192du/hal/rtl8192d_phycfg.c
@@ -78,7 +78,7 @@ extern atomic_t GlobalCounterForMutex;
 /*---------------------Define local function prototype-----------------------*/
 static void
 phy_PathAFillIQKMatrix(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	bool	bIQKOK,
 	int		result[][8],
 	u8		final_candidate,
@@ -87,7 +87,7 @@ phy_PathAFillIQKMatrix(
 
 static void
 phy_PathAFillIQKMatrix_5G_Normal(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	bool	bIQKOK,
 	int		result[][8],
 	u8		final_candidate,
@@ -96,7 +96,7 @@ phy_PathAFillIQKMatrix_5G_Normal(
 
 static void
 phy_PathBFillIQKMatrix(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	bool	bIQKOK,
 	int		result[][8],
 	u8		final_candidate,
@@ -105,7 +105,7 @@ phy_PathBFillIQKMatrix(
 
 static void
 phy_PathBFillIQKMatrix_5G_Normal(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	bool	bIQKOK,
 	int		result[][8],
 	u8		final_candidate,
@@ -196,7 +196,7 @@ phy_CalculateBitShift(
 //
 void
 rtl8192d_PHY_SetBBReg1Byte(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u32		RegAddr,
 	u32		BitMask,
 	u32		Data
@@ -228,7 +228,7 @@ rtl8192d_PHY_SetBBReg1Byte(
 * OverView:	Read "sepcific bits" from BB register
 *
 * Input:
-*			PADAPTER		Adapter,
+*			struct rtw_adapter *		Adapter,
 *			u4Byte			RegAddr,		//The target address to be readback
 *			u4Byte			BitMask		//The target bit position in the target address
 *										//to be readback
@@ -238,7 +238,7 @@ rtl8192d_PHY_SetBBReg1Byte(
 */
 u32
 rtl8192d_PHY_QueryBBReg(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u32		RegAddr,
 	u32		BitMask
 	)
@@ -261,7 +261,7 @@ rtl8192d_PHY_QueryBBReg(
 * OverView:	Write "Specific bits" to BB register (page 8~)
 *
 * Input:
-*			PADAPTER		Adapter,
+*			struct rtw_adapter *		Adapter,
 *			u4Byte			RegAddr,		//The target address to be modified
 *			u4Byte			BitMask		//The target bit position in the target address
 *										//to be modified
@@ -275,7 +275,7 @@ rtl8192d_PHY_QueryBBReg(
 
 void
 rtl8192d_PHY_SetBBReg(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u32		RegAddr,
 	u32		BitMask,
 	u32		Data
@@ -319,7 +319,7 @@ rtl8192d_PHY_SetBBReg(
  *---------------------------------------------------------------------------*/
 static	u32
 phy_FwRFSerialRead(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	enum RF_RADIO_PATH_E	eRFPath,
 	u32				Offset	)
 {
@@ -348,7 +348,7 @@ phy_FwRFSerialRead(
  *---------------------------------------------------------------------------*/
 static	void
 phy_FwRFSerialWrite(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	enum RF_RADIO_PATH_E	eRFPath,
 	u32				Offset,
 	u32				Data	)
@@ -361,7 +361,7 @@ phy_FwRFSerialWrite(
 * OverView:	Read regster from RF chips
 *
 * Input:
-*			PADAPTER		Adapter,
+*			struct rtw_adapter *		Adapter,
 *			enum RF_RADIO_PATH_E	eRFPath,	//Radio path of A/B/C/D
 *			u4Byte			Offset,		//The target address to be read
 *
@@ -376,7 +376,7 @@ phy_FwRFSerialWrite(
 */
 static	u32
 phy_RFSerialRead(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	enum RF_RADIO_PATH_E	eRFPath,
 	u32				Offset
 	)
@@ -462,7 +462,7 @@ phy_RFSerialRead(
 * OverView:	Write data to RF register (page 8~)
 *
 * Input:
-*			PADAPTER		Adapter,
+*			struct rtw_adapter *		Adapter,
 *			enum RF_RADIO_PATH_E	eRFPath,	//Radio path of A/B/C/D
 *			u4Byte			Offset,		//The target address to be read
 *			u4Byte			Data			//The new register Data in the target bit position
@@ -501,7 +501,7 @@ phy_RFSerialRead(
 */
 static	void
 phy_RFSerialWrite(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	enum RF_RADIO_PATH_E	eRFPath,
 	u32				Offset,
 	u32				Data
@@ -561,7 +561,7 @@ phy_RFSerialWrite(
 * OverView:	Query "Specific bits" to RF register (page 8~)
 *
 * Input:
-*			PADAPTER		Adapter,
+*			struct rtw_adapter *		Adapter,
 *			enum RF_RADIO_PATH_E	eRFPath,	//Radio path of A/B/C/D
 *			u4Byte			RegAddr,		//The target address to be read
 *			u4Byte			BitMask		//The target bit position in the target address
@@ -573,7 +573,7 @@ phy_RFSerialWrite(
 */
 u32
 rtl8192d_PHY_QueryRFReg(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	enum RF_RADIO_PATH_E	eRFPath,
 	u32				RegAddr,
 	u32				BitMask
@@ -607,7 +607,7 @@ rtl8192d_PHY_QueryRFReg(
 * OverView:	Write "Specific bits" to RF register (page 8~)
 *
 * Input:
-*			PADAPTER		Adapter,
+*			struct rtw_adapter *		Adapter,
 *			enum RF_RADIO_PATH_E	eRFPath,	//Radio path of A/B/C/D
 *			u4Byte			RegAddr,		//The target address to be modified
 *			u4Byte			BitMask		//The target bit position in the target address
@@ -621,7 +621,7 @@ rtl8192d_PHY_QueryRFReg(
 */
 void
 rtl8192d_PHY_SetRFReg(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	enum RF_RADIO_PATH_E	eRFPath,
 	u32				RegAddr,
 	u32				BitMask,
@@ -664,7 +664,7 @@ rtl8192d_PHY_SetRFReg(
  * Overview:    This function read BB parameters from general file format, and do register
  *			  Read/Write
  *
- * Input:	PADAPTER		Adapter
+ * Input:	struct rtw_adapter *		Adapter
  *			ps1Byte				pFileName
  *
  * Output:      NONE
@@ -677,7 +677,7 @@ rtl8192d_PHY_SetRFReg(
 #ifndef CONFIG_EMBEDDED_FWIMG
 static	int
 phy_ConfigMACWithParaFile(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	u8*			pFileName
 )
 {
@@ -694,7 +694,7 @@ phy_ConfigMACWithParaFile(
  * Overview:    This function read BB parameters from Header file we gen, and do register
  *			  Read/Write
  *
- * Input:	PADAPTER		Adapter
+ * Input:	struct rtw_adapter *		Adapter
  *			ps1Byte				pFileName
  *
  * Output:      NONE
@@ -706,7 +706,7 @@ phy_ConfigMACWithParaFile(
  *---------------------------------------------------------------------------*/
 static	int
 phy_ConfigMACWithHeaderFile(
-	PADAPTER		Adapter
+	struct rtw_adapter *		Adapter
 )
 {
 	u32					i = 0;
@@ -747,7 +747,7 @@ phy_ConfigMACWithHeaderFile(
  *---------------------------------------------------------------------------*/
 extern	int
 PHY_MACConfig8192D(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -796,7 +796,7 @@ PHY_MACConfig8192D(
 * OverView:	Initialize Register definition offset for Radio Path A/B/C/D
 *
 * Input:
-*			PADAPTER		Adapter,
+*			struct rtw_adapter *		Adapter,
 *
 * Output:	None
 * Return:		None
@@ -804,7 +804,7 @@ PHY_MACConfig8192D(
 */
 static	void
 phy_InitBBRFRegisterDefinition(
-	PADAPTER		Adapter
+	struct rtw_adapter *		Adapter
 )
 {
 	HAL_DATA_TYPE		*pHalData = GET_HAL_DATA(Adapter);
@@ -915,7 +915,7 @@ phy_InitBBRFRegisterDefinition(
  * Overview:    This function read BB parameters from general file format, and do register
  *			  Read/Write
  *
- * Input:	PADAPTER		Adapter
+ * Input:	struct rtw_adapter *		Adapter
  *			u1Byte			ConfigType     0 => PHY_CONFIG
  *										 1 =>AGC_TAB
  *
@@ -926,7 +926,7 @@ phy_InitBBRFRegisterDefinition(
  *---------------------------------------------------------------------------*/
 static	int
 phy_ConfigBBWithHeaderFile(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	u8			ConfigType
 )
 {
@@ -1054,7 +1054,7 @@ phy_ConfigBBWithHeaderFile(
  * Overview:    This function read BB parameters from general file format, and do register
  *			  Read/Write
  *
- * Input:	PADAPTER		Adapter
+ * Input:	struct rtw_adapter *		Adapter
  *			ps1Byte				pFileName
  *
  * Output:      NONE
@@ -1067,7 +1067,7 @@ phy_ConfigBBWithHeaderFile(
 #ifndef CONFIG_EMBEDDED_FWIMG
 static	int
 phy_ConfigBBWithParaFile(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	u8*			pFileName
 )
 {
@@ -1081,7 +1081,7 @@ phy_ConfigBBWithParaFile(
 #if MP_DRIVER != 1
 static void
 storePwrIndexDiffRateOffset(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u32		RegAddr,
 	u32		BitMask,
 	u32		Data
@@ -1206,7 +1206,7 @@ storePwrIndexDiffRateOffset(
  *---------------------------------------------------------------------------*/
 static	int
 phy_ConfigBBWithPgHeaderFile(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	u8			ConfigType)
 {
 	int i;
@@ -1275,7 +1275,7 @@ phy_ConfigBBWithPgHeaderFile(
 #ifndef CONFIG_EMBEDDED_FWIMG
 static	int
 phy_ConfigBBWithPgParaFile(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	u8*			pFileName)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -1295,7 +1295,7 @@ phy_ConfigBBWithPgParaFile(
  * Overview:    This function read BB parameters from general file format, and do register
  *			  Read/Write
  *
- * Input:	PADAPTER		Adapter
+ * Input:	struct rtw_adapter *		Adapter
  *			ps1Byte				pFileName
  *
  * Output:      NONE
@@ -1307,7 +1307,7 @@ phy_ConfigBBWithPgParaFile(
  *---------------------------------------------------------------------------*/
 static	int
 phy_ConfigBBWithMpParaFile(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	s8			*pFileName
 )
 {
@@ -1335,7 +1335,7 @@ phy_ConfigBBWithMpParaFile(
  *---------------------------------------------------------------------------*/
 static	int
 phy_ConfigBBWithMpHeaderFile(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	u1Byte			ConfigType)
 {
 	int	i;
@@ -1388,7 +1388,7 @@ phy_ConfigBBWithMpHeaderFile(
 
 static	int
 phy_BB8192D_Config_ParaFile(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 	)
 {
 #if MP_DRIVER != 1
@@ -1517,7 +1517,7 @@ phy_BB8190_Config_ParaFile_Fail:
 
 int
 PHY_BBConfig8192D(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 	)
 {
 	int	rtStatus = _SUCCESS;
@@ -1608,7 +1608,7 @@ PHY_BBConfig8192D(
 
 extern	int
 PHY_RFConfig8192D(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 	)
 {
 	//HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -1632,7 +1632,7 @@ PHY_RFConfig8192D(
  *
  * Overview:    This function read RF parameters from general file format, and do RF 3-wire
  *
- * Input:	PADAPTER			Adapter
+ * Input:	struct rtw_adapter *			Adapter
  *			ps1Byte					pFileName
  *			enum RF_RADIO_PATH_E	eRFPath
  *
@@ -1644,7 +1644,7 @@ PHY_RFConfig8192D(
  *---------------------------------------------------------------------------*/
 int
 rtl8192d_PHY_ConfigRFWithParaFile(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	u8*				pFileName,
 	enum RF_RADIO_PATH_E		eRFPath
 )
@@ -1662,7 +1662,7 @@ rtl8192d_PHY_ConfigRFWithParaFile(
  *
  * Overview:    This function read RF parameters from general file format, and do RF 3-wire
  *
- * Input:	PADAPTER			Adapter
+ * Input:	struct rtw_adapter *			Adapter
  *			ps1Byte					pFileName
  *			enum RF_RADIO_PATH_E	eRFPath
  *
@@ -1674,7 +1674,7 @@ rtl8192d_PHY_ConfigRFWithParaFile(
  *---------------------------------------------------------------------------*/
 int
 rtl8192d_PHY_ConfigRFWithHeaderFile(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	enum RF_CONTENT			Content,
 	enum RF_RADIO_PATH_E		eRFPath
 )
@@ -1828,7 +1828,7 @@ rtl8192d_PHY_ConfigRFWithHeaderFile(
  * Overview:    This function is write register and then readback to make sure whether
  *			  BB[PHY0, PHY1], RF[Patha, path b, path c, path d] is Ok
  *
- * Input:	PADAPTER			Adapter
+ * Input:	struct rtw_adapter *			Adapter
  *			enum HW90_BLOCK		CheckBlock
  *			enum RF_RADIO_PATH_E	eRFPath		// it is used only when CheckBlock is HW90_BLOCK_RF
  *
@@ -1840,7 +1840,7 @@ rtl8192d_PHY_ConfigRFWithHeaderFile(
  *---------------------------------------------------------------------------*/
 int
 rtl8192d_PHY_CheckBBAndRFOK(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	enum HW90_BLOCK		CheckBlock,
 	enum RF_RADIO_PATH_E	eRFPath
 	)
@@ -1915,7 +1915,7 @@ rtl8192d_PHY_CheckBBAndRFOK(
 
 void
 rtl8192d_PHY_GetHWRegOriginalValue(
-	PADAPTER		Adapter
+	struct rtw_adapter *		Adapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -1947,7 +1947,7 @@ rtl8192d_PHY_GetHWRegOriginalValue(
 //
 static	u8
 phy_DbmToTxPwrIdx(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	enum WIRELESS_MODE	WirelessMode,
 	int			PowerInDbm
 	)
@@ -2004,7 +2004,7 @@ phy_DbmToTxPwrIdx(
 //
 static int
 phy_TxPwrIdxToDbm(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	enum WIRELESS_MODE	WirelessMode,
 	u8			TxPwrIdx
 	)
@@ -2044,7 +2044,7 @@ phy_TxPwrIdxToDbm(
  *
  * Overview:    This function is export to "common" moudule
  *
- * Input:       PADAPTER		Adapter
+ * Input:       struct rtw_adapter *		Adapter
  *			psByte			Power Level
  *
  * Output:      NONE
@@ -2054,7 +2054,7 @@ phy_TxPwrIdxToDbm(
  *---------------------------------------------------------------------------*/
 void
 PHY_GetTxPowerLevel8192D(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	u32*		powerlevel
 	)
 {
@@ -2090,7 +2090,7 @@ PHY_GetTxPowerLevel8192D(
 
 
 static void getTxPowerIndex(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	u8			channel,
 	u8*		cckPowerLevel,
 	u8*		ofdmPowerLevel
@@ -2125,7 +2125,7 @@ static void getTxPowerIndex(
 }
 
 static void ccxPowerIndexCheck(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	u8			channel,
 	u8*		cckPowerLevel,
 	u8*		ofdmPowerLevel
@@ -2138,7 +2138,7 @@ static void ccxPowerIndexCheck(
  * Overview:    This function is export to "HalCommon" moudule
  *			We must consider RF path later!!!!!!!
  *
- * Input:       PADAPTER		Adapter
+ * Input:       struct rtw_adapter *		Adapter
  *			u1Byte		channel
  *
  * Output:      NONE
@@ -2151,7 +2151,7 @@ static void ccxPowerIndexCheck(
  *---------------------------------------------------------------------------*/
 void
 PHY_SetTxPowerLevel8192D(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	u8			channel
 	)
 {
@@ -2190,7 +2190,7 @@ PHY_SetTxPowerLevel8192D(
 //
 bool
 PHY_UpdateTxPowerDbm8192D(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	int		powerInDbm
 	)
 {
@@ -2237,7 +2237,7 @@ PHY_UpdateTxPowerDbm8192D(
 
 void
 rtl8192d_PHY_SetBeaconHwReg(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	u16			BeaconInterval
 	)
 {
@@ -2247,7 +2247,7 @@ rtl8192d_PHY_SetBeaconHwReg(
 
 void
 PHY_ScanOperationBackup8192D(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8		Operation
 	)
 {
@@ -2270,7 +2270,7 @@ PHY_ScanOperationBackup8192D(
  *---------------------------------------------------------------------------*/
 static void
 _PHY_SetBWMode92D(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 )
 {
 	HAL_DATA_TYPE		*pHalData = GET_HAL_DATA(Adapter);
@@ -2279,7 +2279,7 @@ _PHY_SetBWMode92D(
 
 #ifdef CONFIG_DUALMAC_CONCURRENT
 	// FOr 92D dual mac config.
-	PADAPTER	BuddyAdapter = Adapter->pbuddy_adapter;
+	struct rtw_adapter *	BuddyAdapter = Adapter->pbuddy_adapter;
 	PHAL_DATA_TYPE	pHalDataBuddyAdapter;
 #endif
 
@@ -2426,7 +2426,7 @@ _PHY_SetBWMode92D(
  *
  * Overview:  This function is export to "HalCommon" moudule
  *
- * Input:		PADAPTER			Adapter
+ * Input:		struct rtw_adapter *			Adapter
  *			HT_CHANNEL_WIDTH	Bandwidth	//20M or 40M
  *
  * Output:      NONE
@@ -2437,7 +2437,7 @@ _PHY_SetBWMode92D(
  *---------------------------------------------------------------------------*/
 void
 PHY_SetBWMode8192D(
-	PADAPTER					Adapter,
+	struct rtw_adapter *					Adapter,
 	enum HT_CHANNEL_WIDTH	Bandwidth,	// 20M or 40M
 	unsigned char	Offset		// Upper, Lower, or Don't care
 )
@@ -2445,7 +2445,7 @@ PHY_SetBWMode8192D(
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 	enum HT_CHANNEL_WIDTH	tmpBW= pHalData->CurrentChannelBW;
 #ifdef CONFIG_DUALMAC_CONCURRENT
-	PADAPTER	BuddyAdapter = Adapter->pbuddy_adapter;
+	struct rtw_adapter *	BuddyAdapter = Adapter->pbuddy_adapter;
 #endif
 
 	//if(pHalData->SetBWModeInProgress)
@@ -2503,7 +2503,7 @@ Descriptor:
 ********************************************************************/
 void
 PHY_StopTRXBeforeChangeBand8192D(
-	  PADAPTER		Adapter
+	  struct rtw_adapter *		Adapter
 )
 {
 #if MP_DRIVER == 1
@@ -2525,11 +2525,11 @@ PHY_StopTRXBeforeChangeBand8192D(
 */
 void
 PHY_SwitchWirelessBand(
-	PADAPTER		 Adapter,
+	struct rtw_adapter *		 Adapter,
 	u8		Band);
 void
 PHY_SwitchWirelessBand(
-	PADAPTER		 Adapter,
+	struct rtw_adapter *		 Adapter,
 	u8		Band)
 {
 	HAL_DATA_TYPE	*pHalData	= GET_HAL_DATA(Adapter);
@@ -2561,7 +2561,7 @@ PHY_SwitchWirelessBand(
 #ifdef CONFIG_DUALMAC_CONCURRENT
 	if(pHalData->bMasterOfDMSP)
 	{
-		PADAPTER	BuddyAdapter = Adapter->pbuddy_adapter;
+		struct rtw_adapter *	BuddyAdapter = Adapter->pbuddy_adapter;
 		if(BuddyAdapter!=NULL)
 		{
 			if(BuddyAdapter->hw_init_completed)
@@ -2622,7 +2622,7 @@ PHY_SwitchWirelessBand(
 #ifdef CONFIG_DUALMAC_CONCURRENT
 	if(pHalData->bMasterOfDMSP)
 	{
-		PADAPTER	BuddyAdapter = Adapter->pbuddy_adapter;
+		struct rtw_adapter *	BuddyAdapter = Adapter->pbuddy_adapter;
 		if(BuddyAdapter!=NULL)
 		{
 			if(pHalData->CurrentBandType92D == BAND_ON_2_4G)
@@ -2660,7 +2660,7 @@ PHY_SwitchWirelessBand(
 
 static void
 PHY_EnableRFENV(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	u8				eRFPath	,
 	u32				MaskforPhySet,
 	u32*			pu4RegValue
@@ -2705,7 +2705,7 @@ PHY_EnableRFENV(
 
 static void
 PHY_RestoreRFENV(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	u8				eRFPath,
 	u32				MaskforPhySet,
 	u32*			pu4RegValue
@@ -2738,7 +2738,7 @@ PHY_RestoreRFENV(
  *
  * Overview:	Change RF Setting when we siwthc channel for 92D C-cut.
  *
- * Input:       PADAPTER				pAdapter
+ * Input:       struct rtw_adapter *				pAdapter
  *
  * Output:      NONE
  *
@@ -2752,7 +2752,7 @@ PHY_RestoreRFENV(
  *---------------------------------------------------------------------------*/
  static	void
  phy_SwitchRfSetting(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	u8					channel
 	)
 {
@@ -2996,7 +2996,7 @@ PHY_RestoreRFENV(
  *
  * Overview:	Change RF Setting when we siwthc channel for 92D C-cut.
  *
- * Input:       PADAPTER				pAdapter
+ * Input:       struct rtw_adapter *				pAdapter
  *
  * Output:      NONE
  *
@@ -3010,7 +3010,7 @@ PHY_RestoreRFENV(
  *---------------------------------------------------------------------------*/
 static  void
  phy_ReloadLCKSetting(
-	PADAPTER				Adapter,
+	struct rtw_adapter *				Adapter,
 	u8					channel
 	)
 {
@@ -3086,7 +3086,7 @@ static  void
  *
  * Overview:	Change RF Setting when we siwthc channel for 92D C-cut.
  *
- * Input:       PADAPTER				pAdapter
+ * Input:       struct rtw_adapter *				pAdapter
  *
  * Output:      NONE
  *
@@ -3100,7 +3100,7 @@ static  void
  *---------------------------------------------------------------------------*/
  static void
  phy_ReloadIMRSetting(
-	PADAPTER				Adapter,
+	struct rtw_adapter *				Adapter,
 	u8					channel,
 	u8					eRFPath
 	)
@@ -3164,7 +3164,7 @@ static  void
  *
  * Overview:	Change RF Setting when we siwthc channel for 92D C-cut.
  *
- * Input:       PADAPTER				pAdapter
+ * Input:       struct rtw_adapter *				pAdapter
  *
  * Output:      NONE
  *
@@ -3178,7 +3178,7 @@ static  void
  *---------------------------------------------------------------------------*/
  static void
  phy_ReloadIQKSetting(
-	PADAPTER				Adapter,
+	struct rtw_adapter *				Adapter,
 	u8					channel
 	)
 {
@@ -3240,7 +3240,7 @@ static  void
 }
 
 
-static void _PHY_SwChnl8192D(PADAPTER Adapter, u8 channel)
+static void _PHY_SwChnl8192D(struct rtw_adapter * Adapter, u8 channel)
 {
 	u8	eRFPath;
 	u32	param1, param2;
@@ -3249,7 +3249,7 @@ static void _PHY_SwChnl8192D(PADAPTER Ad
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 #if defined(CONFIG_CONCURRENT_MODE) || defined(CONFIG_DUALMAC_CONCURRENT)
 	// FOr 92D dual mac config. and sw concurrent mode
-	PADAPTER	BuddyAdapter = Adapter->pbuddy_adapter;
+	struct rtw_adapter *	BuddyAdapter = Adapter->pbuddy_adapter;
 #endif
 
 	if ( Adapter->bNotifyChannelChange )
@@ -3350,18 +3350,18 @@ static void _PHY_SwChnl8192D(PADAPTER Ad
 
 void
 PHY_SwChnl8192D(	// Call after initialization
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8		channel
 	)
 {
-	//PADAPTER Adapter =  ADJUST_TO_ADAPTIVE_ADAPTER(pAdapter, true);
+	//struct rtw_adapter * Adapter =  ADJUST_TO_ADAPTIVE_ADAPTER(pAdapter, true);
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 	u8	tmpchannel = pHalData->CurrentChannel;
 	bool  bResult = true;
 	u32	timeout = 1000, timecount = 0;
 
 #ifdef CONFIG_DUALMAC_CONCURRENT
-	PADAPTER	BuddyAdapter = Adapter->pbuddy_adapter;
+	struct rtw_adapter *	BuddyAdapter = Adapter->pbuddy_adapter;
 	HAL_DATA_TYPE	*pHalDataBuddyAdapter;
 #endif
 
@@ -3502,7 +3502,7 @@ PHY_SwChnl8192D(	// Call after initializ
 
 static	bool
 phy_SwChnlStepByStep(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8		channel,
 	u8		*stage,
 	u8		*step,
@@ -3542,7 +3542,7 @@ phy_SetSwChnlCmdArray(
 
 static	void
 phy_FinishSwChnlNow(	// We should not call this function directly
-		PADAPTER	Adapter,
+		struct rtw_adapter *	Adapter,
 		u8		channel
 		)
 {
@@ -3560,7 +3560,7 @@ phy_FinishSwChnlNow(	// We should not ca
 //
 void
 PHY_SwChnlPhy8192D(	// Only called during initialize
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8		channel
 	)
 {
@@ -3606,7 +3606,7 @@ PHY_SwChnlPhy8192D(	// Only called durin
 //
 void
 PHY_SetMonitorMode8192D(
-	PADAPTER			pAdapter,
+	struct rtw_adapter *			pAdapter,
 	bool				bEnableMonitorMode
 	)
 {
@@ -3632,7 +3632,7 @@ PHY_SetMonitorMode8192D(
  *---------------------------------------------------------------------------*/
 bool
 PHY_CheckIsLegalRfPath8192D(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u32	eRFPath)
 {
 //	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(pAdapter);
@@ -3654,7 +3654,7 @@ PHY_CheckIsLegalRfPath8192D(
 
 static u8			//bit0 = 1 => Tx OK, bit1 = 1 => Rx OK
 phy_PathA_IQK(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	bool		configPathB
 	)
 {
@@ -3741,7 +3741,7 @@ phy_PathA_IQK(
 
 static u8			//bit0 = 1 => Tx OK, bit1 = 1 => Rx OK
 phy_PathA_IQK_5G_Normal(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	bool		configPathB
 	)
 {
@@ -3875,7 +3875,7 @@ phy_PathA_IQK_5G_Normal(
 
 static u8				//bit0 = 1 => Tx OK, bit1 = 1 => Rx OK
 phy_PathB_IQK(
-	PADAPTER	pAdapter
+	struct rtw_adapter *	pAdapter
 	)
 {
 	u32 regEAC, regEB4, regEBC, regEC4, regECC;
@@ -3924,7 +3924,7 @@ phy_PathB_IQK(
 
 static u8				//bit0 = 1 => Tx OK, bit1 = 1 => Rx OK
 phy_PathB_IQK_5G_Normal(
-	PADAPTER	pAdapter
+	struct rtw_adapter *	pAdapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(pAdapter);
@@ -4039,7 +4039,7 @@ phy_PathB_IQK_5G_Normal(
 
 static void
 phy_PathAFillIQKMatrix(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	bool	bIQKOK,
 	int		result[][8],
 	u8		final_candidate,
@@ -4106,7 +4106,7 @@ phy_PathAFillIQKMatrix(
 
 static void
 phy_PathAFillIQKMatrix_5G_Normal(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	bool	bIQKOK,
 	int		result[][8],
 	u8		final_candidate,
@@ -4174,7 +4174,7 @@ phy_PathAFillIQKMatrix_5G_Normal(
 
 static void
 phy_PathBFillIQKMatrix(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	bool	bIQKOK,
 	int		result[][8],
 	u8		final_candidate,
@@ -4235,7 +4235,7 @@ phy_PathBFillIQKMatrix(
 
 static void
 phy_PathBFillIQKMatrix_5G_Normal(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	bool	bIQKOK,
 	int		result[][8],
 	u8		final_candidate,
@@ -4291,7 +4291,7 @@ phy_PathBFillIQKMatrix_5G_Normal(
 
 static void
 phy_SaveADDARegisters(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u32*		ADDAReg,
 	u32*		ADDABackup,
 	u32			RegisterNum
@@ -4310,7 +4310,7 @@ phy_SaveADDARegisters(
 
 static void
 phy_SaveMACRegisters(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u32*		MACReg,
 	u32*		MACBackup
 	)
@@ -4327,7 +4327,7 @@ phy_SaveMACRegisters(
 
 static void
 phy_ReloadADDARegisters(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u32*		ADDAReg,
 	u32*		ADDABackup,
 	u32			RegiesterNum
@@ -4346,7 +4346,7 @@ phy_ReloadADDARegisters(
 
 static void
 phy_ReloadMACRegisters(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u32*		MACReg,
 	u32*		MACBackup
 	)
@@ -4362,7 +4362,7 @@ phy_ReloadMACRegisters(
 
 static void
 phy_PathADDAOn(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u32*		ADDAReg,
 	bool		isPathAOn,
 	bool		is2T
@@ -4387,7 +4387,7 @@ phy_PathADDAOn(
 
 static void
 phy_MACSettingCalibration(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u32*		MACReg,
 	u32*		MACBackup
 	)
@@ -4407,7 +4407,7 @@ phy_MACSettingCalibration(
 
 static void
 phy_PathAStandBy(
-	PADAPTER	pAdapter
+	struct rtw_adapter *	pAdapter
 	)
 {
 	//RTPRINT(FINIT, INIT_IQK, ("Path-A standby mode!\n"));
@@ -4419,7 +4419,7 @@ phy_PathAStandBy(
 
 static void
 phy_PIModeSwitch(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	bool		PIMode
 	)
 {
@@ -4434,7 +4434,7 @@ phy_PIModeSwitch(
 
 static bool
 phy_SimularityCompare_92D(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	int		result[][8],
 	u8		 c1,
 	u8		 c2
@@ -4526,7 +4526,7 @@ return false => do IQK again
 */
 static bool
 phy_SimularityCompare(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	int		result[][8],
 	u8		 c1,
 	u8		 c2
@@ -4537,7 +4537,7 @@ phy_SimularityCompare(
 
 static void
 phy_IQCalibrate(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	int		result[][8],
 	u8		t,
 	bool		is2T
@@ -4767,7 +4767,7 @@ phy_IQCalibrate(
 
 static void
 phy_IQCalibrate_5G(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	int		result[][8]
 	)
 {
@@ -5148,7 +5148,7 @@ Exit_IQK:
 
 static void
 phy_IQCalibrate_5G_Normal(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	int		result[][8],
 	u8		t
 	)
@@ -5357,7 +5357,7 @@ phy_IQCalibrate_5G_Normal(
 #if SWLCK != 1
 static void
 phy_LCCalibrate92D(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	bool		is2T
 	)
 {
@@ -5465,7 +5465,7 @@ get_abs(
 
 static void
 phy_CalcCurvIndex(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u32*		TargetChnl,
 	u32*		CurveCountVal,
 	bool		is5G,
@@ -5558,7 +5558,7 @@ phy_CalcCurvIndex(
 
 static void
 phy_LCCalibrate92DSW(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	bool		is2T
 	)
 {
@@ -5708,7 +5708,7 @@ phy_LCCalibrate92DSW(
 
 static void
 phy_LCCalibrate(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	bool		is2T
 	)
 {
@@ -5728,7 +5728,7 @@ phy_LCCalibrate(
 
 static void
 phy_APCalibrate(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	char		delta,
 	bool		is2T
 	)
@@ -6149,7 +6149,7 @@ phy_APCalibrate(
 }
 
 static void phy_SetRFPathSwitch(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	bool		bMain,
 	bool		is2T
 	)
@@ -6172,7 +6172,7 @@ static void phy_SetRFPathSwitch(
 
 void
 rtl8192d_PHY_IQCalibrate(
-	PADAPTER	pAdapter
+	struct rtw_adapter *	pAdapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(pAdapter);
@@ -6343,7 +6343,7 @@ rtl8192d_PHY_IQCalibrate(
 		//RT_TRACE(COMP_SCAN|COMP_MLME,DBG_LOUD,("\nIQK OK Indexforchannel %d.\n", Indexforchannel));
 #ifdef CONFIG_CONCURRENT_MODE
 		if (rtw_buddy_adapter_up(pAdapter)) {
-			PADAPTER pbuddy_adapter = pAdapter->pbuddy_adapter;
+			struct rtw_adapter * pbuddy_adapter = pAdapter->pbuddy_adapter;
 			PHAL_DATA_TYPE	pbuddy_HalData = GET_HAL_DATA(pbuddy_adapter);
 
 			for(i = 0; i < IQK_Matrix_REG_NUM; i++)
@@ -6362,7 +6362,7 @@ rtl8192d_PHY_IQCalibrate(
 
 void
 rtl8192d_PHY_LCCalibrate(
-	PADAPTER	pAdapter
+	struct rtw_adapter *	pAdapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(pAdapter);
@@ -6370,7 +6370,7 @@ rtl8192d_PHY_LCCalibrate(
 	bool		bStartContTx = false, bSingleTone = false, bCarrierSuppression = false;
 	u32			timeout = 2000, timecount = 0;
 #ifdef CONFIG_DUALMAC_CONCURRENT
-	PADAPTER	BuddyAdapter = pAdapter->pbuddy_adapter;
+	struct rtw_adapter *	BuddyAdapter = pAdapter->pbuddy_adapter;
 	struct mlme_priv	*pmlmeprivBuddyAdapter;
 #endif
 
@@ -6425,7 +6425,7 @@ rtl8192d_PHY_LCCalibrate(
 
 void
 rtl8192d_PHY_APCalibrate(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	char		delta
 	)
 {
@@ -6453,7 +6453,7 @@ rtl8192d_PHY_APCalibrate(
 
 void
 PHY_UpdateBBRFConfiguration8192D(
-	PADAPTER Adapter,
+	struct rtw_adapter * Adapter,
 	bool bisBandSwitch
 )
 {
@@ -6789,7 +6789,7 @@ PHY_UpdateBBRFConfiguration8192D(
 //		2. PASSIVE_LEVEL (USB interface)
 //
 void PHY_ReadMacPhyMode92D(
-		PADAPTER			Adapter,
+		struct rtw_adapter *			Adapter,
 		bool		AutoloadFail
 )
 {
@@ -6832,7 +6832,7 @@ void PHY_ReadMacPhyMode92D(
 //		2. PASSIVE_LEVEL (USB interface)
 //
 void PHY_ConfigMacPhyMode92D(
-		PADAPTER			Adapter
+		struct rtw_adapter *			Adapter
 )
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -6871,12 +6871,12 @@ void PHY_ConfigMacPhyMode92D(
 //		2. PASSIVE_LEVEL (USB interface)
 //
 void PHY_ConfigMacPhyModeInfo92D(
-		PADAPTER			Adapter
+		struct rtw_adapter *			Adapter
 )
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 #ifdef CONFIG_DUALMAC_CONCURRENT
-	PADAPTER		BuddyAdapter = Adapter->pbuddy_adapter;
+	struct rtw_adapter *		BuddyAdapter = Adapter->pbuddy_adapter;
 	HAL_DATA_TYPE	*pHalDataBuddyAdapter;
 #endif
 
@@ -7017,7 +7017,7 @@ void PHY_ConfigMacPhyModeInfo92D(
 //		2. PASSIVE_LEVEL (USB interface)
 //
 void PHY_ConfigMacCoexist_RFPage92D(
-		PADAPTER			Adapter
+		struct rtw_adapter *			Adapter
 )
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -7046,7 +7046,7 @@ void PHY_ConfigMacCoexist_RFPage92D(
 
 void
 rtl8192d_PHY_InitRxSetting(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -7070,7 +7070,7 @@ rtl8192d_PHY_InitRxSetting(
 
 void
 rtl8192d_PHY_ResetIQKResult(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 )
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -7099,7 +7099,7 @@ rtl8192d_PHY_ResetIQKResult(
 }
 
 void rtl8192d_PHY_SetRFPathSwitch(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	bool		bMain
 	)
 {
@@ -7121,11 +7121,11 @@ void rtl8192d_PHY_SetRFPathSwitch(
 
 void
 HalChangeCCKStatus8192D(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	bool		bCCKDisable
 )
 {
-	//PADAPTER	BuddyAdapter = Adapter->BuddyAdapter;
+	//struct rtw_adapter *	BuddyAdapter = Adapter->BuddyAdapter;
 	PHAL_DATA_TYPE	pHalData = GET_HAL_DATA(Adapter);
 	u8	i;
 
@@ -7202,7 +7202,7 @@ HalChangeCCKStatus8192D(
 }
 
 void
-PHY_InitPABias92D(PADAPTER Adapter)
+PHY_InitPABias92D(struct rtw_adapter * Adapter)
 {
 	u8	tmpU1b;
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
--- a/drivers/staging/rtl8192du/hal/rtl8192d_rf6052.c
+++ b/drivers/staging/rtl8192du/hal/rtl8192d_rf6052.c
@@ -93,7 +93,7 @@ static	struct rf_shadow_compare_map RF_S
  *						Firmwaer support the utility later.
  *
  *---------------------------------------------------------------------------*/
-void rtl8192d_RF_ChangeTxPath(	PADAPTER	Adapter,
+void rtl8192d_RF_ChangeTxPath(	struct rtw_adapter *	Adapter,
 										u16		DataRate)
 {
 // We do not support gain table change inACUT now !!!! Delete later !!!
@@ -106,7 +106,7 @@ void rtl8192d_RF_ChangeTxPath(	PADAPTER
  *
  * Overview:    This function is called by SetBWModeCallback8190Pci() only
  *
- * Input:       PADAPTER				Adapter
+ * Input:       struct rtw_adapter *				Adapter
  *			WIRELESS_BANDWIDTH_E	Bandwidth	//20M or 40M
  *
  * Output:      NONE
@@ -117,7 +117,7 @@ void rtl8192d_RF_ChangeTxPath(	PADAPTER
  *---------------------------------------------------------------------------*/
 void
 rtl8192d_PHY_RF6052SetBandwidth(
-	PADAPTER				Adapter,
+	struct rtw_adapter *				Adapter,
 	enum HT_CHANNEL_WIDTH		Bandwidth)	//20M or 40M
 {
 	u8			eRFPath;
@@ -171,7 +171,7 @@ rtl8192d_PHY_RF6052SetBandwidth(
 
 void
 rtl8192d_PHY_RF6052SetCckTxPower(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	u8*			pPowerlevel)
 {
 	HAL_DATA_TYPE		*pHalData = GET_HAL_DATA(Adapter);
@@ -263,7 +263,7 @@ rtl8192d_PHY_RF6052SetCckTxPower(
 // powerbase1 for HT MCS rates
 //
 static void getPowerBase(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8		*pPowerLevel,
 	u8		Channel,
 	u32	*OfdmBase,
@@ -327,7 +327,7 @@ static u8 getChnlGroupByPG(u8 chnlindex)
 }
 
 static void getTxPowerWriteValByRegulatory(
-		PADAPTER	Adapter,
+		struct rtw_adapter *	Adapter,
 		u8*			pPowerLevel,
 		u8			Channel,
 		u8			index,
@@ -465,7 +465,7 @@ static void getTxPowerWriteValByRegulato
 }
 
 static void writeOFDMPowerReg(
-		PADAPTER	Adapter,
+		struct rtw_adapter *	Adapter,
 		u8			index,
 		u32			*pValue
 	)
@@ -545,7 +545,7 @@ static void writeOFDMPowerReg(
  *---------------------------------------------------------------------------*/
 void
 rtl8192d_PHY_RF6052SetOFDMTxPower(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8*		pPowerLevel,
 	u8		Channel)
 {
@@ -567,7 +567,7 @@ rtl8192d_PHY_RF6052SetOFDMTxPower(
 
 bool
 rtl8192d_PHY_EnableAnotherPHY(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	bool			bMac0
 	)
 {
@@ -598,7 +598,7 @@ rtl8192d_PHY_EnableAnotherPHY(
 
 void
 rtl8192d_PHY_PowerDownAnotherPHY(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	bool			bMac0
 	)
 {
@@ -624,7 +624,7 @@ rtl8192d_PHY_PowerDownAnotherPHY(
 
 static int
 phy_RF6052_Config_ParaFile(
-	PADAPTER		Adapter
+	struct rtw_adapter *		Adapter
 	)
 {
 	u32	u4RegValue=0;
@@ -840,7 +840,7 @@ phy_RF6052_Config_ParaFile_Fail:
 
 int
 PHY_RF6052_Config8192D(
-	PADAPTER		Adapter)
+	struct rtw_adapter *		Adapter)
 {
 	HAL_DATA_TYPE				*pHalData = GET_HAL_DATA(Adapter);
 	int					rtStatus = _SUCCESS;
@@ -903,7 +903,7 @@ PHY_RF6052_Config8192D(
 
 u32
 PHY_RFShadowRead(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	enum RF_RADIO_PATH_E	eRFPath,
 	u32				Offset)
 {
@@ -914,7 +914,7 @@ PHY_RFShadowRead(
 
 void
 PHY_RFShadowWrite(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	enum RF_RADIO_PATH_E	eRFPath,
 	u32				Offset,
 	u32				Data)
@@ -926,12 +926,12 @@ PHY_RFShadowWrite(
 
 bool
 PHY_RFShadowCompare(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	enum RF_RADIO_PATH_E	eRFPath,
 	u32				Offset);
 bool
 PHY_RFShadowCompare(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	enum RF_RADIO_PATH_E	eRFPath,
 	u32				Offset)
 {
@@ -955,12 +955,12 @@ PHY_RFShadowCompare(
 }	/* PHY_RFShadowCompare */
 void
 PHY_RFShadowRecorver(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	enum RF_RADIO_PATH_E	eRFPath,
 	u32				Offset);
 void
 PHY_RFShadowRecorver(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	enum RF_RADIO_PATH_E	eRFPath,
 	u32				Offset)
 {
@@ -981,10 +981,10 @@ PHY_RFShadowRecorver(
 }	/* PHY_RFShadowRecorver */
 void
 PHY_RFShadowCompareAll(
-	PADAPTER			Adapter);
+	struct rtw_adapter *			Adapter);
 void
 PHY_RFShadowCompareAll(
-	PADAPTER			Adapter)
+	struct rtw_adapter *			Adapter)
 {
 	u32		eRFPath;
 	u32		Offset;
@@ -1000,10 +1000,10 @@ PHY_RFShadowCompareAll(
 }	/* PHY_RFShadowCompareAll */
 void
 PHY_RFShadowRecorverAll(
-	PADAPTER			Adapter);
+	struct rtw_adapter *			Adapter);
 void
 PHY_RFShadowRecorverAll(
-	PADAPTER			Adapter)
+	struct rtw_adapter *			Adapter)
 {
 	u32		eRFPath;
 	u32		Offset;
@@ -1019,13 +1019,13 @@ PHY_RFShadowRecorverAll(
 }	/* PHY_RFShadowRecorverAll */
 void
 PHY_RFShadowCompareFlagSet(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	enum RF_RADIO_PATH_E	eRFPath,
 	u32				Offset,
 	u8				Type);
 void
 PHY_RFShadowCompareFlagSet(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	enum RF_RADIO_PATH_E	eRFPath,
 	u32				Offset,
 	u8				Type)
@@ -1036,13 +1036,13 @@ PHY_RFShadowCompareFlagSet(
 }	/* PHY_RFShadowCompareFlagSet */
 void
 PHY_RFShadowRecorverFlagSet(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	enum RF_RADIO_PATH_E	eRFPath,
 	u32				Offset,
 	u8				Type);
 void
 PHY_RFShadowRecorverFlagSet(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	enum RF_RADIO_PATH_E	eRFPath,
 	u32				Offset,
 	u8				Type)
@@ -1053,10 +1053,10 @@ PHY_RFShadowRecorverFlagSet(
 }	/* PHY_RFShadowRecorverFlagSet */
 void
 PHY_RFShadowCompareFlagSetAll(
-	PADAPTER			Adapter);
+	struct rtw_adapter *			Adapter);
 void
 PHY_RFShadowCompareFlagSetAll(
-	PADAPTER			Adapter)
+	struct rtw_adapter *			Adapter)
 {
 	u32		eRFPath;
 	u32		Offset;
@@ -1076,10 +1076,10 @@ PHY_RFShadowCompareFlagSetAll(
 }	/* PHY_RFShadowCompareFlagSetAll */
 void
 PHY_RFShadowRecorverFlagSetAll(
-	PADAPTER			Adapter);
+	struct rtw_adapter *			Adapter);
 void
 PHY_RFShadowRecorverFlagSetAll(
-	PADAPTER			Adapter)
+	struct rtw_adapter *			Adapter)
 {
 	u32		eRFPath;
 	u32		Offset;
@@ -1099,10 +1099,10 @@ PHY_RFShadowRecorverFlagSetAll(
 }	/* PHY_RFShadowCompareFlagSetAll */
 void
 PHY_RFShadowRefresh(
-	PADAPTER			Adapter);
+	struct rtw_adapter *			Adapter);
 void
 PHY_RFShadowRefresh(
-	PADAPTER			Adapter)
+	struct rtw_adapter *			Adapter)
 {
 	u32		eRFPath;
 	u32		Offset;
--- a/drivers/staging/rtl8192du/hal/rtl8192d_rxdesc.c
+++ b/drivers/staging/rtl8192du/hal/rtl8192d_rxdesc.c
@@ -50,7 +50,7 @@ static u8 evm_db2percentage(s8 value)
 }
 
 
-static s32 signal_scale_mapping(_adapter *padapter, s32 cur_sig )
+static s32 signal_scale_mapping(struct rtw_adapter *padapter, s32 cur_sig )
 {
 	s32 ret_sig;
 
@@ -95,7 +95,7 @@ static void query_rx_phy_status(union re
 	u8	pwdb_all;
 	u32	rssi,total_rssi=0;
 	u8	bcck_rate=0, rf_rx_num = 0, cck_highpwr = 0;
-	_adapter				*padapter = prframe->u.hdr.adapter;
+	struct rtw_adapter				*padapter = prframe->u.hdr.adapter;
 	struct rx_pkt_attrib	*pattrib = &prframe->u.hdr.attrib;
 	HAL_DATA_TYPE		*pHalData = GET_HAL_DATA(padapter);
 	u8	tmp_rxsnr;
@@ -379,7 +379,7 @@ static void query_rx_phy_status(union re
 }
 
 
-static void process_rssi(_adapter *padapter,union recv_frame *prframe)
+static void process_rssi(struct rtw_adapter *padapter,union recv_frame *prframe)
 {
 	u32	last_rssi, tmp_val;
 	struct rx_pkt_attrib *pattrib = &prframe->u.hdr.attrib;
@@ -426,7 +426,7 @@ static void process_rssi(_adapter *padap
 }// Process_UI_RSSI_8192S
 
 
-static void process_PWDB(_adapter *padapter, union recv_frame *prframe)
+static void process_PWDB(struct rtw_adapter *padapter, union recv_frame *prframe)
 {
 	int	UndecoratedSmoothedPWDB;
 	HAL_DATA_TYPE		*pHalData = GET_HAL_DATA(padapter);
@@ -480,7 +480,7 @@ static void process_PWDB(_adapter *padap
 }
 
 
-static void process_link_qual(_adapter *padapter,union recv_frame *prframe)
+static void process_link_qual(struct rtw_adapter *padapter,union recv_frame *prframe)
 {
 	u32	last_evm=0,  tmpVal;
 	struct rx_pkt_attrib *pattrib;
@@ -541,7 +541,7 @@ static void process_link_qual(_adapter *
 }// Process_UiLinkQuality8192S
 
 
-static void process_phy_info(_adapter *padapter, union recv_frame *prframe)
+static void process_phy_info(struct rtw_adapter *padapter, union recv_frame *prframe)
 {
 	union recv_frame *precvframe = (union recv_frame *)prframe;
 
@@ -562,7 +562,7 @@ static void process_phy_info(_adapter *p
 void rtl8192d_translate_rx_signal_stuff(union recv_frame *precvframe, struct phy_stat *pphy_info)
 {
 	struct rx_pkt_attrib	*pattrib = &precvframe->u.hdr.attrib;
-	_adapter				*padapter = precvframe->u.hdr.adapter;
+	struct rtw_adapter				*padapter = precvframe->u.hdr.adapter;
 	u8	bPacketMatchBSSID =false;
 	u8	bPacketToSelf = false;
 	u8	bPacketBeacon = false;
--- a/drivers/staging/rtl8192du/hal/rtl8192d_xmit.c
+++ b/drivers/staging/rtl8192du/hal/rtl8192d_xmit.c
@@ -44,7 +44,7 @@ void dump_txrpt_ccx_8192d(void *buf)
 	);
 }
 
-void handle_txrpt_ccx_8192d(_adapter *adapter, void *buf)
+void handle_txrpt_ccx_8192d(struct rtw_adapter *adapter, void *buf)
 {
 	struct txrpt_ccx_8192d *txrpt_ccx = buf;
 
--- a/drivers/staging/rtl8192du/hal/rtl8192du_led.c
+++ b/drivers/staging/rtl8192du/hal/rtl8192du_led.c
@@ -81,7 +81,7 @@ ResetLedStatus(struct LED_871X *	pLed) {
 //		Initialize an struct LED_871X object.
 //
 
-void InitLed871x(_adapter *padapter,
+void InitLed871x(struct rtw_adapter *padapter,
 	struct LED_871X *		pLed,
 	enum LED_PIN_871X	LedPin
 	)
@@ -135,12 +135,12 @@ DeInitLed871x(
 
 void
 SwLedOn(
-	_adapter			*padapter,
+	struct rtw_adapter			*padapter,
 	struct LED_871X *		pLed
 );
 void
 SwLedOn(
-	_adapter			*padapter,
+	struct rtw_adapter			*padapter,
 	struct LED_871X *		pLed
 )
 {
@@ -187,12 +187,12 @@ SwLedOn(
 //
 void
 SwLedOff(
-	_adapter			*padapter,
+	struct rtw_adapter			*padapter,
 	struct LED_871X *		pLed
 );
 void
 SwLedOff(
-	_adapter			*padapter,
+	struct rtw_adapter			*padapter,
 	struct LED_871X *		pLed
 )
 {
@@ -248,7 +248,7 @@ SwLedBlink(
 	struct LED_871X *			pLed
 	)
 {
-	_adapter			*padapter = pLed->padapter;
+	struct rtw_adapter			*padapter = pLed->padapter;
 	struct mlme_priv	*pmlmepriv = &(padapter->mlmepriv);
 	u8				bStopBlinking = false;
 
@@ -368,7 +368,7 @@ SwLedBlink1(
 	struct LED_871X *			pLed
 	)
 {
-	_adapter				*padapter = pLed->padapter;
+	struct rtw_adapter				*padapter = pLed->padapter;
 	HAL_DATA_TYPE		*pHalData = GET_HAL_DATA(padapter);
 	struct led_priv		*ledpriv = &(padapter->ledpriv);
 	struct mlme_priv		*pmlmepriv = &(padapter->mlmepriv);
@@ -599,7 +599,7 @@ SwLedBlink2(
 	struct LED_871X *			pLed
 	)
 {
-	_adapter				*padapter = pLed->padapter;
+	struct rtw_adapter				*padapter = pLed->padapter;
 	struct mlme_priv		*pmlmepriv = &(padapter->mlmepriv);
 	u8					bStopBlinking = false;
 
@@ -724,7 +724,7 @@ SwLedBlink3(
 	struct LED_871X *			pLed
 	)
 {
-	_adapter			*padapter = pLed->padapter;
+	struct rtw_adapter			*padapter = pLed->padapter;
 	struct mlme_priv	*pmlmepriv = &(padapter->mlmepriv);
 	u8				bStopBlinking = false;
 
@@ -897,7 +897,7 @@ SwLedBlink4(
 	struct LED_871X *			pLed
 	)
 {
-	_adapter			*padapter = pLed->padapter;
+	struct rtw_adapter			*padapter = pLed->padapter;
 	struct led_priv	*ledpriv = &(padapter->ledpriv);
 	struct LED_871X *		pLed1 = &(ledpriv->SwLed1);
 	u8				bStopBlinking = false;
@@ -1098,7 +1098,7 @@ SwLedBlink5(
 	struct LED_871X *			pLed
 	)
 {
-	_adapter			*padapter = pLed->padapter;
+	struct rtw_adapter			*padapter = pLed->padapter;
 	u8				bStopBlinking = false;
 
 	// Change LED according to BlinkingLedState specified.
@@ -1221,7 +1221,7 @@ BlinkTimerCallback(
 	)
 {
 	struct LED_871X *	 pLed = (struct LED_871X *)data;
-	_adapter		*padapter = pLed->padapter;
+	struct rtw_adapter		*padapter = pLed->padapter;
 
 	 if( (padapter->bSurpriseRemoved == true) || ( padapter->bDriverStopped == true))
        {
@@ -1241,7 +1241,7 @@ void BlinkWorkItemCallback(struct work_s
 {
 	struct LED_871X *	 pLed = container_of(work, struct LED_871X, BlinkWorkItem);
 	struct led_priv	*ledpriv = &(pLed->padapter->ledpriv);
-	_adapter		*padapter = pLed->padapter;
+	struct rtw_adapter		*padapter = pLed->padapter;
 
 	 if( (padapter->bSurpriseRemoved == true) || ( padapter->bDriverStopped == true))
        {
@@ -1292,12 +1292,12 @@ void BlinkWorkItemCallback(struct work_s
 //
 void
 SwLedControlMode0(
-	_adapter		*padapter,
+	struct rtw_adapter		*padapter,
 	enum LED_CTL_MODE		LedAction
 );
 void
 SwLedControlMode0(
-	_adapter		*padapter,
+	struct rtw_adapter		*padapter,
 	enum LED_CTL_MODE		LedAction
 )
 {
@@ -1414,12 +1414,12 @@ SwLedControlMode0(
  //ALPHA, added by chiyoko, 20090106
 void
 SwLedControlMode1(
-	_adapter		*padapter,
+	struct rtw_adapter		*padapter,
 	enum LED_CTL_MODE		LedAction
 );
 void
 SwLedControlMode1(
-	_adapter		*padapter,
+	struct rtw_adapter		*padapter,
 	enum LED_CTL_MODE		LedAction
 )
 {
@@ -1690,12 +1690,12 @@ SwLedControlMode1(
  //Arcadyan/Sitecom , added by chiyoko, 20090216
 void
 SwLedControlMode2(
-	_adapter				*padapter,
+	struct rtw_adapter				*padapter,
 	enum LED_CTL_MODE		LedAction
 );
 void
 SwLedControlMode2(
-	_adapter				*padapter,
+	struct rtw_adapter				*padapter,
 	enum LED_CTL_MODE		LedAction
 )
 {
@@ -1860,12 +1860,12 @@ SwLedControlMode2(
   //COREGA, added by chiyoko, 20090316
  void
  SwLedControlMode3(
-	_adapter				*padapter,
+	struct rtw_adapter				*padapter,
 	enum LED_CTL_MODE		LedAction
 );
  void
  SwLedControlMode3(
-	_adapter				*padapter,
+	struct rtw_adapter				*padapter,
 	enum LED_CTL_MODE		LedAction
 )
 {
@@ -2044,12 +2044,12 @@ SwLedControlMode2(
  //Edimax-Belkin, added by chiyoko, 20090413
 void
 SwLedControlMode4(
-	_adapter				*padapter,
+	struct rtw_adapter				*padapter,
 	enum LED_CTL_MODE		LedAction
 );
 void
 SwLedControlMode4(
-	_adapter				*padapter,
+	struct rtw_adapter				*padapter,
 	enum LED_CTL_MODE		LedAction
 )
 {
@@ -2381,12 +2381,12 @@ SwLedControlMode4(
  //Sercomm-Belkin, added by chiyoko, 20090415
 void
 SwLedControlMode5(
-	_adapter				*padapter,
+	struct rtw_adapter				*padapter,
 	enum LED_CTL_MODE		LedAction
 );
 void
 SwLedControlMode5(
-	_adapter				*padapter,
+	struct rtw_adapter				*padapter,
 	enum LED_CTL_MODE		LedAction
 )
 {
@@ -2477,12 +2477,12 @@ SwLedControlMode5(
 //
 void
 LedControl871x(
-	_adapter				*padapter,
+	struct rtw_adapter				*padapter,
 	enum LED_CTL_MODE		LedAction
 	);
 void
 LedControl871x(
-	_adapter				*padapter,
+	struct rtw_adapter				*padapter,
 	enum LED_CTL_MODE		LedAction
 	)
 {
@@ -2553,7 +2553,7 @@ LedControl871x(
 //	Description:
 //		Initialize all struct LED_871X objects.
 //
-void rtl8192du_InitSwLeds(_adapter	*padapter)
+void rtl8192du_InitSwLeds(struct rtw_adapter	*padapter)
 {
 	struct led_priv *pledpriv = &(padapter->ledpriv);
 
@@ -2571,11 +2571,11 @@ void rtl8192du_InitSwLeds(_adapter	*pada
 //
 void
 rtl8192du_DeInitSwLeds(
-	_adapter	*padapter
+	struct rtw_adapter	*padapter
 	);
 void
 rtl8192du_DeInitSwLeds(
-	_adapter	*padapter
+	struct rtw_adapter	*padapter
 	)
 {
 	struct led_priv	*ledpriv = &(padapter->ledpriv);
--- a/drivers/staging/rtl8192du/hal/rtl8192du_recv.c
+++ b/drivers/staging/rtl8192du/hal/rtl8192du_recv.c
@@ -31,7 +31,7 @@
 #include <circ_buf.h>
 #include <rtl8192d_hal.h>
 
-void rtl8192du_init_recvbuf(_adapter *padapter, struct recv_buf *precvbuf)
+void rtl8192du_init_recvbuf(struct rtw_adapter *padapter, struct recv_buf *precvbuf)
 {
 
 	precvbuf->transfer_len = 0;
@@ -48,7 +48,7 @@ void rtl8192du_init_recvbuf(_adapter *pa
 
 }
 
-int	rtl8192du_init_recv_priv(_adapter *padapter)
+int	rtl8192du_init_recv_priv(struct rtw_adapter *padapter)
 {
 	struct recv_priv	*precvpriv = &padapter->recvpriv;
 	int	i, res = _SUCCESS;
@@ -163,7 +163,7 @@ exit:
 
 }
 
-void rtl8192du_free_recv_priv (_adapter *padapter)
+void rtl8192du_free_recv_priv (struct rtw_adapter *padapter)
 {
 	int i;
 	struct recv_buf *precvbuf;
--- a/drivers/staging/rtl8192du/hal/rtl8192du_xmit.c
+++ b/drivers/staging/rtl8192du/hal/rtl8192du_xmit.c
@@ -28,7 +28,7 @@
 #include <usb_ops.h>
 #include <rtl8192d_hal.h>
 
-s32	rtl8192du_init_xmit_priv(_adapter *padapter)
+s32	rtl8192du_init_xmit_priv(struct rtw_adapter *padapter)
 {
 	struct xmit_priv	*pxmitpriv = &padapter->xmitpriv;
 
@@ -38,7 +38,7 @@ s32	rtl8192du_init_xmit_priv(_adapter *p
 	return _SUCCESS;
 }
 
-void	rtl8192du_free_xmit_priv(_adapter *padapter)
+void	rtl8192du_free_xmit_priv(struct rtw_adapter *padapter)
 {
 }
 
@@ -85,8 +85,8 @@ u32 rtw_get_ff_hwaddr(struct xmit_frame
 
 }
 
-int urb_zero_packet_chk(_adapter *padapter, int sz);
-int urb_zero_packet_chk(_adapter *padapter, int sz)
+int urb_zero_packet_chk(struct rtw_adapter *padapter, int sz);
+int urb_zero_packet_chk(struct rtw_adapter *padapter, int sz)
 {
 	int blnSetTxDescOffset;
 	struct dvobj_priv	*pdvobj = adapter_to_dvobj(padapter);
@@ -242,7 +242,7 @@ static s32 update_txdesc(struct xmit_fra
 {
 	int	pull=0;
 	uint	qsel;
-	_adapter				*padapter = pxmitframe->padapter;
+	struct rtw_adapter				*padapter = pxmitframe->padapter;
 	HAL_DATA_TYPE		*pHalData = GET_HAL_DATA(padapter);
 	struct dm_priv		*pdmpriv = &pHalData->dmpriv;
 #ifdef CONFIG_AP_MODE
@@ -493,7 +493,7 @@ if (padapter->registrypriv.mp_mode == 0)
 
 }
 
-s32 rtw_dump_xframe(_adapter *padapter, struct xmit_frame *pxmitframe)
+s32 rtw_dump_xframe(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe)
 {
 	s32 ret = _SUCCESS;
 	s32 inner_ret = _SUCCESS;
@@ -612,8 +612,8 @@ static u32 xmitframe_need_length(struct
 	return len;
 }
 
-void UpdateEarlyModeInfo8192D(_adapter *padapter, struct xmit_frame *pxmitframe,struct tx_servq	*ptxservq);
-void UpdateEarlyModeInfo8192D(_adapter *padapter, struct xmit_frame *pxmitframe,struct tx_servq	*ptxservq)
+void UpdateEarlyModeInfo8192D(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe,struct tx_servq	*ptxservq);
+void UpdateEarlyModeInfo8192D(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe,struct tx_servq	*ptxservq)
 {
 	u32	len;
 	struct xmit_priv	*pxmitpriv = &padapter->xmitpriv;
@@ -645,7 +645,7 @@ void UpdateEarlyModeInfo8192D(_adapter *
 }
 
 #define IDEA_CONDITION 1	// check all packets before enqueue
-s32 rtl8192du_xmitframe_complete(_adapter *padapter, struct xmit_priv *pxmitpriv, struct xmit_buf *pxmitbuf)
+s32 rtl8192du_xmitframe_complete(struct rtw_adapter *padapter, struct xmit_priv *pxmitpriv, struct xmit_buf *pxmitbuf)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(padapter);
 	struct xmit_frame *pxmitframe = NULL;
@@ -853,7 +853,7 @@ s32 rtl8192du_xmitframe_complete(_adapte
 
 #else
 
-s32 rtl8192du_xmitframe_complete(_adapter *padapter, struct xmit_priv *pxmitpriv, struct xmit_buf *pxmitbuf)
+s32 rtl8192du_xmitframe_complete(struct rtw_adapter *padapter, struct xmit_priv *pxmitpriv, struct xmit_buf *pxmitbuf)
 {
 
 	struct hw_xmit *phwxmits;
@@ -930,7 +930,7 @@ s32 rtl8192du_xmitframe_complete(_adapte
 #endif
 
 
-static s32 xmitframe_direct(_adapter *padapter, struct xmit_frame *pxmitframe)
+static s32 xmitframe_direct(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe)
 {
 	s32 res = _SUCCESS;
 
@@ -948,7 +948,7 @@ static s32 xmitframe_direct(_adapter *pa
  *	true	dump packet directly
  *	false	enqueue packet
  */
-static s32 pre_xmitframe(_adapter *padapter, struct xmit_frame *pxmitframe)
+static s32 pre_xmitframe(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe)
 {
 	s32 res;
 	struct xmit_buf *pxmitbuf = NULL;
@@ -1009,7 +1009,7 @@ enqueue:
 	return false;
 }
 
-s32 rtl8192du_mgnt_xmit(_adapter *padapter, struct xmit_frame *pmgntframe)
+s32 rtl8192du_mgnt_xmit(struct rtw_adapter *padapter, struct xmit_frame *pmgntframe)
 {
 	return rtw_dump_xframe(padapter, pmgntframe);
 }
@@ -1019,7 +1019,7 @@ s32 rtl8192du_mgnt_xmit(_adapter *padapt
  *	true	dump packet directly ok
  *	false	temporary can't transmit packets to hardware
  */
-s32 rtl8192du_hal_xmit(_adapter *padapter, struct xmit_frame *pxmitframe)
+s32 rtl8192du_hal_xmit(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe)
 {
 	return pre_xmitframe(padapter, pxmitframe);
 }
@@ -1033,7 +1033,7 @@ static void rtl8192du_hostap_mgnt_xmit_c
 	dev_kfree_skb_any(skb);
 }
 
-s32 rtl8192du_hostap_mgnt_xmit_entry(_adapter *padapter, _pkt *pkt)
+s32 rtl8192du_hostap_mgnt_xmit_entry(struct rtw_adapter *padapter, _pkt *pkt)
 {
 	u16 fc;
 	int rc, len, pipe;
--- a/drivers/staging/rtl8192du/hal/usb_halinit.c
+++ b/drivers/staging/rtl8192du/hal/usb_halinit.c
@@ -170,7 +170,7 @@ static void _ThreeOutEpMapping(
 
 static bool
 _MappingOutEP(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u8		NumOutPipe
 	)
 {
@@ -203,7 +203,7 @@ _MappingOutEP(
 
 static void
 _ConfigChipOutEP(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u8		NumOutPipe
 	)
 {
@@ -264,7 +264,7 @@ _ConfigChipOutEP(
 }
 
 static bool HalUsbSetQueuePipeMapping8192DUsb(
-	PADAPTER	pAdapter,
+	struct rtw_adapter *	pAdapter,
 	u8		NumInPipe,
 	u8		NumOutPipe
 	)
@@ -287,8 +287,8 @@ static bool HalUsbSetQueuePipeMapping819
 
 }
 
-void rtl8192du_interface_configure(_adapter *padapter);
-void rtl8192du_interface_configure(_adapter *padapter)
+void rtl8192du_interface_configure(struct rtw_adapter *padapter);
+void rtl8192du_interface_configure(struct rtw_adapter *padapter)
 {
 	HAL_DATA_TYPE	*pHalData	= GET_HAL_DATA(padapter);
 	struct dvobj_priv	*pdvobjpriv = adapter_to_dvobj(padapter);
@@ -328,7 +328,7 @@ void rtl8192du_interface_configure(_adap
 
 }
 
-static u8 _InitPowerOn(_adapter *padapter)
+static u8 _InitPowerOn(struct rtw_adapter *padapter)
 {
 	u8	ret = _SUCCESS;
 	u16	value16=0;
@@ -492,7 +492,7 @@ u16 calc_crc(u8 * pdata,int length)
 
 
 #ifdef CONFIG_WOWLAN
-static int rtw_wowlan_set_pattern(_adapter *padapter ,u8* pbuf){
+static int rtw_wowlan_set_pattern(struct rtw_adapter *padapter ,u8* pbuf){
 	struct pwrctrl_priv *pwrpriv=&padapter->pwrctrlpriv;
 	int res=0,crc_idx;
 	u32 content=0,cmd=0;
@@ -600,7 +600,7 @@ _rtw_wowlan_set_pattern_exit:
 
 
 
-void rtw_wowlan_reload_pattern(_adapter *padapter){
+void rtw_wowlan_reload_pattern(struct rtw_adapter *padapter){
 	struct pwrctrl_priv *pwrpriv=&padapter->pwrctrlpriv;
 	u32 content=0,cmd=0;
 	u8 idx;
@@ -662,7 +662,7 @@ void rtw_wowlan_reload_pattern(_adapter
 //
 //-------------------------------------------------------------------------
 static u8 _LLTWrite(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u32		address,
 	u32		data
 	)
@@ -693,7 +693,7 @@ static u8 _LLTWrite(
 }
 
 static u8 _LLTRead(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u32		address
 	)
 {
@@ -721,7 +721,7 @@ static u8 _LLTRead(
 }
 
 static u8 InitLLTTable(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u32		boundary
 	)
 {
@@ -784,7 +784,7 @@ static u8 InitLLTTable(
 //---------------------------------------------------------------
 static void
 _SetMacID(
-	PADAPTER Adapter, u8* MacID
+	struct rtw_adapter * Adapter, u8* MacID
 	)
 {
 	u32 i;
@@ -800,7 +800,7 @@ _SetMacID(
 
 static void
 _SetBSSID(
-	PADAPTER Adapter, u8* BSSID
+	struct rtw_adapter * Adapter, u8* BSSID
 	)
 {
 	u32 i;
@@ -817,7 +817,7 @@ _SetBSSID(
 // Shall USB interface init this?
 static void
 _InitInterrupt(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 	u32	value32;
@@ -833,7 +833,7 @@ _InitInterrupt(
 
 static void
 _InitQueueReservedPage(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData	= GET_HAL_DATA(Adapter);
@@ -922,7 +922,7 @@ _InitQueueReservedPage(
 
 static void
 _InitTxBufferBoundary(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 	struct registry_priv *pregistrypriv = &Adapter->registrypriv;
@@ -951,7 +951,7 @@ _InitTxBufferBoundary(
 
 static void
 _InitNormalChipRegPriority(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u16		beQ,
 	u16		bkQ,
 	u16		viQ,
@@ -971,7 +971,7 @@ _InitNormalChipRegPriority(
 
 static void
 _InitNormalChipOneOutEpPriority(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData	= GET_HAL_DATA(Adapter);
@@ -1006,7 +1006,7 @@ _InitNormalChipOneOutEpPriority(
 
 static void
 _InitNormalChipTwoOutEpPriority(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData	= GET_HAL_DATA(Adapter);
@@ -1059,7 +1059,7 @@ _InitNormalChipTwoOutEpPriority(
 
 static void
 _InitNormalChipThreeOutEpPriority(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 	struct registry_priv *pregistrypriv = &Adapter->registrypriv;
@@ -1086,7 +1086,7 @@ _InitNormalChipThreeOutEpPriority(
 
 static void
 _InitQueuePriority(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData	= GET_HAL_DATA(Adapter);
@@ -1110,7 +1110,7 @@ _InitQueuePriority(
 #if ENABLE_USB_DROP_INCORRECT_OUT //amy,temp remove
 static void
 _InitHardwareDropIncorrectBulkOut(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 	u32	value32 = rtw_read32(Adapter, REG_TXDMA_OFFSET_CHK);
@@ -1120,7 +1120,7 @@ _InitHardwareDropIncorrectBulkOut(
 #endif //ENABLE_USB_DROP_INCORRECT_OUT, amy,temp remove
 static void
 _InitNetworkType(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 	u32	value32;
@@ -1139,7 +1139,7 @@ _InitNetworkType(
 
 static void
 _InitTransferPageSize(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 	// Tx page size is always 128.
@@ -1151,7 +1151,7 @@ _InitTransferPageSize(
 
 static void
 _InitDriverInfoSize(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8		drvInfoSize
 	)
 {
@@ -1160,7 +1160,7 @@ _InitDriverInfoSize(
 
 static void
 _InitWMACSetting(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 	//u4Byte			value32;
@@ -1198,7 +1198,7 @@ _InitWMACSetting(
 
 static void
 _InitAdaptiveCtrl(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 	u16	value16;
@@ -1233,7 +1233,7 @@ _InitAdaptiveCtrl(
 
 static void
 _InitRateFallback(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 	// Set Data Auto Rate Fallback Retry Count register.
@@ -1246,7 +1246,7 @@ _InitRateFallback(
 
 static void
 _InitEDCA(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 	//PHAL_DATA_8192CUSB	pHalData = GetHalData8192CUsb(Adapter);
@@ -1303,7 +1303,7 @@ _InitEDCA(
 
 static void
 _InitAMPDUAggregation(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 	HAL_DATA_TYPE		*pHalData = GET_HAL_DATA(Adapter);
@@ -1322,7 +1322,7 @@ _InitAMPDUAggregation(
 
 static void
 _InitBeaconMaxError(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	bool		InfraMode
 	)
 {
@@ -1335,7 +1335,7 @@ _InitBeaconMaxError(
 
 static void
 _InitRDGSetting(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 	rtw_write8(Adapter,REG_RD_CTRL,0xFF);
@@ -1345,7 +1345,7 @@ _InitRDGSetting(
 
 static void
 _InitRetryFunction(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 	u8	value8;
@@ -1361,7 +1361,7 @@ _InitRetryFunction(
 
 static void
 _InitUsbAggregationSetting(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 #ifdef CONFIG_USB_TX_AGGREGATION
@@ -1477,7 +1477,7 @@ _InitUsbAggregationSetting(
 
 static void
 _InitOperationMode(
-	PADAPTER			Adapter
+	struct rtw_adapter *			Adapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -1567,7 +1567,7 @@ _InitOperationMode(
 
 static void
 _InitSecuritySetting(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 	invalidate_cam_all(Adapter);
@@ -1575,7 +1575,7 @@ _InitSecuritySetting(
 
  static void
 _InitBeaconParameters(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 //	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -1599,7 +1599,7 @@ _InitBeaconParameters(
 
 static void
 _InitRFType(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -1622,7 +1622,7 @@ _InitRFType(
 }
 
 #if RTL8192CU_ADHOC_WORKAROUND_SETTING
-static void _InitAdhocWorkaroundParams(PADAPTER Adapter)
+static void _InitAdhocWorkaroundParams(struct rtw_adapter * Adapter)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 	pHalData->RegBcnCtrlVal = rtw_read8(Adapter, REG_BCN_CTRL);
@@ -1635,7 +1635,7 @@ static void _InitAdhocWorkaroundParams(P
 
 static void
 _BeaconFunctionEnable(
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	bool			Enable,
 	bool			Linked
 	)
@@ -1652,7 +1652,7 @@ _BeaconFunctionEnable(
 
 // Set CCK and OFDM Block "ON"
 static void _BBTurnOnBlock(
-	PADAPTER		Adapter
+	struct rtw_adapter *		Adapter
 	)
 {
 	HAL_DATA_TYPE		*pHalData	= GET_HAL_DATA(Adapter);
@@ -1667,7 +1667,7 @@ static void _BBTurnOnBlock(
 }
 
 static void _RfPowerSave(
-	PADAPTER		Adapter
+	struct rtw_adapter *		Adapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData	= GET_HAL_DATA(Adapter);
@@ -1703,7 +1703,7 @@ static void _RfPowerSave(
 }
 
 #ifdef CONFIG_LED
-static void _InitHWLed(PADAPTER Adapter)
+static void _InitHWLed(struct rtw_adapter * Adapter)
 {
 	struct led_priv *pledpriv = &(Adapter->ledpriv);
 
@@ -1718,7 +1718,7 @@ static void _InitHWLed(PADAPTER Adapter)
 #endif //CONFIG_LED
 
 #ifdef CONFIG_WOWLAN
-static void dump_wakup_reason(_adapter *padapter)
+static void dump_wakup_reason(struct rtw_adapter *padapter)
 {
 	switch(rtw_read8(padapter, REG_WOWLAN_REASON))
 	{
@@ -1750,8 +1750,8 @@ static void dump_wakup_reason(_adapter *
 }
 #endif //CONFIG_WOWLAN
 
-u32 rtl8192du_hal_init(_adapter *padapter);
-u32 rtl8192du_hal_init(_adapter *padapter)
+u32 rtl8192du_hal_init(struct rtw_adapter *padapter);
+u32 rtl8192du_hal_init(struct rtw_adapter *padapter)
 {
 	u8	val8 = 0, tmpU1b;
 	u16	val16;
@@ -1763,7 +1763,7 @@ u32 rtl8192du_hal_init(_adapter *padapte
 	struct pwrctrl_priv		*pwrctrlpriv = &padapter->pwrctrlpriv;
 	struct registry_priv	*pregistrypriv = &padapter->registrypriv;
 #ifdef CONFIG_DUALMAC_CONCURRENT
-	PADAPTER	BuddyAdapter = padapter->pbuddy_adapter;
+	struct rtw_adapter *	BuddyAdapter = padapter->pbuddy_adapter;
 #endif
 	u32 init_start_time = rtw_get_current_time();
 
@@ -2381,7 +2381,7 @@ _func_exit_;
 
 static void
 _DisableGPIO(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 	)
 {
 /***************************************
@@ -2418,7 +2418,7 @@ n. LEDCFG 0x4C[15:0] = 0x8080
 } //end of _DisableGPIO()
 static void
 _ResetFWDownloadRegister(
-	PADAPTER			Adapter
+	struct rtw_adapter *			Adapter
 	)
 {
 	u32	value32;
@@ -2431,7 +2431,7 @@ _ResetFWDownloadRegister(
 
 static int
 _DisableRF_AFE(
-	PADAPTER			Adapter
+	struct rtw_adapter *			Adapter
 	)
 {
 	int		rtStatus = _SUCCESS;
@@ -2468,7 +2468,7 @@ _DisableRF_AFE(
 
 static void
 _ResetBB(
-	PADAPTER			Adapter
+	struct rtw_adapter *			Adapter
 	)
 {
 	u16	value16;
@@ -2483,7 +2483,7 @@ _ResetBB(
 
 static void
 _ResetMCU(
-	PADAPTER			Adapter
+	struct rtw_adapter *			Adapter
 	)
 {
 	u16	value16;
@@ -2497,7 +2497,7 @@ _ResetMCU(
 
 static void
 _DisableMAC_AFE_PLL(
-	PADAPTER			Adapter
+	struct rtw_adapter *			Adapter
 	)
 {
 	u32	value32;
@@ -2514,7 +2514,7 @@ _DisableMAC_AFE_PLL(
 
 static void
 _AutoPowerDownToHostOff(
-	PADAPTER		Adapter
+	struct rtw_adapter *		Adapter
 	)
 {
 	u32			value32;
@@ -2535,7 +2535,7 @@ _AutoPowerDownToHostOff(
 
 static void
 _SetUsbSuspend(
-	PADAPTER			Adapter
+	struct rtw_adapter *			Adapter
 	)
 {
 	u32			value32;
@@ -2553,7 +2553,7 @@ _SetUsbSuspend(
 
 static void
 _DisableRFAFEAndResetBB8192D(
-	PADAPTER			Adapter
+	struct rtw_adapter *			Adapter
 	)
 {
 /**************************************
@@ -2599,7 +2599,7 @@ e.	SYS_FUNC_EN 0x02[7:0] = 0x14		//reset
 
 static void
 _DisableRFAFEAndResetBB(
-	PADAPTER			Adapter
+	struct rtw_adapter *			Adapter
 	)
 {
 	_DisableRFAFEAndResetBB8192D(Adapter);
@@ -2607,7 +2607,7 @@ _DisableRFAFEAndResetBB(
 
 static void
 _ResetDigitalProcedure1(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	bool				bWithoutHWSM
 	)
 {
@@ -2678,7 +2678,7 @@ _ResetDigitalProcedure1(
 
 static void
 _ResetDigitalProcedure2(
-	PADAPTER			Adapter
+	struct rtw_adapter *			Adapter
 )
 {
 /*****************************
@@ -2696,7 +2696,7 @@ m.	SYS_ISO_CTRL 0x01[7:0] = 0x83			// is
 
 static void
 _DisableAnalog(
-	PADAPTER			Adapter,
+	struct rtw_adapter *			Adapter,
 	bool			bWithoutHWSM
 	)
 {
@@ -2735,13 +2735,13 @@ i.	APS_FSMCO 0x04[15:0] = 0x4802		// set
 
 static bool
 CanGotoPowerOff92D(
-	PADAPTER			Adapter
+	struct rtw_adapter *			Adapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 	u8 u1bTmp;
 #ifdef CONFIG_DUALMAC_CONCURRENT
-	PADAPTER	BuddyAdapter = Adapter->pbuddy_adapter;
+	struct rtw_adapter *	BuddyAdapter = Adapter->pbuddy_adapter;
 #endif
 
 	if(pHalData->MacPhyMode92D==SINGLEMAC_SINGLEPHY)
@@ -2799,7 +2799,7 @@ CanGotoPowerOff92D(
 
 static int
 CardDisableHWSM( // HW Auto state machine
-	PADAPTER		Adapter,
+	struct rtw_adapter *		Adapter,
 	bool			resetMCU
 	)
 {
@@ -2851,7 +2851,7 @@ CardDisableHWSM( // HW Auto state machin
 
 static int
 CardDisableWithoutHWSM( // without HW Auto state machine
-	PADAPTER		Adapter
+	struct rtw_adapter *		Adapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -2917,8 +2917,8 @@ CardDisableWithoutHWSM( // without HW Au
 	return rtStatus;
 }
 
-u32 rtl8192du_hal_deinit(_adapter *padapter);
-u32 rtl8192du_hal_deinit(_adapter *padapter)
+u32 rtl8192du_hal_deinit(struct rtw_adapter *padapter);
+u32 rtl8192du_hal_deinit(struct rtw_adapter *padapter)
  {
 	u8	u1bTmp;
 	u8	OpMode;
@@ -2969,8 +2969,8 @@ _func_exit_;
 	return _SUCCESS;
  }
 
-unsigned int rtl8192du_inirp_init(_adapter * padapter);
-unsigned int rtl8192du_inirp_init(_adapter * padapter)
+unsigned int rtl8192du_inirp_init(struct rtw_adapter * padapter);
+unsigned int rtl8192du_inirp_init(struct rtw_adapter * padapter)
 {
 	u8 i;
 	struct recv_buf *precvbuf;
@@ -3026,8 +3026,8 @@ _func_exit_;
 
 }
 
-unsigned int rtl8192du_inirp_deinit(_adapter * padapter);
-unsigned int rtl8192du_inirp_deinit(_adapter * padapter)
+unsigned int rtl8192du_inirp_deinit(struct rtw_adapter * padapter);
+unsigned int rtl8192du_inirp_deinit(struct rtw_adapter * padapter)
 {
 	RT_TRACE(_module_hci_hal_init_c_,_drv_info_,("\n ===> usb_rx_deinit \n"));
 
@@ -3047,7 +3047,7 @@ unsigned int rtl8192du_inirp_deinit(_ada
 
 static void
 _ReadPROMVersion(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8*	PROMContent,
 	bool		AutoloadFail
 	)
@@ -3085,7 +3085,7 @@ _GetChannelGroup(
 
 static void
 _ReadIDs(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8*		PROMContent,
 	bool		AutoloadFail
 	)
@@ -3143,7 +3143,7 @@ _ReadIDs(
 
 static void
 _ReadMACAddress(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8*		PROMContent,
 	bool		AutoloadFail
 	)
@@ -3197,7 +3197,7 @@ _ReadMACAddress(
 
 static void
 hal_ReadMacPhyModeFromPROM92DU(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8*		PROMContent
 )
 {
@@ -3240,7 +3240,7 @@ hal_ReadMacPhyModeFromPROM92DU(
 
 static void
 hal_ReadMacPhyMode_92D(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8			*PROMContent,
 	bool		AutoloadFail
 )
@@ -3292,7 +3292,7 @@ hal_ReadMacPhyMode_92D(
 
 static void
 _ReadBoardType(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8*		PROMContent,
 	bool		AutoloadFail
 	)
@@ -3315,7 +3315,7 @@ _ReadBoardType(
 
 static void
 _ReadLEDSetting(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8*		PROMContent,
 	bool		AutoloadFail
 	)
@@ -3343,7 +3343,7 @@ _ReadLEDSetting(
 #ifdef CONFIG_WOWLAN
 static void
 _ReadWOWLAN(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8*		PROMContent,
 	bool		AutoloadFail
 	)
@@ -3361,7 +3361,7 @@ _ReadWOWLAN(
 #endif //CONFIG_WOWLAN
 
 static void _InitAdapterVariablesByPROM(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8*		PROMContent,
 	unsigned char AutoloadFail
 	)
@@ -3380,7 +3380,7 @@ static void _InitAdapterVariablesByPROM(
 }
 
 static void _ReadPROMContent(
-	PADAPTER		Adapter
+	struct rtw_adapter *		Adapter
 	)
 {
 	struct eeprom_priv *pEEPROM = GET_EEPROM_EFUSE_PRIV(Adapter);
@@ -3442,7 +3442,7 @@ static void _ReadPROMContent(
 
 static void
 _InitOtherVariable(
-	PADAPTER		Adapter
+	struct rtw_adapter *		Adapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -3468,7 +3468,7 @@ _InitOtherVariable(
 
 static void
 _ReadRFType(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 	)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
@@ -3480,7 +3480,7 @@ _ReadRFType(
 #endif
 }
 
-static int _ReadAdapterInfo8192DU(PADAPTER	Adapter)
+static int _ReadAdapterInfo8192DU(struct rtw_adapter *	Adapter)
 {
 	u32 start=rtw_get_current_time();
 
@@ -3498,7 +3498,7 @@ static int _ReadAdapterInfo8192DU(PADAPT
 	return _SUCCESS;
 }
 
-static void ReadAdapterInfo8192DU(PADAPTER Adapter)
+static void ReadAdapterInfo8192DU(struct rtw_adapter * Adapter)
 {
 	// Read EEPROM size before call any EEPROM function
 	//Adapter->EepromAddressSize=Adapter->HalFunc.GetEEPROMSizeHandler(Adapter);
@@ -3508,7 +3508,7 @@ static void ReadAdapterInfo8192DU(PADAPT
 }
 
 #define GPIO_DEBUG_PORT_NUM 0
-static void rtl8192du_trigger_gpio_0(_adapter *padapter)
+static void rtl8192du_trigger_gpio_0(struct rtw_adapter *padapter)
 {
 
 	u32 gpioctrl;
@@ -3525,7 +3525,7 @@ static void rtl8192du_trigger_gpio_0(_ad
 
 static void
 StopTxBeacon(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 	)
 {
 	HAL_DATA_TYPE*	pHalData = GET_HAL_DATA(Adapter);
@@ -3544,7 +3544,7 @@ StopTxBeacon(
 
 static void
 ResumeTxBeacon(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 	)
 {
 	HAL_DATA_TYPE*	pHalData = GET_HAL_DATA(Adapter);
@@ -3564,11 +3564,11 @@ ResumeTxBeacon(
 //
 u8
 SelectRTSInitialRate(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 );
 u8
 SelectRTSInitialRate(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 )
 {
 	struct sta_info		*psta;
@@ -3688,7 +3688,7 @@ SetRTSRateWorkItemCallback(
 	void *			pContext
 )
 {
-	PADAPTER		Adapter =  (PADAPTER)pContext;
+	struct rtw_adapter *		Adapter =  (struct rtw_adapter *)pContext;
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 	u8	NewRTSInitRate = 0;
 
@@ -3702,7 +3702,7 @@ SetRTSRateWorkItemCallback(
 	DBG_8192D("HW_VAR_INIT_RTS_RATE: RateIndex(%d)\n", NewRTSInitRate);
 }
 
-static void hw_var_set_opmode(PADAPTER Adapter, u8 variable, u8* val)
+static void hw_var_set_opmode(struct rtw_adapter * Adapter, u8 variable, u8* val)
 {
 	u8	val8;
 	u8	mode = *((u8 *)val);
@@ -3869,7 +3869,7 @@ static void hw_var_set_opmode(PADAPTER A
 	}
 }
 
-static void hw_var_set_macaddr(PADAPTER Adapter, u8 variable, u8* val)
+static void hw_var_set_macaddr(struct rtw_adapter * Adapter, u8 variable, u8* val)
 {
 	u8 idx = 0;
 	u32 reg_macid;
@@ -3892,7 +3892,7 @@ static void hw_var_set_macaddr(PADAPTER
 
 }
 
-static void hw_var_set_bssid(PADAPTER Adapter, u8 variable, u8* val)
+static void hw_var_set_bssid(struct rtw_adapter * Adapter, u8 variable, u8* val)
 {
 	u8	idx = 0;
 	u32 reg_bssid;
@@ -3915,7 +3915,7 @@ static void hw_var_set_bssid(PADAPTER Ad
 
 }
 
-static void hw_var_set_bcn_func(PADAPTER Adapter, u8 variable, u8* val)
+static void hw_var_set_bcn_func(struct rtw_adapter * Adapter, u8 variable, u8* val)
 {
 	u32 bcn_ctrl_reg;
 
@@ -3949,7 +3949,7 @@ static void hw_var_set_bcn_func(PADAPTER
 	}
 }
 
-static void hw_var_set_correct_tsf(PADAPTER Adapter, u8 variable, u8* val)
+static void hw_var_set_correct_tsf(struct rtw_adapter * Adapter, u8 variable, u8* val)
 {
 #ifdef CONFIG_CONCURRENT_MODE
 	u64	tsf;
@@ -4042,11 +4042,11 @@ static void hw_var_set_correct_tsf(PADAP
 }
 
 
-static void hw_var_set_mlme_disconnect(PADAPTER Adapter, u8 variable, u8* val)
+static void hw_var_set_mlme_disconnect(struct rtw_adapter * Adapter, u8 variable, u8* val)
 {
 #ifdef CONFIG_CONCURRENT_MODE
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
-	PADAPTER pbuddy_adapter = Adapter->pbuddy_adapter;
+	struct rtw_adapter * pbuddy_adapter = Adapter->pbuddy_adapter;
 
 
 	if(check_buddy_mlmeinfo_state(Adapter, _HW_STATE_NOLINK_))
@@ -4140,7 +4140,7 @@ static void hw_var_set_mlme_disconnect(P
 #endif
 }
 
-static void hw_var_set_mlme_sitesurvey(PADAPTER Adapter, u8 variable, u8* val)
+static void hw_var_set_mlme_sitesurvey(struct rtw_adapter * Adapter, u8 variable, u8* val)
 {
 	u32	value_rcr, rcr_clear_bit, reg_bcn_ctl;
 	u16	value_rxfltmap2;
@@ -4246,7 +4246,7 @@ static void hw_var_set_mlme_sitesurvey(P
 	}
 }
 
-static void hw_var_set_mlme_join(PADAPTER Adapter, u8 variable, u8* val)
+static void hw_var_set_mlme_join(struct rtw_adapter * Adapter, u8 variable, u8* val)
 {
 #ifdef CONFIG_CONCURRENT_MODE
 	u8	RetryLimit = 0x30;
@@ -4326,10 +4326,10 @@ static void hw_var_set_mlme_join(PADAPTE
 }
 
 #ifdef CONFIG_DUALMAC_CONCURRENT
-static void dc_hw_var_mlme_sitesurvey(PADAPTER Adapter, u8 sitesurvey_state)
+static void dc_hw_var_mlme_sitesurvey(struct rtw_adapter * Adapter, u8 sitesurvey_state)
 {
 	HAL_DATA_TYPE *pHalData = GET_HAL_DATA(Adapter);
-	PADAPTER BuddyAdapter = Adapter->pbuddy_adapter;
+	struct rtw_adapter * BuddyAdapter = Adapter->pbuddy_adapter;
 	struct mlme_priv *pbuddy_mlmepriv;
 	struct mlme_ext_priv *pbuddy_mlmeext;
 
@@ -4360,12 +4360,12 @@ static void dc_hw_var_mlme_sitesurvey(PA
 	}
 }
 
-static void dc_hw_var_mlme_join(PADAPTER Adapter, u8 join_state)
+static void dc_hw_var_mlme_join(struct rtw_adapter * Adapter, u8 join_state)
 {
 	HAL_DATA_TYPE *pHalData = GET_HAL_DATA(Adapter);
 	struct mlme_ext_priv	*pmlmeext = &Adapter->mlmeextpriv;
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
-	PADAPTER BuddyAdapter = Adapter->pbuddy_adapter;
+	struct rtw_adapter * BuddyAdapter = Adapter->pbuddy_adapter;
 	struct mlme_priv *pbuddy_mlmepriv;
 	struct mlme_ext_priv *pbuddy_mlmeext;
 
@@ -4401,8 +4401,8 @@ static void dc_hw_var_mlme_join(PADAPTER
 }
 #endif
 
-void SetHwReg8192DU(PADAPTER Adapter, u8 variable, u8* val);
-void SetHwReg8192DU(PADAPTER Adapter, u8 variable, u8* val)
+void SetHwReg8192DU(struct rtw_adapter * Adapter, u8 variable, u8* val);
+void SetHwReg8192DU(struct rtw_adapter * Adapter, u8 variable, u8* val)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 	struct dm_priv	*pdmpriv = &pHalData->dmpriv;
@@ -4503,7 +4503,7 @@ _func_enter_;
 #endif //CONFIG_CONCURRENT_MODE
 			{
 #ifdef CONFIG_DUALMAC_CONCURRENT
-				PADAPTER	BuddyAdapter = Adapter->pbuddy_adapter;
+				struct rtw_adapter *	BuddyAdapter = Adapter->pbuddy_adapter;
 #endif
 				if(check_fwstate(&Adapter->mlmepriv, WIFI_AP_STATE) == true)
 				{
@@ -4694,7 +4694,7 @@ _func_enter_;
 				u8	type = *((u8 *)val);
 				struct mlme_priv	*pmlmepriv = &Adapter->mlmepriv;
 #ifdef CONFIG_DUALMAC_CONCURRENT
-				PADAPTER	BuddyAdapter = Adapter->pbuddy_adapter;
+				struct rtw_adapter *	BuddyAdapter = Adapter->pbuddy_adapter;
 #endif
 
 				if(type == 0) // prepare to join
@@ -5325,8 +5325,8 @@ _func_enter_;
 _func_exit_;
 }
 
-void GetHwReg8192DU(PADAPTER Adapter, u8 variable, u8* val);
-void GetHwReg8192DU(PADAPTER Adapter, u8 variable, u8* val)
+void GetHwReg8192DU(struct rtw_adapter * Adapter, u8 variable, u8* val);
+void GetHwReg8192DU(struct rtw_adapter * Adapter, u8 variable, u8* val)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 
@@ -5392,7 +5392,7 @@ _func_exit_;
 //	Description:
 //		Query setting of specified variable.
 //
-u8 GetHalDefVar8192DUsb(PADAPTER Adapter, enum HAL_DEF_VARIABLE eVariable, void  *pValue)
+u8 GetHalDefVar8192DUsb(struct rtw_adapter * Adapter, enum HAL_DEF_VARIABLE eVariable, void  *pValue)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 	u8			bResult = true;
@@ -5426,13 +5426,13 @@ u8 GetHalDefVar8192DUsb(PADAPTER Adapter
 //
 u8
 SetHalDefVar8192DUsb(
-	PADAPTER				Adapter,
+	struct rtw_adapter *				Adapter,
 	enum HAL_DEF_VARIABLE		eVariable,
 	void *pValue
 	);
 u8
 SetHalDefVar8192DUsb(
-	PADAPTER				Adapter,
+	struct rtw_adapter *				Adapter,
 	enum HAL_DEF_VARIABLE		eVariable,
 	void *pValue
 	)
@@ -5491,7 +5491,7 @@ SetHalDefVar8192DUsb(
 	return bResult;
 }
 
-u32  _update_92cu_basic_rate(_adapter *padapter, unsigned int mask)
+u32  _update_92cu_basic_rate(struct rtw_adapter *padapter, unsigned int mask)
 {
 	HAL_DATA_TYPE		*pHalData = GET_HAL_DATA(padapter);
 #ifdef CONFIG_BT_COEXIST
@@ -5519,8 +5519,8 @@ u32  _update_92cu_basic_rate(_adapter *p
 	return BrateCfg;
 }
 
-void _update_response_rate(_adapter *padapter,unsigned int mask);
-void _update_response_rate(_adapter *padapter,unsigned int mask)
+void _update_response_rate(struct rtw_adapter *padapter,unsigned int mask);
+void _update_response_rate(struct rtw_adapter *padapter,unsigned int mask)
 {
 	u8	RateIndex = 0;
 	// Set RRSR rate table.
@@ -5537,8 +5537,8 @@ void _update_response_rate(_adapter *pad
 	rtw_write8(padapter, REG_INIRTS_RATE_SEL, RateIndex);
 }
 
-void UpdateHalRAMask8192DUsb(PADAPTER padapter, u32 mac_id);
-void UpdateHalRAMask8192DUsb(PADAPTER padapter, u32 mac_id)
+void UpdateHalRAMask8192DUsb(struct rtw_adapter * padapter, u32 mac_id);
+void UpdateHalRAMask8192DUsb(struct rtw_adapter * padapter, u32 mac_id)
 {
 	u32	value[2];
 	u8	init_rate=0;
@@ -5670,8 +5670,7 @@ void UpdateHalRAMask8192DUsb(PADAPTER pa
 	pdmpriv->INIDATA_RATE[mac_id] = init_rate;
 }
 
-void SetBeaconRelatedRegisters8192DUsb(PADAPTER padapter);
-void SetBeaconRelatedRegisters8192DUsb(PADAPTER padapter)
+void SetBeaconRelatedRegisters8192DUsb(struct rtw_adapter * padapter)
 {
 	u32	value32;
 //	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(padapter);
@@ -5716,7 +5715,7 @@ void SetBeaconRelatedRegisters8192DUsb(P
 
 }
 
-static void rtl8192du_init_default_value(_adapter * padapter)
+static void rtl8192du_init_default_value(struct rtw_adapter * padapter)
 {
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(padapter);
 	struct pwrctrl_priv *pwrctrlpriv = &padapter->pwrctrlpriv;
@@ -5742,7 +5741,7 @@ static void rtl8192du_init_default_value
 }
 
 
-void rtl8192du_set_hal_ops(_adapter * padapter)
+void rtl8192du_set_hal_ops(struct rtw_adapter * padapter)
 {
 	struct hal_ops	*pHalFunc = &padapter->HalFunc;
 
--- a/drivers/staging/rtl8192du/hal/usb_ops_linux.c
+++ b/drivers/staging/rtl8192du/hal/usb_ops_linux.c
@@ -30,7 +30,7 @@
 
 static int usbctrl_vendorreq(struct intf_hdl *pintfhdl, u8 request, u16 value, u16 index, void *pdata, u16 len, u8 requesttype)
 {
-	_adapter *padapter = pintfhdl->padapter ;
+	struct rtw_adapter *padapter = pintfhdl->padapter ;
 	struct dvobj_priv  *pdvobjpriv = adapter_to_dvobj(padapter);
 	struct usb_device *udev = pdvobjpriv->pusbdev;
 
@@ -183,7 +183,7 @@ static void usb_read_reg_rf_byfw(struct
 {
 	u16	wPage = 0x0000, offset;
 	u32	BufferLengthRead;
-	PADAPTER	Adapter = pintfhdl->padapter;
+	struct rtw_adapter *	Adapter = pintfhdl->padapter;
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(Adapter);
 	u8	RFPath=0,nPHY=0;
 
@@ -213,7 +213,7 @@ static void usb_read_reg_rf_byfw(struct
 
 static void usb_read_reg(struct intf_hdl *pintfhdl, u16 value, void *pdata, u16 len)
 {
-	_adapter		*padapter = pintfhdl->padapter;
+	struct rtw_adapter		*padapter = pintfhdl->padapter;
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(padapter);
 	u8	request;
 	u8	requesttype;
@@ -236,7 +236,7 @@ static void usb_read_reg(struct intf_hdl
 
 static int usb_write_reg(struct intf_hdl *pintfhdl, u16 value, void *pdata, u16 len)
 {
-	_adapter		*padapter = pintfhdl->padapter;
+	struct rtw_adapter		*padapter = pintfhdl->padapter;
 	HAL_DATA_TYPE	*pHalData = GET_HAL_DATA(padapter);
 	u8	request;
 	u8	requesttype;
@@ -410,7 +410,7 @@ static int usb_writeN(struct intf_hdl *p
 static void usb_read_interrupt_complete(struct urb *purb, struct pt_regs *regs)
 {
 	int	err;
-	_adapter		*padapter = (_adapter	 *)purb->context;
+	struct rtw_adapter		*padapter = (struct rtw_adapter	 *)purb->context;
 
 	padapter->recvpriv.int_cnt ++;
 	if(purb->status==0)//SUCCESS
@@ -457,7 +457,7 @@ static u32 usb_read_interrupt(struct int
 {
 	int	err, pipe;
 	u32	ret = _SUCCESS;
-	_adapter			*adapter = pintfhdl->padapter;
+	struct rtw_adapter			*adapter = pintfhdl->padapter;
 	struct dvobj_priv	*pdvobj = adapter_to_dvobj(adapter);
 	struct recv_priv	*precvpriv = &adapter->recvpriv;
 	struct usb_device	*pusbd = pdvobj->pusbdev;
@@ -493,8 +493,8 @@ static s32 pre_recv_entry(union recv_fra
 #ifdef CONFIG_CONCURRENT_MODE
 	u8 *primary_myid, *secondary_myid, *paddr1;
 	union recv_frame	*precvframe_if2 = NULL;
-	_adapter *primary_padapter = precvframe->u.hdr.adapter;
-	_adapter *secondary_padapter = primary_padapter->pbuddy_adapter;
+	struct rtw_adapter *primary_padapter = precvframe->u.hdr.adapter;
+	struct rtw_adapter *secondary_padapter = primary_padapter->pbuddy_adapter;
 	struct recv_priv *precvpriv = &primary_padapter->recvpriv;
 	struct __queue *pfree_recv_queue = &precvpriv->free_recv_queue;
 	u8	*pbuf = precvframe->u.hdr.rx_data;
@@ -613,7 +613,7 @@ static s32 pre_recv_entry(union recv_fra
 }
 
 #ifdef CONFIG_USE_USB_BUFFER_ALLOC_RX
-static int recvbuf2recvframe(_adapter *padapter, struct recv_buf *precvbuf)
+static int recvbuf2recvframe(struct rtw_adapter *padapter, struct recv_buf *precvbuf)
 {
 	u8	*pbuf;
 	u8	shift_sz = 0;
@@ -794,7 +794,7 @@ _exit_recvbuf2recvframe:
 void rtl8192du_recv_tasklet(void *priv)
 {
 	struct recv_buf *precvbuf = NULL;
-	_adapter	*padapter = (_adapter*)priv;
+	struct rtw_adapter	*padapter = (struct rtw_adapter*)priv;
 	struct recv_priv	*precvpriv = &padapter->recvpriv;
 
 	while (NULL != (precvbuf = rtw_dequeue_recvbuf(&precvpriv->recv_buf_pending_queue)))
@@ -817,7 +817,7 @@ void rtl8192du_recv_tasklet(void *priv)
 static void usb_read_port_complete(struct urb *purb, struct pt_regs *regs)
 {
 	struct recv_buf	*precvbuf = (struct recv_buf *)purb->context;
-	_adapter			*padapter =(_adapter *)precvbuf->adapter;
+	struct rtw_adapter			*padapter =(struct rtw_adapter *)precvbuf->adapter;
 	struct recv_priv	*precvpriv = &padapter->recvpriv;
 
 	RT_TRACE(_module_hci_ops_os_c_,_drv_err_,("usb_read_port_complete!!!\n"));
@@ -891,7 +891,7 @@ static u32 usb_read_port(struct intf_hdl
 	u32 ret = _SUCCESS;
 	struct urb * purb = NULL;
 	struct recv_buf	*precvbuf = (struct recv_buf *)rmem;
-	_adapter *adapter = pintfhdl->padapter;
+	struct rtw_adapter *adapter = pintfhdl->padapter;
 	struct dvobj_priv	*pdvobj = adapter_to_dvobj(adapter);
 	struct recv_priv	*precvpriv = &adapter->recvpriv;
 	struct usb_device	*pusbd = pdvobj->pusbdev;
@@ -948,7 +948,7 @@ _func_exit_;
 	return ret;
 }
 #else	// CONFIG_USE_USB_BUFFER_ALLOC_RX
-static int recvbuf2recvframe(_adapter *padapter, struct sk_buff *pskb)
+static int recvbuf2recvframe(struct rtw_adapter *padapter, struct sk_buff *pskb)
 {
 	u8	*pbuf;
 	u8	shift_sz = 0;
@@ -1129,7 +1129,7 @@ _exit_recvbuf2recvframe:
 void rtl8192du_recv_tasklet(void *priv)
 {
 	struct sk_buff *pskb;
-	_adapter		*padapter = (_adapter*)priv;
+	struct rtw_adapter		*padapter = (struct rtw_adapter*)priv;
 	struct recv_priv	*precvpriv = &padapter->recvpriv;
 
 	while (NULL != (pskb = skb_dequeue(&precvpriv->rx_skb_queue)))
@@ -1163,7 +1163,7 @@ static void usb_read_port_complete(struc
 {
 	uint isevt, *pbuf;
 	struct recv_buf	*precvbuf = (struct recv_buf *)purb->context;
-	_adapter			*padapter =(_adapter *)precvbuf->adapter;
+	struct rtw_adapter			*padapter =(struct rtw_adapter *)precvbuf->adapter;
 	struct recv_priv	*precvpriv = &padapter->recvpriv;
 
 	RT_TRACE(_module_hci_ops_os_c_,_drv_err_,("usb_read_port_complete!!!\n"));
@@ -1254,7 +1254,7 @@ static u32 usb_read_port(struct intf_hdl
 	u32 ret = _SUCCESS;
 	struct urb *purb = NULL;
 	struct recv_buf	*precvbuf = (struct recv_buf *)rmem;
-	_adapter *adapter = pintfhdl->padapter;
+	struct rtw_adapter *adapter = pintfhdl->padapter;
 	struct dvobj_priv	*pdvobj = adapter_to_dvobj(adapter);
 	struct recv_priv	*precvpriv = &adapter->recvpriv;
 	struct usb_device	*pusbd = pdvobj->pusbdev;
@@ -1354,7 +1354,7 @@ _func_exit_;
 void rtl8192du_xmit_tasklet(void *priv)
 {
 	int ret = false;
-	_adapter *padapter = (_adapter*)priv;
+	struct rtw_adapter *padapter = (struct rtw_adapter*)priv;
 	struct xmit_priv *pxmitpriv = &padapter->xmitpriv;
 
 	if(check_fwstate(&padapter->mlmepriv, _FW_UNDER_SURVEY) == true
--- a/drivers/staging/rtl8192du/include/Hal8192DPhyCfg.h
+++ b/drivers/staging/rtl8192du/include/Hal8192DPhyCfg.h
@@ -268,22 +268,22 @@ u8 rtl8192d_getChnlGroupfromArray(u8 chn
 //
 // BB and RF register read/write
 //
-void	rtl8192d_PHY_SetBBReg1Byte(	PADAPTER	Adapter,
+void	rtl8192d_PHY_SetBBReg1Byte(	struct rtw_adapter *	Adapter,
 								u32		RegAddr,
 								u32		BitMask,
 								u32		Data	);
-u32	rtl8192d_PHY_QueryBBReg(	PADAPTER	Adapter,
+u32	rtl8192d_PHY_QueryBBReg(	struct rtw_adapter *	Adapter,
 								u32		RegAddr,
 								u32		BitMask	);
-void	rtl8192d_PHY_SetBBReg(	PADAPTER	Adapter,
+void	rtl8192d_PHY_SetBBReg(	struct rtw_adapter *	Adapter,
 								u32		RegAddr,
 								u32		BitMask,
 								u32		Data	);
-u32	rtl8192d_PHY_QueryRFReg(	PADAPTER			Adapter,
+u32	rtl8192d_PHY_QueryRFReg(	struct rtw_adapter *			Adapter,
 								enum RF_RADIO_PATH_E	eRFPath,
 								u32				RegAddr,
 								u32				BitMask	);
-void	rtl8192d_PHY_SetRFReg(	PADAPTER			Adapter,
+void	rtl8192d_PHY_SetRFReg(	struct rtw_adapter *			Adapter,
 								enum RF_RADIO_PATH_E	eRFPath,
 								u32				RegAddr,
 								u32				BitMask,
@@ -293,62 +293,62 @@ void	rtl8192d_PHY_SetRFReg(	PADAPTER			A
 // Initialization related function
 //
 /* MAC/BB/RF HAL config */
-extern	int	PHY_MACConfig8192D(	PADAPTER	Adapter	);
-extern	int	PHY_BBConfig8192D(	PADAPTER	Adapter	);
-extern	int	PHY_RFConfig8192D(	PADAPTER	Adapter	);
+extern	int	PHY_MACConfig8192D(	struct rtw_adapter *	Adapter	);
+extern	int	PHY_BBConfig8192D(	struct rtw_adapter *	Adapter	);
+extern	int	PHY_RFConfig8192D(	struct rtw_adapter *	Adapter	);
 /* RF config */
-int	rtl8192d_PHY_ConfigRFWithParaFile(	PADAPTER	Adapter,
+int	rtl8192d_PHY_ConfigRFWithParaFile(	struct rtw_adapter *	Adapter,
 						u8 *pFileName,
 						enum RF_RADIO_PATH_E	eRFPath);
-int	rtl8192d_PHY_ConfigRFWithHeaderFile(	PADAPTER			Adapter,
+int	rtl8192d_PHY_ConfigRFWithHeaderFile(	struct rtw_adapter *			Adapter,
 						enum RF_CONTENT			Content,
 						enum RF_RADIO_PATH_E	eRFPath);
 /* BB/RF readback check for making sure init OK */
-int	rtl8192d_PHY_CheckBBAndRFOK(	PADAPTER			Adapter,
+int	rtl8192d_PHY_CheckBBAndRFOK(	struct rtw_adapter *			Adapter,
 				enum HW90_BLOCK		CheckBlock,
 				enum RF_RADIO_PATH_E	eRFPath	  );
 /* Read initi reg value for tx power setting. */
-void	rtl8192d_PHY_GetHWRegOriginalValue(	PADAPTER		Adapter	);
+void	rtl8192d_PHY_GetHWRegOriginalValue(	struct rtw_adapter *		Adapter	);
 
 //
 // RF Power setting
 //
-//extern	bool	PHY_SetRFPowerState(PADAPTER			Adapter,
+//extern	bool	PHY_SetRFPowerState(struct rtw_adapter *			Adapter,
 //									RT_RF_POWER_STATE	eRFPowerState);
 
 //
 // BB TX Power R/W
 //
-void	PHY_GetTxPowerLevel8192D(	PADAPTER		Adapter,
+void	PHY_GetTxPowerLevel8192D(	struct rtw_adapter *		Adapter,
 											u32*		powerlevel	);
-void	PHY_SetTxPowerLevel8192D(	PADAPTER		Adapter,
+void	PHY_SetTxPowerLevel8192D(	struct rtw_adapter *		Adapter,
 											u8			channel	);
-bool	PHY_UpdateTxPowerDbm8192D(	PADAPTER	Adapter,
+bool	PHY_UpdateTxPowerDbm8192D(	struct rtw_adapter *	Adapter,
 											int		powerInDbm	);
 
 //
 void
-PHY_ScanOperationBackup8192D(PADAPTER	Adapter,
+PHY_ScanOperationBackup8192D(struct rtw_adapter *	Adapter,
 										u8		Operation	);
 
 //
 // Switch bandwidth for 8192S
 //
 //void	PHY_SetBWModeCallback8192C(	PRT_TIMER		pTimer	);
-void	PHY_SetBWMode8192D(	PADAPTER			pAdapter,
+void	PHY_SetBWMode8192D(	struct rtw_adapter *			pAdapter,
 			enum HT_CHANNEL_WIDTH	ChnlWidth,
 									unsigned char	Offset	);
 
 //
 // Set FW CMD IO for 8192S.
 //
-//extern	bool HalSetIO8192C(	PADAPTER			Adapter,
+//extern	bool HalSetIO8192C(	struct rtw_adapter *			Adapter,
 //									IO_TYPE				IOType);
 
 //
 // Set A2 entry to fw for 8192S
 //
-extern	void FillA2Entry8192C(		PADAPTER			Adapter,
+extern	void FillA2Entry8192C(		struct rtw_adapter *			Adapter,
 										u8				index,
 										u8*				val);
 
@@ -356,113 +356,113 @@ extern	void FillA2Entry8192C(		PADAPTER
 //
 // channel switch related funciton
 //
-void	PHY_SwChnl8192D(	PADAPTER		pAdapter,
+void	PHY_SwChnl8192D(	struct rtw_adapter *		pAdapter,
 									u8			channel	);
 				// Call after initialization
-void	PHY_SwChnlPhy8192D(	PADAPTER		pAdapter,
+void	PHY_SwChnlPhy8192D(	struct rtw_adapter *		pAdapter,
 									u8			channel	);
 
-extern void ChkFwCmdIoDone(	PADAPTER	Adapter);
+extern void ChkFwCmdIoDone(	struct rtw_adapter *	Adapter);
 
 //
 // BB/MAC/RF other monitor API
 //
-void	PHY_SetMonitorMode8192D(PADAPTER	pAdapter,
+void	PHY_SetMonitorMode8192D(struct rtw_adapter *	pAdapter,
 										bool		bEnableMonitorMode	);
 
-bool	PHY_CheckIsLegalRfPath8192D(PADAPTER	pAdapter,
+bool	PHY_CheckIsLegalRfPath8192D(struct rtw_adapter *	pAdapter,
 											u32		eRFPath	);
 
 //
 // IQ calibrate
 //
-void	rtl8192d_PHY_IQCalibrate(	PADAPTER	pAdapter);
+void	rtl8192d_PHY_IQCalibrate(	struct rtw_adapter *	pAdapter);
 
 
 //
 // LC calibrate
 //
-void	rtl8192d_PHY_LCCalibrate(PADAPTER	pAdapter);
+void	rtl8192d_PHY_LCCalibrate(struct rtw_adapter *	pAdapter);
 
 //
 // AP calibrate
 //
-void	rtl8192d_PHY_APCalibrate(PADAPTER	pAdapter, char		delta);
+void	rtl8192d_PHY_APCalibrate(struct rtw_adapter *	pAdapter, char		delta);
 
 
 //
 // Modify the value of the hw register when beacon interval be changed.
 //
 void
-rtl8192d_PHY_SetBeaconHwReg(	PADAPTER		Adapter,
+rtl8192d_PHY_SetBeaconHwReg(	struct rtw_adapter *		Adapter,
 					u16			BeaconInterval	);
 
 
 extern	void
 PHY_SwitchEphyParameter(
-	PADAPTER			Adapter
+	struct rtw_adapter *			Adapter
 	);
 
 extern	void
 PHY_EnableHostClkReq(
-	PADAPTER			Adapter
+	struct rtw_adapter *			Adapter
 	);
 
 bool
 SetAntennaConfig92C(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	u8		DefaultAnt
 	);
 
 void
 PHY_StopTRXBeforeChangeBand8192D(
-	  PADAPTER		Adapter
+	  struct rtw_adapter *		Adapter
 );
 
 void
 PHY_UpdateBBRFConfiguration8192D(
-	PADAPTER Adapter,
+	struct rtw_adapter * Adapter,
 	bool bisBandSwitch
 );
 
 void PHY_ReadMacPhyMode92D(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	bool	AutoloadFail
 );
 
 void PHY_ConfigMacPhyMode92D(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 );
 
 void PHY_ConfigMacPhyModeInfo92D(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 );
 
 void PHY_ConfigMacCoexist_RFPage92D(
-	PADAPTER	Adapter
+	struct rtw_adapter *	Adapter
 );
 
 void
 rtl8192d_PHY_InitRxSetting(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 );
 
 void
 rtl8192d_PHY_ResetIQKResult(
-	PADAPTER Adapter
+	struct rtw_adapter * Adapter
 );
 
 
 void
-rtl8192d_PHY_SetRFPathSwitch(PADAPTER	pAdapter, bool		bMain);
+rtl8192d_PHY_SetRFPathSwitch(struct rtw_adapter *	pAdapter, bool		bMain);
 
 void
 HalChangeCCKStatus8192D(
-	PADAPTER	Adapter,
+	struct rtw_adapter *	Adapter,
 	bool		bCCKDisable
 );
 
-void PHY_InitPABias92D(PADAPTER Adapter);
+void PHY_InitPABias92D(struct rtw_adapter * Adapter);
 
 /*--------------------------Exported Function prototype---------------------*/
 
--- a/drivers/staging/rtl8192du/include/drv_types.h
+++ b/drivers/staging/rtl8192du/include/drv_types.h
@@ -36,7 +36,7 @@ enum {
 	DOWN_LINK,
 };
 
-typedef struct _ADAPTER _adapter, ADAPTER,*PADAPTER;
+// typedef struct _ADAPTER _adapter, ADAPTER,*PADAPTER;
 
 #ifdef CONFIG_80211N_HT
 #include <rtw_ht.h>
@@ -202,11 +202,11 @@ struct registry_priv {
 
 #define MAX_CONTINUAL_URB_ERR 4
 
-#define GET_PRIMARY_ADAPTER(padapter) (((_adapter *)padapter)->dvobj->if1)
+#define GET_PRIMARY_ADAPTER(padapter) (((struct rtw_adapter *)padapter)->dvobj->if1)
 
 #ifdef CONFIG_CONCURRENT_MODE
-#define GET_IFACE_NUMS(padapter) (((_adapter *)padapter)->dvobj->iface_nums)
-#define GET_ADAPTER(padapter, iface_id) (((_adapter *)padapter)->dvobj->padapters[iface_id])
+#define GET_IFACE_NUMS(padapter) (((struct rtw_adapter *)padapter)->dvobj->iface_nums)
+#define GET_ADAPTER(padapter, iface_id) (((struct rtw_adapter *)padapter)->dvobj->padapters[iface_id])
 #endif //CONFIG_CONCURRENT_MODE
 
 enum _IFACE_ID {
@@ -218,8 +218,8 @@ enum _IFACE_ID {
 };
 
 struct dvobj_priv {
-	_adapter *if1; //PRIMARY_ADAPTER
-	_adapter *if2; //SECONDARY_ADAPTER
+	struct rtw_adapter *if1; //PRIMARY_ADAPTER
+	struct rtw_adapter *if2; //SECONDARY_ADAPTER
 
 	//for local/global synchronization
 	_mutex hw_init_mutex;
@@ -233,7 +233,7 @@ struct dvobj_priv {
 
 #ifdef CONFIG_CONCURRENT_MODE
 	//extend to support mulitu interface
-	_adapter *padapters[IFACE_ID_MAX];
+	struct rtw_adapter *padapters[IFACE_ID_MAX];
 	u8 iface_nums; // total number of ifaces used runtime
 #endif //CONFIG_CONCURRENT_MODE
 
@@ -300,7 +300,7 @@ enum DRIVER_STATE {
 	DRIVER_REPLACE_DONGLE = 2,
 };
 
-struct _ADAPTER {
+struct rtw_adapter {
 	int	DriverState;// for disable driver using module, use dongle to replace module.
 	int	pid[3];//process id from UI, 0:wps, 1:hostapd, 2:dhcpcd
 	int	bDongle;//build-in module or external dongle
@@ -375,8 +375,8 @@ struct _ADAPTER {
 	void *xmitThread;
 	void *recvThread;
 
-	void (*intf_start)(_adapter * adapter);
-	void (*intf_stop)(_adapter * adapter);
+	void (*intf_start)(struct rtw_adapter *adapter);
+	void (*intf_stop)(struct rtw_adapter *adapter);
 
 	struct net_device *pnetdev;
 
@@ -424,7 +424,7 @@ struct _ADAPTER {
 	//for iface_id > SECONDARY_ADAPTER(IFACE_ID1), refer to padapters[iface_id]  in struct dvobj_priv
 	//and their pbuddy_adapter is PRIMARY_ADAPTER.
 	//for PRIMARY_ADAPTER(IFACE_ID0) can directly refer to if1 in struct dvobj_priv
-	_adapter *pbuddy_adapter;
+	struct rtw_adapter *pbuddy_adapter;
 
 #if defined(CONFIG_CONCURRENT_MODE) || defined(CONFIG_DUALMAC_CONCURRENT)
 	u8 isprimary; //is primary adapter or not
@@ -462,7 +462,7 @@ struct _ADAPTER {
 
 #define adapter_to_dvobj(adapter) (adapter->dvobj)
 
-int rtw_handle_dualmac(_adapter *adapter, bool init);
+int rtw_handle_dualmac(struct rtw_adapter *adapter, bool init);
 
 __inline static u8 *myid(struct eeprom_priv *peepriv)
 {
--- a/drivers/staging/rtl8192du/include/hal_com.h
+++ b/drivers/staging/rtl8192du/include/hal_com.h
@@ -123,20 +123,20 @@ void dump_chip_info(HAL_VERSION	ChipVers
 
 u8	/* return the final channel plan decision */
 hal_com_get_channel_plan(
-	PADAPTER padapter,
+	struct rtw_adapter * padapter,
 	u8 hw_channel_plan,	/* channel plan from HW (efuse/eeprom) */
 	u8 sw_channel_plan,	/* channel plan from SW (registry/module param) */
 	u8 def_channel_plan,	/* channel plan used when the former two is invalid */
 	bool		AutoLoadFail
 	);
 
-void	halsetbratecfg( PADAPTER Adapter, u8 *mBratesOS, u16 *pBrateCfg);
+void	halsetbratecfg( struct rtw_adapter * Adapter, u8 *mBratesOS, u16 *pBrateCfg);
 
 u8	ratetohwrate(u8 rate);
 
-void hal_init_macaddr(_adapter *adapter);
+void hal_init_macaddr(struct rtw_adapter *adapter);
 
-void c2h_evt_clear(_adapter *adapter);
-s32 c2h_evt_read(_adapter *adapter, u8 *buf);
+void c2h_evt_clear(struct rtw_adapter *adapter);
+s32 c2h_evt_read(struct rtw_adapter *adapter, u8 *buf);
 
 #endif /* __HAL_COMMON_H__ */
--- a/drivers/staging/rtl8192du/include/hal_intf.h
+++ b/drivers/staging/rtl8192du/include/hal_intf.h
@@ -136,94 +136,94 @@ enum HAL_INTF_PS_FUNC {
 typedef s32 (*c2h_id_filter)(u8 id);
 
 struct hal_ops {
-	u32	(*hal_init)(PADAPTER Adapter);
-	u32	(*hal_deinit)(PADAPTER Adapter);
+	u32	(*hal_init)(struct rtw_adapter * Adapter);
+	u32	(*hal_deinit)(struct rtw_adapter * Adapter);
 
-	void	(*free_hal_data)(PADAPTER Adapter);
+	void	(*free_hal_data)(struct rtw_adapter * Adapter);
 
-	u32	(*inirp_init)(PADAPTER Adapter);
-	u32	(*inirp_deinit)(PADAPTER Adapter);
+	u32	(*inirp_init)(struct rtw_adapter * Adapter);
+	u32	(*inirp_deinit)(struct rtw_adapter * Adapter);
 
-	s32	(*init_xmit_priv)(PADAPTER Adapter);
-	void	(*free_xmit_priv)(PADAPTER Adapter);
+	s32	(*init_xmit_priv)(struct rtw_adapter * Adapter);
+	void	(*free_xmit_priv)(struct rtw_adapter * Adapter);
 
-	s32	(*init_recv_priv)(PADAPTER Adapter);
-	void	(*free_recv_priv)(PADAPTER Adapter);
+	s32	(*init_recv_priv)(struct rtw_adapter * Adapter);
+	void	(*free_recv_priv)(struct rtw_adapter * Adapter);
 
-	void	(*InitSwLeds)(PADAPTER Adapter);
-	void	(*DeInitSwLeds)(PADAPTER Adapter);
+	void	(*InitSwLeds)(struct rtw_adapter * Adapter);
+	void	(*DeInitSwLeds)(struct rtw_adapter * Adapter);
 
-	void	(*dm_init)(PADAPTER Adapter);
-	void	(*dm_deinit)(PADAPTER Adapter);
-	void	(*read_chip_version)(PADAPTER Adapter);
+	void	(*dm_init)(struct rtw_adapter * Adapter);
+	void	(*dm_deinit)(struct rtw_adapter * Adapter);
+	void	(*read_chip_version)(struct rtw_adapter * Adapter);
 
-	void	(*init_default_value)(PADAPTER Adapter);
+	void	(*init_default_value)(struct rtw_adapter * Adapter);
 
-	void	(*intf_chip_configure)(PADAPTER Adapter);
+	void	(*intf_chip_configure)(struct rtw_adapter * Adapter);
 
-	void	(*read_adapter_info)(PADAPTER Adapter);
+	void	(*read_adapter_info)(struct rtw_adapter * Adapter);
 
-	void	(*enable_interrupt)(PADAPTER Adapter);
-	void	(*disable_interrupt)(PADAPTER Adapter);
-	s32	(*interrupt_handler)(PADAPTER Adapter);
+	void	(*enable_interrupt)(struct rtw_adapter * Adapter);
+	void	(*disable_interrupt)(struct rtw_adapter * Adapter);
+	s32	(*interrupt_handler)(struct rtw_adapter * Adapter);
 
-	void	(*set_bwmode_handler)(PADAPTER Adapter, enum HT_CHANNEL_WIDTH Bandwidth, u8 Offset);
-	void	(*set_channel_handler)(PADAPTER Adapter, u8 channel);
+	void	(*set_bwmode_handler)(struct rtw_adapter * Adapter, enum HT_CHANNEL_WIDTH Bandwidth, u8 Offset);
+	void	(*set_channel_handler)(struct rtw_adapter * Adapter, u8 channel);
 
-	void	(*hal_dm_watchdog)(PADAPTER Adapter);
+	void	(*hal_dm_watchdog)(struct rtw_adapter * Adapter);
 
-	void	(*SetHwRegHandler)(PADAPTER Adapter, u8	variable,u8* val);
-	void	(*GetHwRegHandler)(PADAPTER Adapter, u8	variable,u8* val);
+	void	(*SetHwRegHandler)(struct rtw_adapter * Adapter, u8	variable,u8* val);
+	void	(*GetHwRegHandler)(struct rtw_adapter * Adapter, u8	variable,u8* val);
 
-	u8	(*GetHalDefVarHandler)(PADAPTER Adapter, enum HAL_DEF_VARIABLE eVariable, void * pValue);
-	u8	(*SetHalDefVarHandler)(PADAPTER Adapter, enum HAL_DEF_VARIABLE eVariable, void * pValue);
+	u8	(*GetHalDefVarHandler)(struct rtw_adapter * Adapter, enum HAL_DEF_VARIABLE eVariable, void * pValue);
+	u8	(*SetHalDefVarHandler)(struct rtw_adapter * Adapter, enum HAL_DEF_VARIABLE eVariable, void * pValue);
 
-	void	(*UpdateRAMaskHandler)(PADAPTER Adapter, u32 mac_id);
-	void	(*SetBeaconRelatedRegistersHandler)(PADAPTER Adapter);
+	void	(*UpdateRAMaskHandler)(struct rtw_adapter * Adapter, u32 mac_id);
+	void	(*SetBeaconRelatedRegistersHandler)(struct rtw_adapter * Adapter);
 
-	void	(*Add_RateATid)(PADAPTER Adapter, u32 bitmap, u8 arg);
+	void	(*Add_RateATid)(struct rtw_adapter * Adapter, u32 bitmap, u8 arg);
 
 #ifdef CONFIG_ANTENNA_DIVERSITY
-	u8	(*AntDivBeforeLinkHandler)(PADAPTER Adapter);
-	void	(*AntDivCompareHandler)(PADAPTER Adapter, WLAN_BSSID_EX *dst, WLAN_BSSID_EX *src);
+	u8	(*AntDivBeforeLinkHandler)(struct rtw_adapter * Adapter);
+	void	(*AntDivCompareHandler)(struct rtw_adapter * Adapter, WLAN_BSSID_EX *dst, WLAN_BSSID_EX *src);
 #endif
-	u8	(*interface_ps_func)(PADAPTER Adapter, enum HAL_INTF_PS_FUNC efunc_id, u8* val);
+	u8	(*interface_ps_func)(struct rtw_adapter * Adapter, enum HAL_INTF_PS_FUNC efunc_id, u8* val);
 
-	s32	(*hal_xmit)(PADAPTER Adapter, struct xmit_frame *pxmitframe);
-	s32	(*mgnt_xmit)(PADAPTER Adapter, struct xmit_frame *pmgntframe);
+	s32	(*hal_xmit)(struct rtw_adapter * Adapter, struct xmit_frame *pxmitframe);
+	s32	(*mgnt_xmit)(struct rtw_adapter * Adapter, struct xmit_frame *pmgntframe);
 
-	u32	(*read_bbreg)(PADAPTER Adapter, u32 RegAddr, u32 BitMask);
-	void	(*write_bbreg)(PADAPTER Adapter, u32 RegAddr, u32 BitMask, u32 Data);
-	u32	(*read_rfreg)(PADAPTER Adapter, u32 eRFPath, u32 RegAddr, u32 BitMask);
-	void	(*write_rfreg)(PADAPTER Adapter, u32 eRFPath, u32 RegAddr, u32 BitMask, u32 Data);
+	u32	(*read_bbreg)(struct rtw_adapter * Adapter, u32 RegAddr, u32 BitMask);
+	void	(*write_bbreg)(struct rtw_adapter * Adapter, u32 RegAddr, u32 BitMask, u32 Data);
+	u32	(*read_rfreg)(struct rtw_adapter * Adapter, u32 eRFPath, u32 RegAddr, u32 BitMask);
+	void	(*write_rfreg)(struct rtw_adapter * Adapter, u32 eRFPath, u32 RegAddr, u32 BitMask, u32 Data);
 
 #ifdef CONFIG_HOSTAPD_MLME
-	s32	(*hostap_mgnt_xmit_entry)(PADAPTER Adapter, struct sk_buff *pkt);
+	s32	(*hostap_mgnt_xmit_entry)(struct rtw_adapter * Adapter, struct sk_buff *pkt);
 #endif
-	void (*EfusePowerSwitch)(PADAPTER pAdapter, u8 bWrite, u8 PwrState);
-	void (*ReadEFuse)(PADAPTER Adapter, u8 efuseType, u16 _offset, u16 _size_byte, u8 *pbuf, bool bPseudoTest);
-	void (*EFUSEGetEfuseDefinition)(PADAPTER pAdapter, u8 efuseType, u8 type, void * *pOut, bool bPseudoTest);
-	u16	(*EfuseGetCurrentSize)(PADAPTER pAdapter, u8 efuseType, bool bPseudoTest);
-	int	(*Efuse_PgPacketRead)(PADAPTER pAdapter, u8 offset, u8 *data, bool bPseudoTest);
-	int	(*Efuse_PgPacketWrite)(PADAPTER pAdapter, u8 offset, u8 word_en, u8 *data, bool bPseudoTest);
-	u8	(*Efuse_WordEnableDataWrite)(PADAPTER pAdapter, u16 efuse_addr, u8 word_en, u8 *data, bool bPseudoTest);
+	void (*EfusePowerSwitch)(struct rtw_adapter * pAdapter, u8 bWrite, u8 PwrState);
+	void (*ReadEFuse)(struct rtw_adapter * Adapter, u8 efuseType, u16 _offset, u16 _size_byte, u8 *pbuf, bool bPseudoTest);
+	void (*EFUSEGetEfuseDefinition)(struct rtw_adapter * pAdapter, u8 efuseType, u8 type, void * *pOut, bool bPseudoTest);
+	u16	(*EfuseGetCurrentSize)(struct rtw_adapter * pAdapter, u8 efuseType, bool bPseudoTest);
+	int	(*Efuse_PgPacketRead)(struct rtw_adapter * pAdapter, u8 offset, u8 *data, bool bPseudoTest);
+	int	(*Efuse_PgPacketWrite)(struct rtw_adapter * pAdapter, u8 offset, u8 word_en, u8 *data, bool bPseudoTest);
+	u8	(*Efuse_WordEnableDataWrite)(struct rtw_adapter * pAdapter, u16 efuse_addr, u8 word_en, u8 *data, bool bPseudoTest);
 
 #ifdef DBG_CONFIG_ERROR_DETECT
-	void (*sreset_init_value)(_adapter *padapter);
-	void (*sreset_reset_value)(_adapter *padapter);
-	void (*silentreset)(_adapter *padapter);
-	void (*sreset_xmit_status_check)(_adapter *padapter);
-	void (*sreset_linked_status_check) (_adapter *padapter);
-	u8 (*sreset_get_wifi_status)(_adapter *padapter);
+	void (*sreset_init_value)(struct rtw_adapter *padapter);
+	void (*sreset_reset_value)(struct rtw_adapter *padapter);
+	void (*silentreset)(struct rtw_adapter *padapter);
+	void (*sreset_xmit_status_check)(struct rtw_adapter *padapter);
+	void (*sreset_linked_status_check) (struct rtw_adapter *padapter);
+	u8 (*sreset_get_wifi_status)(struct rtw_adapter *padapter);
 #endif
 
 #ifdef CONFIG_IOL
 	int (*IOL_exec_cmds_sync)(ADAPTER *adapter, struct xmit_frame *xmit_frame, u32 max_wating_ms);
 #endif
-	void (*hal_notch_filter)(_adapter *adapter, bool enable);
-	void (*hal_reset_security_engine)(_adapter *adapter);
+	void (*hal_notch_filter)(struct rtw_adapter *adapter, bool enable);
+	void (*hal_reset_security_engine)(struct rtw_adapter *adapter);
 
-	s32 (*c2h_handler)(_adapter *padapter, struct c2h_evt_hdr *c2h_evt);
+	s32 (*c2h_handler)(struct rtw_adapter *padapter, struct c2h_evt_hdr *c2h_evt);
 	c2h_id_filter c2h_id_filter_ccx;
 };
 
@@ -269,9 +269,9 @@ enum HARDWARE_TYPE {
 // RTL8192D Series
 //
 #define IS_HARDWARE_TYPE_8192DE(_Adapter)			\
-		(((PADAPTER)_Adapter)->HardwareType==HARDWARE_TYPE_RTL8192DE)
+		(((struct rtw_adapter *)_Adapter)->HardwareType==HARDWARE_TYPE_RTL8192DE)
 #define IS_HARDWARE_TYPE_8192DU(_Adapter)			\
-		(((PADAPTER)_Adapter)->HardwareType==HARDWARE_TYPE_RTL8192DU)
+		(((struct rtw_adapter *)_Adapter)->HardwareType==HARDWARE_TYPE_RTL8192DU)
 #define	IS_HARDWARE_TYPE_8192D(_Adapter)			\
 		(IS_HARDWARE_TYPE_8192DE(_Adapter) ||		\
 		 IS_HARDWARE_TYPE_8192DU(_Adapter))
@@ -311,90 +311,90 @@ struct wowlan_ioctl_param{
 
 #endif // CONFIG_WOWLAN
 
-void rtw_hal_def_value_init(_adapter *padapter);
-void rtw_hal_free_data(_adapter *padapter);
+void rtw_hal_def_value_init(struct rtw_adapter *padapter);
+void rtw_hal_free_data(struct rtw_adapter *padapter);
 
-void rtw_hal_dm_init(_adapter *padapter);
-void rtw_hal_dm_deinit(_adapter *padapter);
-void rtw_hal_sw_led_init(_adapter *padapter);
-void rtw_hal_sw_led_deinit(_adapter *padapter);
-
-uint rtw_hal_init(_adapter *padapter);
-uint rtw_hal_deinit(_adapter *padapter);
-void rtw_hal_stop(_adapter *padapter);
-
-void rtw_hal_set_hwreg(PADAPTER padapter, u8 variable, u8 *val);
-void rtw_hal_get_hwreg(PADAPTER padapter, u8 variable, u8 *val);
-
-void rtw_hal_chip_configure(_adapter *padapter);
-void rtw_hal_read_chip_info(_adapter *padapter);
-void rtw_hal_read_chip_version(_adapter *padapter);
+void rtw_hal_dm_init(struct rtw_adapter *padapter);
+void rtw_hal_dm_deinit(struct rtw_adapter *padapter);
+void rtw_hal_sw_led_init(struct rtw_adapter *padapter);
+void rtw_hal_sw_led_deinit(struct rtw_adapter *padapter);
+
+uint rtw_hal_init(struct rtw_adapter *padapter);
+uint rtw_hal_deinit(struct rtw_adapter *padapter);
+void rtw_hal_stop(struct rtw_adapter *padapter);
+
+void rtw_hal_set_hwreg(struct rtw_adapter * padapter, u8 variable, u8 *val);
+void rtw_hal_get_hwreg(struct rtw_adapter * padapter, u8 variable, u8 *val);
+
+void rtw_hal_chip_configure(struct rtw_adapter *padapter);
+void rtw_hal_read_chip_info(struct rtw_adapter *padapter);
+void rtw_hal_read_chip_version(struct rtw_adapter *padapter);
 
-u8 rtw_hal_set_def_var(_adapter *padapter, enum HAL_DEF_VARIABLE eVariable,
+u8 rtw_hal_set_def_var(struct rtw_adapter *padapter, enum HAL_DEF_VARIABLE eVariable,
 		       void *pValue);
-u8 rtw_hal_get_def_var(_adapter *padapter, enum HAL_DEF_VARIABLE eVariable,
+u8 rtw_hal_get_def_var(struct rtw_adapter *padapter, enum HAL_DEF_VARIABLE eVariable,
 		       void *pValue);
 
-void rtw_hal_enable_interrupt(_adapter *padapter);
-void rtw_hal_disable_interrupt(_adapter *padapter);
+void rtw_hal_enable_interrupt(struct rtw_adapter *padapter);
+void rtw_hal_disable_interrupt(struct rtw_adapter *padapter);
 
-u32 rtw_hal_inirp_init(_adapter *padapter);
-u32 rtw_hal_inirp_deinit(_adapter *padapter);
+u32 rtw_hal_inirp_init(struct rtw_adapter *padapter);
+u32 rtw_hal_inirp_deinit(struct rtw_adapter *padapter);
 
-u8 rtw_hal_intf_ps_func(_adapter *padapter, enum HAL_INTF_PS_FUNC efunc_id, u8* val);
+u8 rtw_hal_intf_ps_func(struct rtw_adapter *padapter, enum HAL_INTF_PS_FUNC efunc_id, u8* val);
 
-s32 rtw_hal_xmit(_adapter *padapter, struct xmit_frame *pxmitframe);
-s32 rtw_hal_mgnt_xmit(_adapter *padapter, struct xmit_frame *pmgntframe);
+s32 rtw_hal_xmit(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe);
+s32 rtw_hal_mgnt_xmit(struct rtw_adapter *padapter, struct xmit_frame *pmgntframe);
 
-s32 rtw_hal_init_xmit_priv(_adapter *padapter);
-void rtw_hal_free_xmit_priv(_adapter *padapter);
+s32 rtw_hal_init_xmit_priv(struct rtw_adapter *padapter);
+void rtw_hal_free_xmit_priv(struct rtw_adapter *padapter);
 
-s32 rtw_hal_init_recv_priv(_adapter *padapter);
-void rtw_hal_free_recv_priv(_adapter *padapter);
+s32 rtw_hal_init_recv_priv(struct rtw_adapter *padapter);
+void rtw_hal_free_recv_priv(struct rtw_adapter *padapter);
 
-void rtw_hal_update_ra_mask(_adapter *padapter, u32 mac_id);
-void rtw_hal_add_ra_tid(_adapter *padapter, u32 bitmap, u8 arg);
+void rtw_hal_update_ra_mask(struct rtw_adapter *padapter, u32 mac_id);
+void rtw_hal_add_ra_tid(struct rtw_adapter *padapter, u32 bitmap, u8 arg);
 
-void rtw_hal_bcn_related_reg_setting(_adapter *padapter);
+void rtw_hal_bcn_related_reg_setting(struct rtw_adapter *padapter);
 
-u32 rtw_hal_read_bbreg(_adapter *padapter, u32 RegAddr, u32 BitMask);
-void rtw_hal_write_bbreg(_adapter *padapter, u32 RegAddr, u32 BitMask, u32 Data);
-u32 rtw_hal_read_rfreg(_adapter *padapter, u32 eRFPath, u32 RegAddr, u32 BitMask);
-void rtw_hal_write_rfreg(_adapter *padapter, u32 eRFPath, u32 RegAddr, u32 BitMask, u32 Data);
+u32 rtw_hal_read_bbreg(struct rtw_adapter *padapter, u32 RegAddr, u32 BitMask);
+void rtw_hal_write_bbreg(struct rtw_adapter *padapter, u32 RegAddr, u32 BitMask, u32 Data);
+u32 rtw_hal_read_rfreg(struct rtw_adapter *padapter, u32 eRFPath, u32 RegAddr, u32 BitMask);
+void rtw_hal_write_rfreg(struct rtw_adapter *padapter, u32 eRFPath, u32 RegAddr, u32 BitMask, u32 Data);
 
-s32 rtw_hal_interrupt_handler(_adapter *padapter);
+s32 rtw_hal_interrupt_handler(struct rtw_adapter *padapter);
 
-void rtw_hal_set_bwmode(_adapter *padapter, enum HT_CHANNEL_WIDTH Bandwidth, u8 Offset);
-void rtw_hal_set_chan(_adapter *padapter, u8 channel);
+void rtw_hal_set_bwmode(struct rtw_adapter *padapter, enum HT_CHANNEL_WIDTH Bandwidth, u8 Offset);
+void rtw_hal_set_chan(struct rtw_adapter *padapter, u8 channel);
 
-void rtw_hal_dm_watchdog(_adapter *padapter);
+void rtw_hal_dm_watchdog(struct rtw_adapter *padapter);
 
 #ifdef CONFIG_ANTENNA_DIVERSITY
-u8 rtw_hal_antdiv_before_linked(_adapter *padapter);
-void rtw_hal_antdiv_rssi_compared(_adapter *padapter, WLAN_BSSID_EX *dst, WLAN_BSSID_EX *src);
+u8 rtw_hal_antdiv_before_linked(struct rtw_adapter *padapter);
+void rtw_hal_antdiv_rssi_compared(struct rtw_adapter *padapter, WLAN_BSSID_EX *dst, WLAN_BSSID_EX *src);
 #endif
 
 #ifdef CONFIG_HOSTAPD_MLME
-s32 rtw_hal_hostap_mgnt_xmit_entry(_adapter *padapter, struct sk_buff *pkt);
+s32 rtw_hal_hostap_mgnt_xmit_entry(struct rtw_adapter *padapter, struct sk_buff *pkt);
 #endif
 
 #ifdef DBG_CONFIG_ERROR_DETECT
-void rtw_hal_sreset_init(_adapter *padapter);
-void rtw_hal_sreset_reset(_adapter *padapter);
-void rtw_hal_sreset_reset_value(_adapter *padapter);
-void rtw_hal_sreset_xmit_status_check(_adapter *padapter);
-void rtw_hal_sreset_linked_status_check(_adapter *padapter);
-u8 rtw_hal_sreset_get_wifi_status(_adapter *padapter);
+void rtw_hal_sreset_init(struct rtw_adapter *padapter);
+void rtw_hal_sreset_reset(struct rtw_adapter *padapter);
+void rtw_hal_sreset_reset_value(struct rtw_adapter *padapter);
+void rtw_hal_sreset_xmit_status_check(struct rtw_adapter *padapter);
+void rtw_hal_sreset_linked_status_check(struct rtw_adapter *padapter);
+u8 rtw_hal_sreset_get_wifi_status(struct rtw_adapter *padapter);
 #endif
 
 #ifdef CONFIG_IOL
 int rtw_hal_iol_cmd(ADAPTER *adapter, struct xmit_frame *xmit_frame, u32 max_wating_ms);
 #endif
 
-void rtw_hal_notch_filter(_adapter *adapter, bool enable);
-void rtw_hal_reset_security_engine(_adapter *adapter);
+void rtw_hal_notch_filter(struct rtw_adapter *adapter, bool enable);
+void rtw_hal_reset_security_engine(struct rtw_adapter *adapter);
 
-s32 rtw_hal_c2h_handler(_adapter *adapter, struct c2h_evt_hdr *c2h_evt);
-c2h_id_filter rtw_hal_c2h_id_filter_ccx(_adapter *adapter);
+s32 rtw_hal_c2h_handler(struct rtw_adapter *adapter, struct c2h_evt_hdr *c2h_evt);
+c2h_id_filter rtw_hal_c2h_id_filter_ccx(struct rtw_adapter *adapter);
 
 #endif //__HAL_INTF_H__
--- a/drivers/staging/rtl8192du/include/ioctl_cfg80211.h
+++ b/drivers/staging/rtl8192du/include/ioctl_cfg80211.h
@@ -53,7 +53,7 @@ struct rtw_wdev_priv
 {
 	struct wireless_dev *rtw_wdev;
 
-	_adapter *padapter;
+	struct rtw_adapter *padapter;
 
 	struct cfg80211_scan_request *scan_request;
 	spinlock_t scan_req_lock;
@@ -80,35 +80,35 @@ struct rtw_wdev_priv
 
 #define wdev_to_priv(w) ((struct rtw_wdev_priv *)(wdev_priv(w)))
 
-#define wiphy_to_adapter(x) (_adapter *)(((struct rtw_wdev_priv*)wiphy_priv(x))->padapter)
+#define wiphy_to_adapter(x) (struct rtw_adapter *)(((struct rtw_wdev_priv*)wiphy_priv(x))->padapter)
 
 #define wiphy_to_wdev(x) (struct wireless_dev *)(((struct rtw_wdev_priv*)wiphy_priv(x))->rtw_wdev)
 
-int rtw_wdev_alloc(_adapter *padapter, struct device *dev);
+int rtw_wdev_alloc(struct rtw_adapter *padapter, struct device *dev);
 void rtw_wdev_free(struct wireless_dev *wdev);
 void rtw_wdev_unregister(struct wireless_dev *wdev);
 
-void rtw_cfg80211_init_wiphy(_adapter *padapter);
+void rtw_cfg80211_init_wiphy(struct rtw_adapter *padapter);
 
-void rtw_cfg80211_surveydone_event_callback(_adapter *padapter);
+void rtw_cfg80211_surveydone_event_callback(struct rtw_adapter *padapter);
 
-void rtw_cfg80211_indicate_connect(_adapter *padapter);
-void rtw_cfg80211_indicate_disconnect(_adapter *padapter);
+void rtw_cfg80211_indicate_connect(struct rtw_adapter *padapter);
+void rtw_cfg80211_indicate_disconnect(struct rtw_adapter *padapter);
 void rtw_cfg80211_indicate_scan_done(struct rtw_wdev_priv *pwdev_priv, bool aborted);
 
 #ifdef CONFIG_AP_MODE
-void rtw_cfg80211_indicate_sta_assoc(_adapter *padapter, u8 *pmgmt_frame, uint frame_len);
-void rtw_cfg80211_indicate_sta_disassoc(_adapter *padapter, unsigned char *da, unsigned short reason);
+void rtw_cfg80211_indicate_sta_assoc(struct rtw_adapter *padapter, u8 *pmgmt_frame, uint frame_len);
+void rtw_cfg80211_indicate_sta_disassoc(struct rtw_adapter *padapter, unsigned char *da, unsigned short reason);
 #endif //CONFIG_AP_MODE
 
-void rtw_cfg80211_issue_p2p_provision_request(_adapter *padapter, const u8 *buf, size_t len);
-void rtw_cfg80211_rx_p2p_action_public(_adapter *padapter, u8 *pmgmt_frame, uint frame_len);
-void rtw_cfg80211_rx_action_p2p(_adapter *padapter, u8 *pmgmt_frame, uint frame_len);
-void rtw_cfg80211_rx_action(_adapter *adapter, u8 *frame, uint frame_len, const char*msg);
+void rtw_cfg80211_issue_p2p_provision_request(struct rtw_adapter *padapter, const u8 *buf, size_t len);
+void rtw_cfg80211_rx_p2p_action_public(struct rtw_adapter *padapter, u8 *pmgmt_frame, uint frame_len);
+void rtw_cfg80211_rx_action_p2p(struct rtw_adapter *padapter, u8 *pmgmt_frame, uint frame_len);
+void rtw_cfg80211_rx_action(struct rtw_adapter *adapter, u8 *frame, uint frame_len, const char*msg);
 
 int rtw_cfg80211_set_mgnt_wpsp2pie(struct net_device *net, char *buf, int len, int type);
 
-bool rtw_cfg80211_pwr_mgmt(_adapter *adapter);
+bool rtw_cfg80211_pwr_mgmt(struct rtw_adapter *adapter);
 
 #if (LINUX_VERSION_CODE < KERNEL_VERSION(3,4,0))  && !defined(COMPAT_KERNEL_RELEASE)
 #define rtw_cfg80211_rx_mgmt(adapter, freq, sig_dbm, buf, len, gfp) cfg80211_rx_mgmt((adapter)->pnetdev, freq, buf, len, gfp)
--- a/drivers/staging/rtl8192du/include/mlme_osdep.h
+++ b/drivers/staging/rtl8192du/include/mlme_osdep.h
@@ -24,12 +24,12 @@
 #include <osdep_service.h>
 #include <drv_types.h>
 
-extern void rtw_init_mlme_timer(_adapter *padapter);
-extern void rtw_os_indicate_disconnect( _adapter *adapter );
-extern void rtw_os_indicate_connect( _adapter *adapter );
-void rtw_os_indicate_scan_done( _adapter *padapter, bool aborted);
-extern void rtw_report_sec_ie(_adapter *adapter,u8 authmode,u8 *sec_ie);
+extern void rtw_init_mlme_timer(struct rtw_adapter *padapter);
+extern void rtw_os_indicate_disconnect(struct rtw_adapter *adapter );
+extern void rtw_os_indicate_connect(struct rtw_adapter *adapter );
+void rtw_os_indicate_scan_done(struct rtw_adapter *padapter, bool aborted);
+extern void rtw_report_sec_ie(struct rtw_adapter *adapter,u8 authmode,u8 *sec_ie);
 
-void rtw_reset_securitypriv( _adapter *adapter );
+void rtw_reset_securitypriv(struct rtw_adapter *adapter );
 
 #endif	//_MLME_OSDEP_H_
--- a/drivers/staging/rtl8192du/include/osdep_intf.h
+++ b/drivers/staging/rtl8192du/include/osdep_intf.h
@@ -63,22 +63,22 @@ The protection mechanism is through the
 
 
 #ifdef CONFIG_R871X_TEST
-int rtw_start_pseudo_adhoc(_adapter *padapter);
-int rtw_stop_pseudo_adhoc(_adapter *padapter);
+int rtw_start_pseudo_adhoc(struct rtw_adapter *padapter);
+int rtw_stop_pseudo_adhoc(struct rtw_adapter *padapter);
 #endif
 
-u8 rtw_init_drv_sw(_adapter *padapter);
-u8 rtw_free_drv_sw(_adapter *padapter);
-u8 rtw_reset_drv_sw(_adapter *padapter);
-
-u32 rtw_start_drv_threads(_adapter *padapter);
-void rtw_stop_drv_threads (_adapter *padapter);
-void rtw_cancel_all_timer(_adapter *padapter);
+u8 rtw_init_drv_sw(struct rtw_adapter *padapter);
+u8 rtw_free_drv_sw(struct rtw_adapter *padapter);
+u8 rtw_reset_drv_sw(struct rtw_adapter *padapter);
+
+u32 rtw_start_drv_threads(struct rtw_adapter *padapter);
+void rtw_stop_drv_threads (struct rtw_adapter *padapter);
+void rtw_cancel_all_timer(struct rtw_adapter *padapter);
 
 int rtw_ioctl(struct net_device *dev, struct ifreq *rq, int cmd);
 
 int rtw_init_netdev_name(struct net_device *pnetdev, const char *ifname);
-struct net_device *rtw_init_netdev(_adapter *padapter);
+struct net_device *rtw_init_netdev(struct rtw_adapter *padapter);
 
 #if (LINUX_VERSION_CODE>=KERNEL_VERSION(2,6,35))
 u16 rtw_recv_select_queue(struct sk_buff *skb);
@@ -92,20 +92,20 @@ static void rtw_proc_init_one(struct net
 static void rtw_proc_remove_one(struct net_device *dev){}
 #endif //!CONFIG_PROC_DEBUG
 
-void rtw_ips_dev_unload(_adapter *padapter);
+void rtw_ips_dev_unload(struct rtw_adapter *padapter);
 #ifdef CONFIG_IPS
-int rtw_ips_pwr_up(_adapter *padapter);
-void rtw_ips_pwr_down(_adapter *padapter);
+int rtw_ips_pwr_up(struct rtw_adapter *padapter);
+void rtw_ips_pwr_down(struct rtw_adapter *padapter);
 #endif
 
 #ifdef CONFIG_CONCURRENT_MODE
 struct _io_ops;
-_adapter *rtw_drv_if2_init(_adapter *primary_padapter, char *name, void (*set_intf_ops)(struct _io_ops *pops));
-void rtw_drv_if2_free(_adapter *if2);
-void rtw_drv_if2_stop(_adapter *if2);
+struct rtw_adapter *rtw_drv_if2_init(struct rtw_adapter *primary_padapter, char *name, void (*set_intf_ops)(struct _io_ops *pops));
+void rtw_drv_if2_free(struct rtw_adapter *if2);
+void rtw_drv_if2_stop(struct rtw_adapter *if2);
 #ifdef CONFIG_MULTI_VIR_IFACES
 struct dvobj_priv;
-_adapter *rtw_drv_add_vir_if(_adapter *primary_padapter, char *name,	void (*set_intf_ops)(struct _io_ops *pops));
+_adapter *rtw_drv_add_vir_if(struct rtw_adapter *primary_padapter, char *name,	void (*set_intf_ops)(struct _io_ops *pops));
 void rtw_drv_stop_vir_ifaces(struct dvobj_priv *dvobj);
 void rtw_drv_free_vir_ifaces(struct dvobj_priv *dvobj);
 #endif //CONFIG_MULTI_VIR_IFACES
--- a/drivers/staging/rtl8192du/include/recv_osdep.h
+++ b/drivers/staging/rtl8192du/include/recv_osdep.h
@@ -24,27 +24,27 @@
 #include <osdep_service.h>
 #include <drv_types.h>
 
-extern int _rtw_init_recv_priv(struct recv_priv *precvpriv, _adapter *padapter);
+extern int _rtw_init_recv_priv(struct recv_priv *precvpriv, struct rtw_adapter *padapter);
 extern void _rtw_free_recv_priv (struct recv_priv *precvpriv);
 
 extern s32  rtw_recv_entry(union recv_frame *precv_frame);
-extern int rtw_recv_indicatepkt(_adapter *adapter, union recv_frame *precv_frame);
+extern int rtw_recv_indicatepkt(struct rtw_adapter *adapter, union recv_frame *precv_frame);
 extern void rtw_recv_returnpacket(struct net_device *cnxt, struct sk_buff *preturnedpkt);
 
-extern void rtw_hostapd_mlme_rx(_adapter *padapter, union recv_frame *precv_frame);
-extern void rtw_handle_tkip_mic_err(_adapter *padapter, u8 bgroup);
+extern void rtw_hostapd_mlme_rx(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+extern void rtw_handle_tkip_mic_err(struct rtw_adapter *padapter, u8 bgroup);
 
-int	rtw_init_recv_priv(struct recv_priv *precvpriv, _adapter *padapter);
+int	rtw_init_recv_priv(struct recv_priv *precvpriv, struct rtw_adapter *padapter);
 void rtw_free_recv_priv (struct recv_priv *precvpriv);
 
-int rtw_os_recv_resource_init(struct recv_priv *precvpriv, _adapter *padapter);
-int rtw_os_recv_resource_alloc(_adapter *padapter, union recv_frame *precvframe);
+int rtw_os_recv_resource_init(struct recv_priv *precvpriv, struct rtw_adapter *padapter);
+int rtw_os_recv_resource_alloc(struct rtw_adapter *padapter, union recv_frame *precvframe);
 void rtw_os_recv_resource_free(struct recv_priv *precvpriv);
 
-int rtw_os_recvbuf_resource_alloc(_adapter *padapter, struct recv_buf *precvbuf);
-int rtw_os_recvbuf_resource_free(_adapter *padapter, struct recv_buf *precvbuf);
+int rtw_os_recvbuf_resource_alloc(struct rtw_adapter *padapter, struct recv_buf *precvbuf);
+int rtw_os_recvbuf_resource_free(struct rtw_adapter *padapter, struct recv_buf *precvbuf);
 
-void rtw_os_read_port(_adapter *padapter, struct recv_buf *precvbuf);
+void rtw_os_read_port(struct rtw_adapter *padapter, struct recv_buf *precvbuf);
 
 void rtw_init_recv_timer(struct recv_reorder_ctrl *preorder_ctrl);
 
--- a/drivers/staging/rtl8192du/include/rtl8192d_cmd.h
+++ b/drivers/staging/rtl8192du/include/rtl8192d_cmd.h
@@ -95,20 +95,20 @@ struct cmd_msg_parm {
 };
 
 
-void	FillH2CCmd92D(_adapter* padapter, u8 ElementID, u32 CmdLen, u8* pCmdBuffer);
+void	FillH2CCmd92D(struct rtw_adapter* padapter, u8 ElementID, u32 CmdLen, u8* pCmdBuffer);
 
 // host message to firmware cmd
-void	rtl8192d_set_FwPwrMode_cmd(_adapter*padapter, u8 Mode);
-void	rtl8192d_set_FwJoinBssReport_cmd(_adapter* padapter, u8 mstatus);
-u8	rtl8192d_set_rssi_cmd(_adapter*padapter, u8 *param);
-u8	rtl8192d_set_raid_cmd(_adapter*padapter, u32 mask, u8 arg);
-void	rtl8192d_Add_RateATid(PADAPTER pAdapter, u32 bitmap, u8 arg);
+void	rtl8192d_set_FwPwrMode_cmd(struct rtw_adapter*padapter, u8 Mode);
+void	rtl8192d_set_FwJoinBssReport_cmd(struct rtw_adapter* padapter, u8 mstatus);
+u8	rtl8192d_set_rssi_cmd(struct rtw_adapter*padapter, u8 *param);
+u8	rtl8192d_set_raid_cmd(struct rtw_adapter*padapter, u32 mask, u8 arg);
+void	rtl8192d_Add_RateATid(struct rtw_adapter * pAdapter, u32 bitmap, u8 arg);
 #ifdef CONFIG_P2P
-void	rtl8192d_set_p2p_ps_offload_cmd(_adapter* padapter, u8 p2p_ps_state);
+void	rtl8192d_set_p2p_ps_offload_cmd(struct rtw_adapter* padapter, u8 p2p_ps_state);
 #endif //CONFIG_P2P
 
 #ifdef CONFIG_TSF_RESET_OFFLOAD
-int reset_tsf(PADAPTER Adapter, u8 reset_port );
+int reset_tsf(struct rtw_adapter * Adapter, u8 reset_port );
 #endif	// CONFIG_TSF_RESET_OFFLOAD
 
 #ifdef CONFIG_WOWLAN
@@ -132,8 +132,8 @@ typedef struct _SETWOWLAN_PARM{
 #define FW_WOWLAN_GPIO_WAKEUP_EN	BIT(0)
 #define FW_FW_PARSE_MAGIC_PKT		BIT(1)
 
-void rtl8192d_set_wowlan_cmd(_adapter* padapter);
-void SetFwRelatedForWoWLAN8192DU(_adapter*	padapter,u8 bHostIsGoingtoSleep);
+void rtl8192d_set_wowlan_cmd(struct rtw_adapter* padapter);
+void SetFwRelatedForWoWLAN8192DU(struct rtw_adapter*	padapter,u8 bHostIsGoingtoSleep);
 #endif // CONFIG_WOWLAN
 
 #endif	// __RTL8192D_CMD_H_
--- a/drivers/staging/rtl8192du/include/rtl8192d_dm.h
+++ b/drivers/staging/rtl8192du/include/rtl8192d_dm.h
@@ -381,11 +381,11 @@ struct	dm_priv
 //============================================================
 // function prototype
 //============================================================
-void rtl8192d_init_dm_priv(PADAPTER Adapter);
-void rtl8192d_deinit_dm_priv(PADAPTER Adapter);
-void	rtl8192d_InitHalDm(PADAPTER Adapter);
-void	rtl8192d_HalDmWatchDog(PADAPTER Adapter);
+void rtl8192d_init_dm_priv(struct rtw_adapter * Adapter);
+void rtl8192d_deinit_dm_priv(struct rtw_adapter * Adapter);
+void	rtl8192d_InitHalDm(struct rtw_adapter * Adapter);
+void	rtl8192d_HalDmWatchDog(struct rtw_adapter * Adapter);
 
-void rtl8192d_dm_CheckTXPowerTracking(PADAPTER Adapter);
+void rtl8192d_dm_CheckTXPowerTracking(struct rtw_adapter * Adapter);
 
 #endif	//__HAL8190PCIDM_H__
--- a/drivers/staging/rtl8192du/include/rtl8192d_hal.h
+++ b/drivers/staging/rtl8192du/include/rtl8192d_hal.h
@@ -781,17 +781,17 @@ typedef struct hal_data_8192du HAL_DATA_
 #define GET_HAL_DATA(__pAdapter)	((HAL_DATA_TYPE *)((__pAdapter)->HalData))
 #define GET_RF_TYPE(priv)	(GET_HAL_DATA(priv)->rf_type)
 
-int FirmwareDownload92D(PADAPTER Adapter,bool  bUsedWoWLANFw);
-void rtl8192d_FirmwareSelfReset(PADAPTER Adapter);
-void rtl8192d_ReadChipVersion(PADAPTER Adapter);
-void rtl8192d_EfuseParseChnlPlan(PADAPTER Adapter, u8 *hwinfo, bool AutoLoadFail);
-void rtl8192d_ReadTxPowerInfo(PADAPTER Adapter, u8* PROMContent, bool AutoLoadFail);
-void rtl8192d_ResetDualMacSwitchVariables(PADAPTER Adapter);
-u8 GetEEPROMSize8192D(PADAPTER Adapter);
-bool PHY_CheckPowerOffFor8192D(PADAPTER Adapter);
-void PHY_SetPowerOnFor8192D(PADAPTER Adapter);
-//void PHY_ConfigMacPhyMode92D(PADAPTER Adapter);
-void rtl8192d_free_hal_data(_adapter *padapter);
+int FirmwareDownload92D(struct rtw_adapter * Adapter,bool  bUsedWoWLANFw);
+void rtl8192d_FirmwareSelfReset(struct rtw_adapter * Adapter);
+void rtl8192d_ReadChipVersion(struct rtw_adapter * Adapter);
+void rtl8192d_EfuseParseChnlPlan(struct rtw_adapter * Adapter, u8 *hwinfo, bool AutoLoadFail);
+void rtl8192d_ReadTxPowerInfo(struct rtw_adapter * Adapter, u8* PROMContent, bool AutoLoadFail);
+void rtl8192d_ResetDualMacSwitchVariables(struct rtw_adapter * Adapter);
+u8 GetEEPROMSize8192D(struct rtw_adapter * Adapter);
+bool PHY_CheckPowerOffFor8192D(struct rtw_adapter * Adapter);
+void PHY_SetPowerOnFor8192D(struct rtw_adapter * Adapter);
+//void PHY_ConfigMacPhyMode92D(struct rtw_adapter * Adapter);
+void rtl8192d_free_hal_data(struct rtw_adapter *padapter);
 void rtl8192d_set_hal_ops(struct hal_ops *pHalFunc);
 
 #endif
@@ -799,32 +799,32 @@ void rtl8192d_set_hal_ops(struct hal_ops
 #ifdef CONFIG_MP_INCLUDED
 
 
-extern void Hal_SetAntenna(PADAPTER pAdapter);
-extern void Hal_SetBandwidth(PADAPTER pAdapter);
+extern void Hal_SetAntenna(struct rtw_adapter * pAdapter);
+extern void Hal_SetBandwidth(struct rtw_adapter * pAdapter);
 
-extern void Hal_SetTxPower(PADAPTER pAdapter);
-extern void Hal_SetCarrierSuppressionTx(PADAPTER pAdapter, u8 bStart);
-extern void Hal_SetSingleToneTx ( PADAPTER pAdapter , u8 bStart );
-extern void Hal_SetSingleCarrierTx (PADAPTER pAdapter, u8 bStart);
-extern void Hal_SetContinuousTx (PADAPTER pAdapter, u8 bStart);
-extern void Hal_SetBandwidth(PADAPTER pAdapter);
-
-extern void Hal_SetDataRate(PADAPTER pAdapter);
-extern void Hal_SetChannel(PADAPTER pAdapter);
-extern void Hal_SetAntennaPathPower(PADAPTER pAdapter);
-extern s32 Hal_SetThermalMeter(PADAPTER pAdapter, u8 target_ther);
-extern s32 Hal_SetPowerTracking(PADAPTER padapter, u8 enable);
-extern void Hal_GetPowerTracking(PADAPTER padapter, u8 *enable);
-extern void Hal_GetThermalMeter(PADAPTER pAdapter, u8 *value);
-extern void Hal_mpt_SwitchRfSetting(PADAPTER pAdapter);
-extern void Hal_MPT_CCKTxPowerAdjust(PADAPTER Adapter, bool bInCH14);
-extern void Hal_MPT_CCKTxPowerAdjustbyIndex(PADAPTER pAdapter, bool beven);
-extern void Hal_SetCCKTxPower(PADAPTER pAdapter, u8 *TxPower);
-extern void Hal_SetOFDMTxPower(PADAPTER pAdapter, u8 *TxPower);
-extern void Hal_TriggerRFThermalMeter(PADAPTER pAdapter);
-extern u8 Hal_ReadRFThermalMeter(PADAPTER pAdapter);
-extern void Hal_SetCCKContinuousTx(PADAPTER pAdapter, u8 bStart);
-extern void Hal_SetOFDMContinuousTx(PADAPTER pAdapter, u8 bStart);
+extern void Hal_SetTxPower(struct rtw_adapter * pAdapter);
+extern void Hal_SetCarrierSuppressionTx(struct rtw_adapter * pAdapter, u8 bStart);
+extern void Hal_SetSingleToneTx ( struct rtw_adapter * pAdapter , u8 bStart );
+extern void Hal_SetSingleCarrierTx (struct rtw_adapter * pAdapter, u8 bStart);
+extern void Hal_SetContinuousTx (struct rtw_adapter * pAdapter, u8 bStart);
+extern void Hal_SetBandwidth(struct rtw_adapter * pAdapter);
+
+extern void Hal_SetDataRate(struct rtw_adapter * pAdapter);
+extern void Hal_SetChannel(struct rtw_adapter * pAdapter);
+extern void Hal_SetAntennaPathPower(struct rtw_adapter * pAdapter);
+extern s32 Hal_SetThermalMeter(struct rtw_adapter * pAdapter, u8 target_ther);
+extern s32 Hal_SetPowerTracking(struct rtw_adapter * padapter, u8 enable);
+extern void Hal_GetPowerTracking(struct rtw_adapter * padapter, u8 *enable);
+extern void Hal_GetThermalMeter(struct rtw_adapter * pAdapter, u8 *value);
+extern void Hal_mpt_SwitchRfSetting(struct rtw_adapter * pAdapter);
+extern void Hal_MPT_CCKTxPowerAdjust(struct rtw_adapter * Adapter, bool bInCH14);
+extern void Hal_MPT_CCKTxPowerAdjustbyIndex(struct rtw_adapter * pAdapter, bool beven);
+extern void Hal_SetCCKTxPower(struct rtw_adapter * pAdapter, u8 *TxPower);
+extern void Hal_SetOFDMTxPower(struct rtw_adapter * pAdapter, u8 *TxPower);
+extern void Hal_TriggerRFThermalMeter(struct rtw_adapter * pAdapter);
+extern u8 Hal_ReadRFThermalMeter(struct rtw_adapter * pAdapter);
+extern void Hal_SetCCKContinuousTx(struct rtw_adapter * pAdapter, u8 bStart);
+extern void Hal_SetOFDMContinuousTx(struct rtw_adapter * pAdapter, u8 bStart);
 
 
 #endif //end CONFIG_MP_INCLUDED
--- a/drivers/staging/rtl8192du/include/rtl8192d_led.h
+++ b/drivers/staging/rtl8192du/include/rtl8192d_led.h
@@ -28,7 +28,7 @@
 //================================================================================
 // Interface to manipulate LED objects.
 //================================================================================
-void rtl8192du_InitSwLeds(_adapter *padapter);
-void rtl8192du_DeInitSwLeds(_adapter *padapter);
+void rtl8192du_InitSwLeds(struct rtw_adapter *padapter);
+void rtl8192du_DeInitSwLeds(struct rtw_adapter *padapter);
 
 #endif
--- a/drivers/staging/rtl8192du/include/rtl8192d_recv.h
+++ b/drivers/staging/rtl8192du/include/rtl8192d_recv.h
@@ -97,9 +97,9 @@ struct phy_cck_rx_status_report_8192cd {
 // Rx smooth factor
 #define	Rx_Smooth_Factor (20)
 
-void rtl8192du_init_recvbuf(_adapter *padapter, struct recv_buf *precvbuf);
-int	rtl8192du_init_recv_priv(_adapter * padapter);
-void	rtl8192du_free_recv_priv(_adapter * padapter);
+void rtl8192du_init_recvbuf(struct rtw_adapter *padapter, struct recv_buf *precvbuf);
+int	rtl8192du_init_recv_priv(struct rtw_adapter * padapter);
+void	rtl8192du_free_recv_priv(struct rtw_adapter * padapter);
 
 void rtl8192d_translate_rx_signal_stuff(union recv_frame *precvframe, struct phy_stat *pphy_info);
 void rtl8192d_query_rx_desc_status(union recv_frame *precvframe, struct recv_stat *pdesc);
--- a/drivers/staging/rtl8192du/include/rtl8192d_rf.h
+++ b/drivers/staging/rtl8192du/include/rtl8192d_rf.h
@@ -71,23 +71,23 @@
 //
 // RF RL6052 Series API
 //
-void		rtl8192d_RF_ChangeTxPath(	PADAPTER	Adapter,
+void		rtl8192d_RF_ChangeTxPath(	struct rtw_adapter *	Adapter,
 										u16		DataRate);
 void		rtl8192d_PHY_RF6052SetBandwidth(
-										PADAPTER				Adapter,
+										struct rtw_adapter *				Adapter,
 					enum HT_CHANNEL_WIDTH		Bandwidth);
 void	rtl8192d_PHY_RF6052SetCckTxPower(
-										PADAPTER	Adapter,
+										struct rtw_adapter *	Adapter,
 										u8*		pPowerlevel);
 void	rtl8192d_PHY_RF6052SetOFDMTxPower(
-										PADAPTER	Adapter,
+										struct rtw_adapter *	Adapter,
 										u8*		pPowerLevel,
 										u8		Channel);
-int	PHY_RF6052_Config8192D(	PADAPTER		Adapter	);
+int	PHY_RF6052_Config8192D(	struct rtw_adapter *		Adapter	);
 
-bool	rtl8192d_PHY_EnableAnotherPHY(PADAPTER Adapter, bool	 bMac0);
+bool	rtl8192d_PHY_EnableAnotherPHY(struct rtw_adapter * Adapter, bool	 bMac0);
 
-void	rtl8192d_PHY_PowerDownAnotherPHY(PADAPTER Adapter, bool bMac0);
+void	rtl8192d_PHY_PowerDownAnotherPHY(struct rtw_adapter * Adapter, bool bMac0);
 
 
 /*--------------------------Exported Function prototype---------------------*/
--- a/drivers/staging/rtl8192du/include/rtl8192d_xmit.h
+++ b/drivers/staging/rtl8192du/include/rtl8192d_xmit.h
@@ -86,7 +86,7 @@ struct txrpt_ccx_8192d {
 
 #ifdef CONFIG_XMIT_ACK
 void dump_txrpt_ccx_8192d(void *buf);
-void handle_txrpt_ccx_8192d(_adapter *adapter, void *buf);
+void handle_txrpt_ccx_8192d(struct rtw_adapter *adapter, void *buf);
 #else
 #define dump_txrpt_ccx_8192d(buf) do {} while(0)
 #define handle_txrpt_ccx_8192d(adapter, buf) do {} while(0)
@@ -96,20 +96,20 @@ void handle_txrpt_ccx_8192d(_adapter *ad
 #define MAX_TX_AGG_PACKET_NUMBER 0xFF
 #endif
 
-s32	rtl8192du_init_xmit_priv(_adapter * padapter);
+s32	rtl8192du_init_xmit_priv(struct rtw_adapter * padapter);
 
-void	rtl8192du_free_xmit_priv(_adapter * padapter);
+void	rtl8192du_free_xmit_priv(struct rtw_adapter * padapter);
 
 void rtl8192du_cal_txdesc_chksum(struct tx_desc	*ptxdesc);
 
-s32 rtl8192du_xmitframe_complete(_adapter *padapter, struct xmit_priv *pxmitpriv, struct xmit_buf *pxmitbuf);
+s32 rtl8192du_xmitframe_complete(struct rtw_adapter *padapter, struct xmit_priv *pxmitpriv, struct xmit_buf *pxmitbuf);
 
-s32 rtl8192du_mgnt_xmit(_adapter *padapter, struct xmit_frame *pmgntframe);
+s32 rtl8192du_mgnt_xmit(struct rtw_adapter *padapter, struct xmit_frame *pmgntframe);
 
-s32 rtl8192du_hal_xmit(_adapter *padapter, struct xmit_frame *pxmitframe);
+s32 rtl8192du_hal_xmit(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe);
 
 #ifdef CONFIG_HOSTAPD_MLME
-s32	rtl8192du_hostap_mgnt_xmit_entry(_adapter *padapter, _pkt *pkt);
+s32	rtl8192du_hostap_mgnt_xmit_entry(struct rtw_adapter *padapter, _pkt *pkt);
 #endif
 
 #endif
--- a/drivers/staging/rtl8192du/include/rtw_ap.h
+++ b/drivers/staging/rtl8192du/include/rtw_ap.h
@@ -28,34 +28,33 @@
 #ifdef CONFIG_AP_MODE
 
 //external function
-extern void rtw_indicate_sta_assoc_event(_adapter *padapter, struct sta_info *psta);
-extern void rtw_indicate_sta_disassoc_event(_adapter *padapter, struct sta_info *psta);
+extern void rtw_indicate_sta_assoc_event(struct rtw_adapter *padapter, struct sta_info *psta);
+extern void rtw_indicate_sta_disassoc_event(struct rtw_adapter *padapter, struct sta_info *psta);
 
 
-void init_mlme_ap_info(_adapter *padapter);
-void free_mlme_ap_info(_adapter *padapter);
-//void update_BCNTIM(_adapter *padapter);
-void rtw_add_bcn_ie(_adapter *padapter, WLAN_BSSID_EX *pnetwork, u8 index, u8 *data, u8 len);
-void rtw_remove_bcn_ie(_adapter *padapter, WLAN_BSSID_EX *pnetwork, u8 index);
-void update_beacon(_adapter *padapter, u8 ie_id, u8 *oui, u8 tx);
-void expire_timeout_chk(_adapter *padapter);
-void update_sta_info_apmode(_adapter *padapter, struct sta_info *psta);
-int rtw_check_beacon_data(_adapter *padapter, u8 *pbuf,  int len);
-void rtw_set_macaddr_acl(_adapter *padapter, int mode);
-int rtw_acl_add_sta(_adapter *padapter, u8 *addr);
-int rtw_acl_remove_sta(_adapter *padapter, u8 *addr);
+void init_mlme_ap_info(struct rtw_adapter *padapter);
+void free_mlme_ap_info(struct rtw_adapter *padapter);
+void rtw_add_bcn_ie(struct rtw_adapter *padapter, WLAN_BSSID_EX *pnetwork, u8 index, u8 *data, u8 len);
+void rtw_remove_bcn_ie(struct rtw_adapter *padapter, WLAN_BSSID_EX *pnetwork, u8 index);
+void update_beacon(struct rtw_adapter *padapter, u8 ie_id, u8 *oui, u8 tx);
+void expire_timeout_chk(struct rtw_adapter *padapter);
+void update_sta_info_apmode(struct rtw_adapter *padapter, struct sta_info *psta);
+int rtw_check_beacon_data(struct rtw_adapter *padapter, u8 *pbuf,  int len);
+void rtw_set_macaddr_acl(struct rtw_adapter *padapter, int mode);
+int rtw_acl_add_sta(struct rtw_adapter *padapter, u8 *addr);
+int rtw_acl_remove_sta(struct rtw_adapter *padapter, u8 *addr);
 
 #ifdef CONFIG_NATIVEAP_MLME
-void associated_clients_update(_adapter *padapter, u8 updated);
-void bss_cap_update_on_sta_join(_adapter *padapter, struct sta_info *psta);
-u8 bss_cap_update_on_sta_leave(_adapter *padapter, struct sta_info *psta);
-void sta_info_update(_adapter *padapter, struct sta_info *psta);
-void ap_sta_info_defer_update(_adapter *padapter, struct sta_info *psta);
-u8 ap_free_sta(_adapter *padapter, struct sta_info *psta, bool active, u16 reason);
-int rtw_sta_flush(_adapter *padapter);
-int rtw_ap_inform_ch_switch(_adapter *padapter, u8 new_ch, u8 ch_offset);
-void start_ap_mode(_adapter *padapter);
-void stop_ap_mode(_adapter *padapter);
+void associated_clients_update(struct rtw_adapter *padapter, u8 updated);
+void bss_cap_update_on_sta_join(struct rtw_adapter *padapter, struct sta_info *psta);
+u8 bss_cap_update_on_sta_leave(struct rtw_adapter *padapter, struct sta_info *psta);
+void sta_info_update(struct rtw_adapter *padapter, struct sta_info *psta);
+void ap_sta_info_defer_update(struct rtw_adapter *padapter, struct sta_info *psta);
+u8 ap_free_sta(struct rtw_adapter *padapter, struct sta_info *psta, bool active, u16 reason);
+int rtw_sta_flush(struct rtw_adapter *padapter);
+int rtw_ap_inform_ch_switch(struct rtw_adapter *padapter, u8 new_ch, u8 ch_offset);
+void start_ap_mode(struct rtw_adapter *padapter);
+void stop_ap_mode(struct rtw_adapter *padapter);
 #endif
 #endif //end of CONFIG_AP_MODE
 
--- a/drivers/staging/rtl8192du/include/rtw_br_ext.h
+++ b/drivers/staging/rtl8192du/include/rtw_br_ext.h
@@ -62,6 +62,6 @@ struct br_ext_info {
 	unsigned int	nat25sc_disable;
 };
 
-void nat25_db_cleanup(_adapter *priv);
+void nat25_db_cleanup(struct rtw_adapter *priv);
 
 #endif // _RTW_BR_EXT_H_
--- a/drivers/staging/rtl8192du/include/rtw_cmd.h
+++ b/drivers/staging/rtl8192du/include/rtw_cmd.h
@@ -40,7 +40,7 @@
 	#define CMDBUFF_ALIGN_SZ 512
 
 	struct cmd_obj {
-		_adapter *padapter;
+		struct rtw_adapter *padapter;
 		u16	cmdcode;
 		u8	res;
 		u8	*parmbuf;
@@ -63,7 +63,7 @@
 		u32	cmd_done_cnt;
 		u32	rsp_cnt;
 		u8 cmdthd_running;
-		_adapter *padapter;
+		struct rtw_adapter *padapter;
 	};
 
 #ifdef CONFIG_EVENT_THREAD_MODE
@@ -142,7 +142,7 @@ extern void rtw_free_evt_priv (struct ev
 extern void rtw_cmd_clr_isr(struct cmd_priv *pcmdpriv);
 extern void rtw_evt_notify_isr(struct evt_priv *pevtpriv);
 #ifdef CONFIG_P2P
-u8 p2p_protocol_wk_cmd(_adapter*padapter, int intCmdType );
+u8 p2p_protocol_wk_cmd(struct rtw_adapter*padapter, int intCmdType );
 #endif //CONFIG_P2P
 
 enum rtw_drvextra_cmd_id
@@ -909,73 +909,73 @@ Result:
 #define H2C_CMD_OVERFLOW		0x06
 #define H2C_RESERVED			0x07
 
-extern u8 rtw_setassocsta_cmd(_adapter  *padapter, u8 *mac_addr);
-extern u8 rtw_setstandby_cmd(_adapter *padapter, uint action);
-u8 rtw_sitesurvey_cmd(_adapter  *padapter, struct ndis_802_11_ssid *ssid, int ssid_num, struct rtw_ieee80211_channel *ch, int ch_num);
-extern u8 rtw_createbss_cmd(_adapter  *padapter);
-extern u8 rtw_createbss_cmd_ex(_adapter  *padapter, unsigned char *pbss, unsigned int sz);
-extern u8 rtw_setphy_cmd(_adapter  *padapter, u8 modem, u8 ch);
-extern u8 rtw_setstakey_cmd(_adapter  *padapter, u8 *psta, u8 unicast_key);
-extern u8 rtw_clearstakey_cmd(_adapter *padapter, u8 *psta, u8 entry, u8 enqueue);
-extern u8 rtw_joinbss_cmd(_adapter  *padapter, struct wlan_network* pnetwork);
-u8 rtw_disassoc_cmd(_adapter *padapter, u32 deauth_timeout_ms, bool enqueue);
-extern u8 rtw_setopmode_cmd(_adapter  *padapter, enum NDIS_802_11_NETWORK_INFRASTRUCTURE networktype);
-extern u8 rtw_setdatarate_cmd(_adapter  *padapter, u8 *rateset);
-extern u8 rtw_setbasicrate_cmd(_adapter  *padapter, u8 *rateset);
-extern u8 rtw_setbbreg_cmd(_adapter * padapter, u8 offset, u8 val);
-extern u8 rtw_setrfreg_cmd(_adapter * padapter, u8 offset, u32 val);
-extern u8 rtw_getbbreg_cmd(_adapter * padapter, u8 offset, u8 * pval);
-extern u8 rtw_getrfreg_cmd(_adapter * padapter, u8 offset, u8 * pval);
-extern u8 rtw_setrfintfs_cmd(_adapter  *padapter, u8 mode);
-extern u8 rtw_setrttbl_cmd(_adapter  *padapter, struct setratable_parm *prate_table);
-extern u8 rtw_getrttbl_cmd(_adapter  *padapter, struct getratable_rsp *pval);
-
-extern u8 rtw_gettssi_cmd(_adapter  *padapter, u8 offset,u8 *pval);
-extern u8 rtw_setfwdig_cmd(_adapter*padapter, u8 type);
-extern u8 rtw_setfwra_cmd(_adapter*padapter, u8 type);
+extern u8 rtw_setassocsta_cmd(struct rtw_adapter  *padapter, u8 *mac_addr);
+extern u8 rtw_setstandby_cmd(struct rtw_adapter *padapter, uint action);
+u8 rtw_sitesurvey_cmd(struct rtw_adapter  *padapter, struct ndis_802_11_ssid *ssid, int ssid_num, struct rtw_ieee80211_channel *ch, int ch_num);
+extern u8 rtw_createbss_cmd(struct rtw_adapter  *padapter);
+extern u8 rtw_createbss_cmd_ex(struct rtw_adapter  *padapter, unsigned char *pbss, unsigned int sz);
+extern u8 rtw_setphy_cmd(struct rtw_adapter  *padapter, u8 modem, u8 ch);
+extern u8 rtw_setstakey_cmd(struct rtw_adapter  *padapter, u8 *psta, u8 unicast_key);
+extern u8 rtw_clearstakey_cmd(struct rtw_adapter *padapter, u8 *psta, u8 entry, u8 enqueue);
+extern u8 rtw_joinbss_cmd(struct rtw_adapter  *padapter, struct wlan_network* pnetwork);
+u8 rtw_disassoc_cmd(struct rtw_adapter *padapter, u32 deauth_timeout_ms, bool enqueue);
+extern u8 rtw_setopmode_cmd(struct rtw_adapter  *padapter, enum NDIS_802_11_NETWORK_INFRASTRUCTURE networktype);
+extern u8 rtw_setdatarate_cmd(struct rtw_adapter  *padapter, u8 *rateset);
+extern u8 rtw_setbasicrate_cmd(struct rtw_adapter  *padapter, u8 *rateset);
+extern u8 rtw_setbbreg_cmd(struct rtw_adapter * padapter, u8 offset, u8 val);
+extern u8 rtw_setrfreg_cmd(struct rtw_adapter * padapter, u8 offset, u32 val);
+extern u8 rtw_getbbreg_cmd(struct rtw_adapter * padapter, u8 offset, u8 * pval);
+extern u8 rtw_getrfreg_cmd(struct rtw_adapter * padapter, u8 offset, u8 * pval);
+extern u8 rtw_setrfintfs_cmd(struct rtw_adapter  *padapter, u8 mode);
+extern u8 rtw_setrttbl_cmd(struct rtw_adapter  *padapter, struct setratable_parm *prate_table);
+extern u8 rtw_getrttbl_cmd(struct rtw_adapter  *padapter, struct getratable_rsp *pval);
+
+extern u8 rtw_gettssi_cmd(struct rtw_adapter  *padapter, u8 offset,u8 *pval);
+extern u8 rtw_setfwdig_cmd(struct rtw_adapter*padapter, u8 type);
+extern u8 rtw_setfwra_cmd(struct rtw_adapter*padapter, u8 type);
 
-extern u8 rtw_addbareq_cmd(_adapter*padapter, u8 tid, u8 *addr);
+extern u8 rtw_addbareq_cmd(struct rtw_adapter*padapter, u8 tid, u8 *addr);
 
-extern u8 rtw_dynamic_chk_wk_cmd(_adapter *adapter);
+extern u8 rtw_dynamic_chk_wk_cmd(struct rtw_adapter *adapter);
 
-u8 rtw_lps_ctrl_wk_cmd(_adapter*padapter, u8 lps_ctrl_type, u8 enqueue);
+u8 rtw_lps_ctrl_wk_cmd(struct rtw_adapter*padapter, u8 lps_ctrl_type, u8 enqueue);
 
 #ifdef CONFIG_ANTENNA_DIVERSITY
-extern  u8 rtw_antenna_select_cmd(_adapter*padapter, u8 antenna,u8 enqueue);
+extern  u8 rtw_antenna_select_cmd(struct rtw_adapter*padapter, u8 antenna,u8 enqueue);
 #endif
 
-extern u8 rtw_ps_cmd(_adapter*padapter);
+extern u8 rtw_ps_cmd(struct rtw_adapter*padapter);
 
 
 #ifdef CONFIG_AP_MODE
-u8 rtw_chk_hi_queue_cmd(_adapter*padapter);
+u8 rtw_chk_hi_queue_cmd(struct rtw_adapter*padapter);
 #endif
 
-u8 rtw_set_ch_cmd(_adapter*padapter, u8 ch, u8 bw, u8 ch_offset, u8 enqueue);
-extern u8 rtw_set_chplan_cmd(_adapter*padapter, u8 chplan, u8 enqueue);
-extern u8 rtw_led_blink_cmd(_adapter*padapter, struct LED_871X *pLed);
-extern u8 rtw_set_csa_cmd(_adapter*padapter, u8 new_ch_no);
-extern u8 rtw_tdls_cmd(_adapter*padapter, u8 *addr, u8 option);
-
-extern u8 rtw_c2h_wk_cmd(PADAPTER padapter, u8 *c2h_evt);
-
-u8 rtw_drvextra_cmd_hdl(_adapter *padapter, unsigned char *pbuf);
-
-extern void rtw_survey_cmd_callback(_adapter  *padapter, struct cmd_obj *pcmd);
-extern void rtw_disassoc_cmd_callback(_adapter  *padapter, struct cmd_obj *pcmd);
-extern void rtw_joinbss_cmd_callback(_adapter  *padapter, struct cmd_obj *pcmd);
-extern void rtw_createbss_cmd_callback(_adapter  *padapter, struct cmd_obj *pcmd);
-extern void rtw_getbbrfreg_cmdrsp_callback(_adapter  *padapter, struct cmd_obj *pcmd);
-extern void rtw_readtssi_cmdrsp_callback(_adapter*	padapter,  struct cmd_obj *pcmd);
-
-extern void rtw_setstaKey_cmdrsp_callback(_adapter  *padapter,  struct cmd_obj *pcmd);
-extern void rtw_setassocsta_cmdrsp_callback(_adapter  *padapter,  struct cmd_obj *pcmd);
-extern void rtw_getrttbl_cmdrsp_callback(_adapter  *padapter,  struct cmd_obj *pcmd);
+u8 rtw_set_ch_cmd(struct rtw_adapter*padapter, u8 ch, u8 bw, u8 ch_offset, u8 enqueue);
+extern u8 rtw_set_chplan_cmd(struct rtw_adapter*padapter, u8 chplan, u8 enqueue);
+extern u8 rtw_led_blink_cmd(struct rtw_adapter*padapter, struct LED_871X *pLed);
+extern u8 rtw_set_csa_cmd(struct rtw_adapter*padapter, u8 new_ch_no);
+extern u8 rtw_tdls_cmd(struct rtw_adapter*padapter, u8 *addr, u8 option);
+
+extern u8 rtw_c2h_wk_cmd(struct rtw_adapter * padapter, u8 *c2h_evt);
+
+u8 rtw_drvextra_cmd_hdl(struct rtw_adapter *padapter, unsigned char *pbuf);
+
+extern void rtw_survey_cmd_callback(struct rtw_adapter  *padapter, struct cmd_obj *pcmd);
+extern void rtw_disassoc_cmd_callback(struct rtw_adapter  *padapter, struct cmd_obj *pcmd);
+extern void rtw_joinbss_cmd_callback(struct rtw_adapter  *padapter, struct cmd_obj *pcmd);
+extern void rtw_createbss_cmd_callback(struct rtw_adapter  *padapter, struct cmd_obj *pcmd);
+extern void rtw_getbbrfreg_cmdrsp_callback(struct rtw_adapter  *padapter, struct cmd_obj *pcmd);
+extern void rtw_readtssi_cmdrsp_callback(struct rtw_adapter*	padapter,  struct cmd_obj *pcmd);
+
+extern void rtw_setstaKey_cmdrsp_callback(struct rtw_adapter  *padapter,  struct cmd_obj *pcmd);
+extern void rtw_setassocsta_cmdrsp_callback(struct rtw_adapter  *padapter,  struct cmd_obj *pcmd);
+extern void rtw_getrttbl_cmdrsp_callback(struct rtw_adapter  *padapter,  struct cmd_obj *pcmd);
 
 
 struct _cmd_callback {
 	u32	cmd_code;
-	void (*callback)(_adapter  *padapter, struct cmd_obj *cmd);
+	void (*callback)(struct rtw_adapter  *padapter, struct cmd_obj *cmd);
 };
 
 enum rtw_h2c_cmd
--- a/drivers/staging/rtl8192du/include/rtw_eeprom.h
+++ b/drivers/staging/rtl8192du/include/rtw_eeprom.h
@@ -112,12 +112,12 @@ struct eeprom_priv
 };
 
 
-extern void eeprom_write16(_adapter *padapter, u16 reg, u16 data);
-extern u16 eeprom_read16(_adapter *padapter, u16 reg);
-extern void read_eeprom_content(_adapter *padapter);
-extern void eeprom_read_sz(_adapter * padapter, u16 reg,u8* data, u32 sz);
+extern void eeprom_write16(struct rtw_adapter *padapter, u16 reg, u16 data);
+extern u16 eeprom_read16(struct rtw_adapter *padapter, u16 reg);
+extern void read_eeprom_content(struct rtw_adapter *padapter);
+extern void eeprom_read_sz(struct rtw_adapter * padapter, u16 reg,u8* data, u32 sz);
 
-extern void read_eeprom_content_by_attrib(_adapter *	padapter	);
+extern void read_eeprom_content_by_attrib(struct rtw_adapter *	padapter	);
 
 #ifdef CONFIG_ADAPTOR_INFO_CACHING_FILE
 extern int isAdaptorInfoFileValid(void);
--- a/drivers/staging/rtl8192du/include/rtw_efuse.h
+++ b/drivers/staging/rtl8192du/include/rtw_efuse.h
@@ -97,27 +97,27 @@ extern u8 fakeBTEfuseInitMap[];
 extern u8 fakeBTEfuseModifiedMap[];
 /*------------------------Export global variable----------------------------*/
 
-u8	efuse_GetCurrentSize(PADAPTER padapter, u16 *size);
-u16	efuse_GetMaxSize(PADAPTER padapter);
-u8	rtw_efuse_access(PADAPTER padapter, u8 bRead, u16 start_addr, u16 cnts, u8 *data);
-u8	rtw_efuse_map_read(PADAPTER padapter, u16 addr, u16 cnts, u8 *data);
-u8	rtw_efuse_map_write(PADAPTER padapter, u16 addr, u16 cnts, u8 *data);
+u8	efuse_GetCurrentSize(struct rtw_adapter * padapter, u16 *size);
+u16	efuse_GetMaxSize(struct rtw_adapter * padapter);
+u8	rtw_efuse_access(struct rtw_adapter * padapter, u8 bRead, u16 start_addr, u16 cnts, u8 *data);
+u8	rtw_efuse_map_read(struct rtw_adapter * padapter, u16 addr, u16 cnts, u8 *data);
+u8	rtw_efuse_map_write(struct rtw_adapter * padapter, u16 addr, u16 cnts, u8 *data);
 
-u16	Efuse_GetCurrentSize(PADAPTER pAdapter, u8 efuseType, bool bPseudoTest);
+u16	Efuse_GetCurrentSize(struct rtw_adapter * pAdapter, u8 efuseType, bool bPseudoTest);
 u8	Efuse_CalculateWordCnts(u8 word_en);
-void	ReadEFuseByte(PADAPTER Adapter, u16 _offset, u8 *pbuf, bool bPseudoTest) ;
-void	EFUSE_GetEfuseDefinition(PADAPTER pAdapter, u8 efuseType, u8 type, void *pOut, bool bPseudoTest);
-u8	efuse_OneByteRead(PADAPTER pAdapter, u16 addr, u8 *data, bool	 bPseudoTest);
-u8	efuse_OneByteWrite(PADAPTER pAdapter, u16 addr, u8 data, bool	 bPseudoTest);
+void	ReadEFuseByte(struct rtw_adapter * Adapter, u16 _offset, u8 *pbuf, bool bPseudoTest) ;
+void	EFUSE_GetEfuseDefinition(struct rtw_adapter * pAdapter, u8 efuseType, u8 type, void *pOut, bool bPseudoTest);
+u8	efuse_OneByteRead(struct rtw_adapter * pAdapter, u16 addr, u8 *data, bool	 bPseudoTest);
+u8	efuse_OneByteWrite(struct rtw_adapter * pAdapter, u16 addr, u8 data, bool	 bPseudoTest);
 
-void	Efuse_PowerSwitch(PADAPTER pAdapter,u8	bWrite,u8	 PwrState);
-int	Efuse_PgPacketRead(PADAPTER pAdapter, u8 offset, u8 *data, bool bPseudoTest);
-int	Efuse_PgPacketWrite(PADAPTER pAdapter, u8 offset, u8 word_en, u8 *data, bool bPseudoTest);
+void	Efuse_PowerSwitch(struct rtw_adapter * pAdapter,u8	bWrite,u8	 PwrState);
+int	Efuse_PgPacketRead(struct rtw_adapter * pAdapter, u8 offset, u8 *data, bool bPseudoTest);
+int	Efuse_PgPacketWrite(struct rtw_adapter * pAdapter, u8 offset, u8 word_en, u8 *data, bool bPseudoTest);
 void	efuse_WordEnableDataRead(u8 word_en, u8 *sourdata, u8 *targetdata);
-u8	Efuse_WordEnableDataWrite(PADAPTER pAdapter, u16 efuse_addr, u8 word_en, u8 *data, bool bPseudoTest);
+u8	Efuse_WordEnableDataWrite(struct rtw_adapter * pAdapter, u16 efuse_addr, u8 word_en, u8 *data, bool bPseudoTest);
 
-u8	EFUSE_Read1Byte(PADAPTER pAdapter, u16 Address);
-void	EFUSE_ShadowMapUpdate(PADAPTER pAdapter, u8 efuseType, bool bPseudoTest);
-void	EFUSE_ShadowRead(PADAPTER pAdapter, u8 Type, u16 Offset, u32 *Value);
+u8	EFUSE_Read1Byte(struct rtw_adapter * pAdapter, u16 Address);
+void	EFUSE_ShadowMapUpdate(struct rtw_adapter * pAdapter, u8 efuseType, bool bPseudoTest);
+void	EFUSE_ShadowRead(struct rtw_adapter * pAdapter, u8 Type, u16 Offset, u32 *Value);
 
 #endif
--- a/drivers/staging/rtl8192du/include/rtw_event.h
+++ b/drivers/staging/rtl8192du/include/rtw_event.h
@@ -112,7 +112,7 @@ struct c2hlbk_event{
 
 struct fwevent {
 	u32	parmsize;
-	void (*event_callback)(_adapter *dev, u8 *pbuf);
+	void (*event_callback)(struct rtw_adapter *dev, u8 *pbuf);
 };
 
 
--- a/drivers/staging/rtl8192du/include/rtw_io.h
+++ b/drivers/staging/rtl8192du/include/rtw_io.h
@@ -159,12 +159,12 @@ struct io_req {
 	u8	*pbuf;
 	struct  semaphore sema;
 
-	void (*_async_io_callback)(_adapter *padater, struct io_req *pio_req, u8 *cnxt);
+	void (*_async_io_callback)(struct rtw_adapter *padater, struct io_req *pio_req, u8 *cnxt);
 	u8 *cnxt;
 };
 
 struct	intf_hdl {
-	_adapter *padapter;
+	struct rtw_adapter *padapter;
 	struct dvobj_priv *pintf_dev;//	pointer to &(padapter->dvobjpriv);
 	struct _io_ops	io_ops;
 };
@@ -300,15 +300,15 @@ struct io_queue {
 
 struct io_priv{
 
-	_adapter *padapter;
+	struct rtw_adapter *padapter;
 
 	struct intf_hdl intf;
 
 };
 
-extern uint ioreq_flush(_adapter *adapter, struct io_queue *ioqueue);
+extern uint ioreq_flush(struct rtw_adapter *adapter, struct io_queue *ioqueue);
 extern void sync_ioreq_enqueue(struct io_req *preq,struct io_queue *ioqueue);
-extern uint sync_ioreq_flush(_adapter *adapter, struct io_queue *ioqueue);
+extern uint sync_ioreq_flush(struct rtw_adapter *adapter, struct io_queue *ioqueue);
 
 
 extern uint free_ioreq(struct io_req *preq, struct io_queue *pio_queue);
@@ -317,43 +317,43 @@ extern struct io_req *alloc_ioreq(struct
 extern uint register_intf_hdl(u8 *dev, struct intf_hdl *pintfhdl);
 extern void unregister_intf_hdl(struct intf_hdl *pintfhdl);
 
-extern void _rtw_attrib_read(_adapter *adapter, u32 addr, u32 cnt, u8 *pmem);
-extern void _rtw_attrib_write(_adapter *adapter, u32 addr, u32 cnt, u8 *pmem);
+extern void _rtw_attrib_read(struct rtw_adapter *adapter, u32 addr, u32 cnt, u8 *pmem);
+extern void _rtw_attrib_write(struct rtw_adapter *adapter, u32 addr, u32 cnt, u8 *pmem);
 
-extern u8 _rtw_read8(_adapter *adapter, u32 addr);
-extern u16 _rtw_read16(_adapter *adapter, u32 addr);
-extern u32 _rtw_read32(_adapter *adapter, u32 addr);
-extern void _rtw_read_mem(_adapter *adapter, u32 addr, u32 cnt, u8 *pmem);
-extern void _rtw_read_port(_adapter *adapter, u32 addr, u32 cnt, u8 *pmem);
-extern void _rtw_read_port_cancel(_adapter *adapter);
-
-
-extern int _rtw_write8(_adapter *adapter, u32 addr, u8 val);
-extern int _rtw_write16(_adapter *adapter, u32 addr, u16 val);
-extern int _rtw_write32(_adapter *adapter, u32 addr, u32 val);
-extern int _rtw_writeN(_adapter *adapter, u32 addr, u32 length, u8 *pdata);
-
-extern int _rtw_write8_async(_adapter *adapter, u32 addr, u8 val);
-extern int _rtw_write16_async(_adapter *adapter, u32 addr, u16 val);
-extern int _rtw_write32_async(_adapter *adapter, u32 addr, u32 val);
-
-extern void _rtw_write_mem(_adapter *adapter, u32 addr, u32 cnt, u8 *pmem);
-extern u32 _rtw_write_port(_adapter *adapter, u32 addr, u32 cnt, u8 *pmem);
-u32 _rtw_write_port_and_wait(_adapter *adapter, u32 addr, u32 cnt, u8 *pmem, int timeout_ms);
-extern void _rtw_write_port_cancel(_adapter *adapter);
+extern u8 _rtw_read8(struct rtw_adapter *adapter, u32 addr);
+extern u16 _rtw_read16(struct rtw_adapter *adapter, u32 addr);
+extern u32 _rtw_read32(struct rtw_adapter *adapter, u32 addr);
+extern void _rtw_read_mem(struct rtw_adapter *adapter, u32 addr, u32 cnt, u8 *pmem);
+extern void _rtw_read_port(struct rtw_adapter *adapter, u32 addr, u32 cnt, u8 *pmem);
+extern void _rtw_read_port_cancel(struct rtw_adapter *adapter);
+
+
+extern int _rtw_write8(struct rtw_adapter *adapter, u32 addr, u8 val);
+extern int _rtw_write16(struct rtw_adapter *adapter, u32 addr, u16 val);
+extern int _rtw_write32(struct rtw_adapter *adapter, u32 addr, u32 val);
+extern int _rtw_writeN(struct rtw_adapter *adapter, u32 addr, u32 length, u8 *pdata);
+
+extern int _rtw_write8_async(struct rtw_adapter *adapter, u32 addr, u8 val);
+extern int _rtw_write16_async(struct rtw_adapter *adapter, u32 addr, u16 val);
+extern int _rtw_write32_async(struct rtw_adapter *adapter, u32 addr, u32 val);
+
+extern void _rtw_write_mem(struct rtw_adapter *adapter, u32 addr, u32 cnt, u8 *pmem);
+extern u32 _rtw_write_port(struct rtw_adapter *adapter, u32 addr, u32 cnt, u8 *pmem);
+u32 _rtw_write_port_and_wait(struct rtw_adapter *adapter, u32 addr, u32 cnt, u8 *pmem, int timeout_ms);
+extern void _rtw_write_port_cancel(struct rtw_adapter *adapter);
 
 #ifdef DBG_IO
 bool match_read_sniff_ranges(u16 addr, u16 len);
 bool match_write_sniff_ranges(u16 addr, u16 len);
 
-extern u8 dbg_rtw_read8(_adapter *adapter, u32 addr, const char *caller, const int line);
-extern u16 dbg_rtw_read16(_adapter *adapter, u32 addr, const char *caller, const int line);
-extern u32 dbg_rtw_read32(_adapter *adapter, u32 addr, const char *caller, const int line);
-
-extern int dbg_rtw_write8(_adapter *adapter, u32 addr, u8 val, const char *caller, const int line);
-extern int dbg_rtw_write16(_adapter *adapter, u32 addr, u16 val, const char *caller, const int line);
-extern int dbg_rtw_write32(_adapter *adapter, u32 addr, u32 val, const char *caller, const int line);
-extern int dbg_rtw_writeN(_adapter *adapter, u32 addr ,u32 length , u8 *data, const char *caller, const int line);
+extern u8 dbg_rtw_read8(struct rtw_adapter *adapter, u32 addr, const char *caller, const int line);
+extern u16 dbg_rtw_read16(struct rtw_adapter *adapter, u32 addr, const char *caller, const int line);
+extern u32 dbg_rtw_read32(struct rtw_adapter *adapter, u32 addr, const char *caller, const int line);
+
+extern int dbg_rtw_write8(struct rtw_adapter *adapter, u32 addr, u8 val, const char *caller, const int line);
+extern int dbg_rtw_write16(struct rtw_adapter *adapter, u32 addr, u16 val, const char *caller, const int line);
+extern int dbg_rtw_write32(struct rtw_adapter *adapter, u32 addr, u32 val, const char *caller, const int line);
+extern int dbg_rtw_writeN(struct rtw_adapter *adapter, u32 addr ,u32 length , u8 *data, const char *caller, const int line);
 
 #define rtw_read8(adapter, addr) dbg_rtw_read8((adapter), (addr), __FUNCTION__, __LINE__)
 #define rtw_read16(adapter, addr) dbg_rtw_read16((adapter), (addr), __FUNCTION__, __LINE__)
@@ -398,47 +398,47 @@ extern int dbg_rtw_writeN(_adapter *adap
 #define rtw_write_port_cancel(adapter) _rtw_write_port_cancel((adapter))
 #endif //DBG_IO
 
-extern void rtw_write_scsi(_adapter *adapter, u32 cnt, u8 *pmem);
+extern void rtw_write_scsi(struct rtw_adapter *adapter, u32 cnt, u8 *pmem);
 
 //ioreq
-extern void ioreq_read8(_adapter *adapter, u32 addr, u8 *pval);
-extern void ioreq_read16(_adapter *adapter, u32 addr, u16 *pval);
-extern void ioreq_read32(_adapter *adapter, u32 addr, u32 *pval);
-extern void ioreq_write8(_adapter *adapter, u32 addr, u8 val);
-extern void ioreq_write16(_adapter *adapter, u32 addr, u16 val);
-extern void ioreq_write32(_adapter *adapter, u32 addr, u32 val);
+extern void ioreq_read8(struct rtw_adapter *adapter, u32 addr, u8 *pval);
+extern void ioreq_read16(struct rtw_adapter *adapter, u32 addr, u16 *pval);
+extern void ioreq_read32(struct rtw_adapter *adapter, u32 addr, u32 *pval);
+extern void ioreq_write8(struct rtw_adapter *adapter, u32 addr, u8 val);
+extern void ioreq_write16(struct rtw_adapter *adapter, u32 addr, u16 val);
+extern void ioreq_write32(struct rtw_adapter *adapter, u32 addr, u32 val);
 
 
-extern uint async_read8(_adapter *adapter, u32 addr, u8 *pbuff,
-	void (*_async_io_callback)(_adapter *padater, struct io_req *pio_req, u8 *cnxt), u8 *cnxt);
-extern uint async_read16(_adapter *adapter, u32 addr,  u8 *pbuff,
-	void (*_async_io_callback)(_adapter *padater, struct io_req *pio_req, u8 *cnxt), u8 *cnxt);
-extern uint async_read32(_adapter *adapter, u32 addr,  u8 *pbuff,
-	void (*_async_io_callback)(_adapter *padater, struct io_req *pio_req, u8 *cnxt), u8 *cnxt);
+extern uint async_read8(struct rtw_adapter *adapter, u32 addr, u8 *pbuff,
+	void (*_async_io_callback)(struct rtw_adapter *padater, struct io_req *pio_req, u8 *cnxt), u8 *cnxt);
+extern uint async_read16(struct rtw_adapter *adapter, u32 addr,  u8 *pbuff,
+	void (*_async_io_callback)(struct rtw_adapter *padater, struct io_req *pio_req, u8 *cnxt), u8 *cnxt);
+extern uint async_read32(struct rtw_adapter *adapter, u32 addr,  u8 *pbuff,
+	void (*_async_io_callback)(struct rtw_adapter *padater, struct io_req *pio_req, u8 *cnxt), u8 *cnxt);
 
-extern void async_read_mem(_adapter *adapter, u32 addr, u32 cnt, u8 *pmem);
-extern void async_read_port(_adapter *adapter, u32 addr, u32 cnt, u8 *pmem);
+extern void async_read_mem(struct rtw_adapter *adapter, u32 addr, u32 cnt, u8 *pmem);
+extern void async_read_port(struct rtw_adapter *adapter, u32 addr, u32 cnt, u8 *pmem);
 
-extern void async_write8(_adapter *adapter, u32 addr, u8 val,
-	void (*_async_io_callback)(_adapter *padater, struct io_req *pio_req, u8 *cnxt), u8 *cnxt);
-extern void async_write16(_adapter *adapter, u32 addr, u16 val,
-	void (*_async_io_callback)(_adapter *padater, struct io_req *pio_req, u8 *cnxt), u8 *cnxt);
-extern void async_write32(_adapter *adapter, u32 addr, u32 val,
-	void (*_async_io_callback)(_adapter *padater, struct io_req *pio_req, u8 *cnxt), u8 *cnxt);
+extern void async_write8(struct rtw_adapter *adapter, u32 addr, u8 val,
+	void (*_async_io_callback)(struct rtw_adapter *padater, struct io_req *pio_req, u8 *cnxt), u8 *cnxt);
+extern void async_write16(struct rtw_adapter *adapter, u32 addr, u16 val,
+	void (*_async_io_callback)(struct rtw_adapter *padater, struct io_req *pio_req, u8 *cnxt), u8 *cnxt);
+extern void async_write32(struct rtw_adapter *adapter, u32 addr, u32 val,
+	void (*_async_io_callback)(struct rtw_adapter *padater, struct io_req *pio_req, u8 *cnxt), u8 *cnxt);
 
-extern void async_write_mem(_adapter *adapter, u32 addr, u32 cnt, u8 *pmem);
-extern void async_write_port(_adapter *adapter, u32 addr, u32 cnt, u8 *pmem);
+extern void async_write_mem(struct rtw_adapter *adapter, u32 addr, u32 cnt, u8 *pmem);
+extern void async_write_port(struct rtw_adapter *adapter, u32 addr, u32 cnt, u8 *pmem);
 
 
-int rtw_init_io_priv(_adapter *padapter, void (*set_intf_ops)(struct _io_ops *pops));
+int rtw_init_io_priv(struct rtw_adapter *padapter, void (*set_intf_ops)(struct _io_ops *pops));
 
 
-extern uint alloc_io_queue(_adapter *adapter);
-extern void free_io_queue(_adapter *adapter);
+extern uint alloc_io_queue(struct rtw_adapter *adapter);
+extern void free_io_queue(struct rtw_adapter *adapter);
 extern void async_bus_io(struct io_queue *pio_q);
 extern void bus_sync_io(struct io_queue *pio_q);
 extern u32 _ioreq2rwmem(struct io_queue *pio_q);
-extern void dev_power_down(_adapter * Adapter, u8 bpwrup);
+extern void dev_power_down(struct rtw_adapter * Adapter, u8 bpwrup);
 
 /*
 #define RTL_R8(reg)		rtw_read8(padapter, reg)
--- a/drivers/staging/rtl8192du/include/rtw_ioctl_set.h
+++ b/drivers/staging/rtl8192du/include/rtw_ioctl_set.h
@@ -23,22 +23,22 @@
 #include <drv_conf.h>
 #include <drv_types.h>
 
-u8 rtw_set_802_11_add_key(_adapter * padapter, NDIS_802_11_KEY * key);
-u8 rtw_set_802_11_authentication_mode(_adapter *pdapter, enum NDIS_802_11_AUTHENTICATION_MODE authmode);
-u8 rtw_set_802_11_bssid(_adapter* padapter, u8 *bssid);
-u8 rtw_set_802_11_add_wep(_adapter * padapter, NDIS_802_11_WEP * wep);
-u8 rtw_set_802_11_disassociate(_adapter * padapter);
-u8 rtw_set_802_11_bssid_list_scan(_adapter* padapter, struct ndis_802_11_ssid *pssid, int ssid_max_num);
-u8 rtw_set_802_11_infrastructure_mode(_adapter * padapter, enum NDIS_802_11_NETWORK_INFRASTRUCTURE networktype);
-u8 rtw_set_802_11_remove_wep(_adapter * padapter, u32 keyindex);
-u8 rtw_set_802_11_ssid(_adapter * padapter, struct ndis_802_11_ssid * ssid);
-u8 rtw_set_802_11_remove_key(_adapter * padapter, NDIS_802_11_REMOVE_KEY * key);
+u8 rtw_set_802_11_add_key(struct rtw_adapter * padapter, NDIS_802_11_KEY * key);
+u8 rtw_set_802_11_authentication_mode(struct rtw_adapter *pdapter, enum NDIS_802_11_AUTHENTICATION_MODE authmode);
+u8 rtw_set_802_11_bssid(struct rtw_adapter* padapter, u8 *bssid);
+u8 rtw_set_802_11_add_wep(struct rtw_adapter * padapter, NDIS_802_11_WEP * wep);
+u8 rtw_set_802_11_disassociate(struct rtw_adapter * padapter);
+u8 rtw_set_802_11_bssid_list_scan(struct rtw_adapter* padapter, struct ndis_802_11_ssid *pssid, int ssid_max_num);
+u8 rtw_set_802_11_infrastructure_mode(struct rtw_adapter * padapter, enum NDIS_802_11_NETWORK_INFRASTRUCTURE networktype);
+u8 rtw_set_802_11_remove_wep(struct rtw_adapter * padapter, u32 keyindex);
+u8 rtw_set_802_11_ssid(struct rtw_adapter * padapter, struct ndis_802_11_ssid * ssid);
+u8 rtw_set_802_11_remove_key(struct rtw_adapter * padapter, NDIS_802_11_REMOVE_KEY * key);
 
 u8 rtw_validate_ssid(struct ndis_802_11_ssid *ssid);
 
-u16 rtw_get_cur_max_rate(_adapter *adapter);
-int rtw_set_scan_mode(_adapter *adapter, enum RT_SCAN_TYPE scan_mode);
-int rtw_set_channel_plan(_adapter *adapter, u8 channel_plan);
-int rtw_set_country(_adapter *adapter, const char *country_code);
+u16 rtw_get_cur_max_rate(struct rtw_adapter *adapter);
+int rtw_set_scan_mode(struct rtw_adapter *adapter, enum RT_SCAN_TYPE scan_mode);
+int rtw_set_channel_plan(struct rtw_adapter *adapter, u8 channel_plan);
+int rtw_set_country(struct rtw_adapter *adapter, const char *country_code);
 
 #endif
--- a/drivers/staging/rtl8192du/include/rtw_iol.h
+++ b/drivers/staging/rtl8192du/include/rtw_iol.h
@@ -48,7 +48,7 @@ IOL_CMD_DELAY_MS	-				B6~B7
 IOL_CMD_END		-				-
 ******************************************************/
 
-struct xmit_frame	*rtw_IOL_accquire_xmit_frame(ADAPTER *adapter);
+struct xmit_frame	*rtw_IOL_accquire_xmit_frame(struct rtw_adapter *adapter);
 int rtw_IOL_append_cmds(struct xmit_frame *xmit_frame, u8 *IOL_cmds, u32 cmd_len);
 int rtw_IOL_append_LLT_cmd(struct xmit_frame *xmit_frame, u8 page_boundary);
 int _rtw_IOL_append_WB_cmd(struct xmit_frame *xmit_frame, u16 addr, u8 value);
@@ -57,9 +57,9 @@ int _rtw_IOL_append_WD_cmd(struct xmit_f
 int rtw_IOL_append_DELAY_US_cmd(struct xmit_frame *xmit_frame, u16 us);
 int rtw_IOL_append_DELAY_MS_cmd(struct xmit_frame *xmit_frame, u16 ms);
 int rtw_IOL_append_END_cmd(struct xmit_frame *xmit_frame);
-int rtw_IOL_exec_cmds_sync(ADAPTER *adapter, struct xmit_frame *xmit_frame, u32 max_wating_ms);
-int rtw_IOL_exec_cmd_array_sync(PADAPTER adapter, u8 *IOL_cmds, u32 cmd_num, u32 max_wating_ms);
-int rtw_IOL_exec_empty_cmds_sync(ADAPTER *adapter, u32 max_wating_ms);
+int rtw_IOL_exec_cmds_sync(struct rtw_adapter *adapter, struct xmit_frame *xmit_frame, u32 max_wating_ms);
+int rtw_IOL_exec_cmd_array_sync(struct rtw_adapter *adapter, u8 *IOL_cmds, u32 cmd_num, u32 max_wating_ms);
+int rtw_IOL_exec_empty_cmds_sync(struct rtw_adapter *adapter, u32 max_wating_ms);
 
 #ifdef DBG_IO
 int dbg_rtw_IOL_append_WB_cmd(struct xmit_frame *xmit_frame, u16 addr, u8 value, const char *caller, const int line);
@@ -74,6 +74,6 @@ int dbg_rtw_IOL_append_WD_cmd(struct xmi
 #define rtw_IOL_append_WD_cmd(xmit_frame, addr, value) _rtw_IOL_append_WD_cmd((xmit_frame), (addr), (value))
 #endif
 
-bool rtw_IOL_applied(ADAPTER *adapter);
+bool rtw_IOL_applied(struct rtw_adapter *adapter);
 
 #endif //__RTW_IOL_H_
--- a/drivers/staging/rtl8192du/include/rtw_led.h
+++ b/drivers/staging/rtl8192du/include/rtw_led.h
@@ -77,7 +77,7 @@ enum LED_PIN_871X {
 };
 
 struct LED_871X {
-	_adapter				*padapter;
+	struct rtw_adapter				*padapter;
 	enum LED_PIN_871X		LedPin;	// Identify how to implement this SW led.
 	enum LED_STATE_871X		CurrLedState; // Current LED state.
 	u8					bLedOn; // true if LED is ON, false if LED is OFF.
@@ -123,7 +123,7 @@ struct led_priv{
 	struct LED_871X			SwLed1;
 	enum LED_STRATEGY_871X	LedStrategy;
 	u8					bRegUseLed;
-	void (*LedControlHandler)(_adapter *padapter, enum LED_CTL_MODE LedAction);
+	void (*LedControlHandler)(struct rtw_adapter *padapter, enum LED_CTL_MODE LedAction);
 	/* add for led controll */
 };
 
--- a/drivers/staging/rtl8192du/include/rtw_mlme.h
+++ b/drivers/staging/rtl8192du/include/rtw_mlme.h
@@ -256,7 +256,7 @@ struct cfg80211_wifidirect_info{
 #endif //CONFIG_IOCTL_CFG80211
 
 struct wifidirect_info{
-	_adapter*				padapter;
+	struct rtw_adapter *padapter;
 	struct timer_list			find_phase_timer;
 	struct timer_list			restore_p2p_state_timer;
 
@@ -557,7 +557,7 @@ struct mlme_priv {
 
 struct hostapd_priv
 {
-	_adapter *padapter;
+	struct rtw_adapter *padapter;
 
 #ifdef CONFIG_HOSTAPD_MLME
 	struct net_device *pmgnt_netdev;
@@ -566,29 +566,29 @@ struct hostapd_priv
 
 };
 
-extern int hostapd_mode_init(_adapter *padapter);
-extern void hostapd_mode_unload(_adapter *padapter);
+extern int hostapd_mode_init(struct rtw_adapter *padapter);
+extern void hostapd_mode_unload(struct rtw_adapter *padapter);
 #endif
 
 
-extern void rtw_joinbss_event_prehandle(_adapter *adapter, u8 *pbuf);
-extern void rtw_survey_event_callback(_adapter *adapter, u8 *pbuf);
-extern void rtw_surveydone_event_callback(_adapter *adapter, u8 *pbuf);
-extern void rtw_joinbss_event_callback(_adapter *adapter, u8 *pbuf);
-extern void rtw_stassoc_event_callback(_adapter *adapter, u8 *pbuf);
-extern void rtw_stadel_event_callback(_adapter *adapter, u8 *pbuf);
-extern void rtw_atimdone_event_callback(_adapter *adapter, u8 *pbuf);
-extern void rtw_cpwm_event_callback(_adapter *adapter, u8 *pbuf);
+extern void rtw_joinbss_event_prehandle(struct rtw_adapter *adapter, u8 *pbuf);
+extern void rtw_survey_event_callback(struct rtw_adapter *adapter, u8 *pbuf);
+extern void rtw_surveydone_event_callback(struct rtw_adapter *adapter, u8 *pbuf);
+extern void rtw_joinbss_event_callback(struct rtw_adapter *adapter, u8 *pbuf);
+extern void rtw_stassoc_event_callback(struct rtw_adapter *adapter, u8 *pbuf);
+extern void rtw_stadel_event_callback(struct rtw_adapter *adapter, u8 *pbuf);
+extern void rtw_atimdone_event_callback(struct rtw_adapter *adapter, u8 *pbuf);
+extern void rtw_cpwm_event_callback(struct rtw_adapter *adapter, u8 *pbuf);
 
 extern int event_thread(void *context);
 extern void rtw_join_timeout_handler(void* FunctionContext);
 extern void _rtw_scan_timeout_handler(void* FunctionContext);
-extern void rtw_free_network_queue(_adapter *adapter,u8 isfreeall);
-extern int rtw_init_mlme_priv(_adapter *adapter);// (struct mlme_priv *pmlmepriv);
+extern void rtw_free_network_queue(struct rtw_adapter *adapter,u8 isfreeall);
+extern int rtw_init_mlme_priv(struct rtw_adapter *adapter);// (struct mlme_priv *pmlmepriv);
 extern void rtw_free_mlme_priv (struct mlme_priv *pmlmepriv);
 extern int rtw_select_and_join_from_scanned_queue(struct mlme_priv *pmlmepriv);
-extern int rtw_set_key(_adapter *adapter,struct security_priv *psecuritypriv,int keyid, u8 set_tx);
-extern int rtw_set_auth(_adapter *adapter,struct security_priv *psecuritypriv);
+extern int rtw_set_key(struct rtw_adapter *adapter,struct security_priv *psecuritypriv,int keyid, u8 set_tx);
+extern int rtw_set_auth(struct rtw_adapter *adapter,struct security_priv *psecuritypriv);
 
 __inline static u8 *get_bssid(struct mlme_priv *pmlmepriv)
 {	//if sta_mode:pmlmepriv->cur_network.network.MacAddress=> bssid
@@ -653,8 +653,8 @@ __inline static void up_scanned_network(
 }
 
 #ifdef CONFIG_CONCURRENT_MODE
-int rtw_buddy_adapter_up(_adapter *padapter);
-int check_buddy_fwstate(_adapter *padapter, int state);
+int rtw_buddy_adapter_up(struct rtw_adapter *padapter);
+int check_buddy_fwstate(struct rtw_adapter *padapter, int state);
 #endif //CONFIG_CONCURRENT_MODE
 
 __inline static void down_scanned_network(struct mlme_priv *pmlmepriv)
@@ -672,35 +672,35 @@ __inline static void set_scanned_network
 }
 
 extern u16 rtw_get_capability(WLAN_BSSID_EX *bss);
-extern void rtw_update_scanned_network(_adapter *adapter, WLAN_BSSID_EX *target);
-extern void rtw_disconnect_hdl_under_linked(_adapter* adapter, struct sta_info *psta, u8 free_assoc);
+extern void rtw_update_scanned_network(struct rtw_adapter *adapter, WLAN_BSSID_EX *target);
+extern void rtw_disconnect_hdl_under_linked(struct rtw_adapter* adapter, struct sta_info *psta, u8 free_assoc);
 extern void rtw_generate_random_ibss(u8 *pibss);
 extern struct wlan_network* rtw_find_network(struct __queue *scanned_queue, u8 *addr);
 extern struct wlan_network* rtw_get_oldest_wlan_network(struct __queue *scanned_queue);
 
-extern void rtw_free_assoc_resources(_adapter* adapter, int lock_scanned_queue);
-extern void rtw_indicate_disconnect(_adapter* adapter);
-extern void rtw_indicate_connect(_adapter* adapter);
-void rtw_indicate_scan_done( _adapter *padapter, bool aborted);
-void rtw_scan_abort(_adapter *adapter);
+extern void rtw_free_assoc_resources(struct rtw_adapter* adapter, int lock_scanned_queue);
+extern void rtw_indicate_disconnect(struct rtw_adapter* adapter);
+extern void rtw_indicate_connect(struct rtw_adapter* adapter);
+void rtw_indicate_scan_done(struct rtw_adapter *padapter, bool aborted);
+void rtw_scan_abort(struct rtw_adapter *adapter);
 
-extern int rtw_restruct_sec_ie(_adapter *adapter,u8 *in_ie,u8 *out_ie,uint in_len);
-extern int rtw_restruct_wmm_ie(_adapter *adapter, u8 *in_ie, u8 *out_ie, uint in_len, uint initial_out_len);
-extern void rtw_init_registrypriv_dev_network(_adapter *adapter);
+extern int rtw_restruct_sec_ie(struct rtw_adapter *adapter,u8 *in_ie,u8 *out_ie,uint in_len);
+extern int rtw_restruct_wmm_ie(struct rtw_adapter *adapter, u8 *in_ie, u8 *out_ie, uint in_len, uint initial_out_len);
+extern void rtw_init_registrypriv_dev_network(struct rtw_adapter *adapter);
 
-extern void rtw_update_registrypriv_dev_network(_adapter *adapter);
+extern void rtw_update_registrypriv_dev_network(struct rtw_adapter *adapter);
 
-extern void rtw_get_encrypt_decrypt_from_registrypriv(_adapter *adapter);
+extern void rtw_get_encrypt_decrypt_from_registrypriv(struct rtw_adapter *adapter);
 
-extern void _rtw_join_timeout_handler(_adapter *adapter);
-extern void rtw_scan_timeout_handler(_adapter *adapter);
+extern void _rtw_join_timeout_handler(struct rtw_adapter *adapter);
+extern void rtw_scan_timeout_handler(struct rtw_adapter *adapter);
 
-extern void rtw_dynamic_check_timer_handlder(_adapter *adapter);
+extern void rtw_dynamic_check_timer_handlder(struct rtw_adapter *adapter);
 #ifdef CONFIG_SET_SCAN_DENY_TIMER
-bool rtw_is_scan_deny(_adapter *adapter);
-void rtw_clear_scan_deny(_adapter *adapter);
-void rtw_set_scan_deny_timer_hdl(_adapter *adapter);
-void rtw_set_scan_deny(_adapter *adapter, u32 ms);
+bool rtw_is_scan_deny(struct rtw_adapter *adapter);
+void rtw_clear_scan_deny(struct rtw_adapter *adapter);
+void rtw_set_scan_deny_timer_hdl(struct rtw_adapter *adapter);
+void rtw_set_scan_deny(struct rtw_adapter *adapter, u32 ms);
 #else
 #define rtw_is_scan_deny(adapter) false
 #define rtw_clear_scan_deny(adapter) do {} while (0)
@@ -709,7 +709,7 @@ void rtw_set_scan_deny(_adapter *adapter
 #endif
 
 
-extern int _rtw_init_mlme_priv(_adapter *padapter);
+extern int _rtw_init_mlme_priv(struct rtw_adapter *padapter);
 
 void rtw_free_mlme_priv_ie_data(struct mlme_priv *pmlmepriv);
 
@@ -728,9 +728,9 @@ extern void _rtw_free_network_nolock(str
 
 extern struct wlan_network* _rtw_find_network(struct __queue *scanned_queue, u8 *addr);
 
-extern void _rtw_free_network_queue(_adapter* padapter, u8 isfreeall);
+extern void _rtw_free_network_queue(struct rtw_adapter* padapter, u8 isfreeall);
 
-extern int rtw_if_up(_adapter *padapter);
+extern int rtw_if_up(struct rtw_adapter *padapter);
 
 
 u8 *rtw_get_capability_from_ie(u8 *ie);
@@ -738,22 +738,22 @@ u8 *rtw_get_timestampe_from_ie(u8 *ie);
 u8 *rtw_get_beacon_interval_from_ie(u8 *ie);
 
 
-void rtw_joinbss_reset(_adapter *padapter);
+void rtw_joinbss_reset(struct rtw_adapter *padapter);
 
 #ifdef CONFIG_80211N_HT
-unsigned int rtw_restructure_ht_ie(_adapter *padapter, u8 *in_ie, u8 *out_ie, uint in_len, uint *pout_len, u8 channel);
-void rtw_update_ht_cap(_adapter *padapter, u8 *pie, uint ie_len, u8 channel);
-void rtw_issue_addbareq_cmd(_adapter *padapter, struct xmit_frame *pxmitframe);
+unsigned int rtw_restructure_ht_ie(struct rtw_adapter *padapter, u8 *in_ie, u8 *out_ie, uint in_len, uint *pout_len, u8 channel);
+void rtw_update_ht_cap(struct rtw_adapter *padapter, u8 *pie, uint ie_len, u8 channel);
+void rtw_issue_addbareq_cmd(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe);
 #endif
 
-int rtw_is_same_ibss(_adapter *adapter, struct wlan_network *pnetwork);
+int rtw_is_same_ibss(struct rtw_adapter *adapter, struct wlan_network *pnetwork);
 int is_same_network(WLAN_BSSID_EX *src, WLAN_BSSID_EX *dst);
 
 #ifdef CONFIG_LAYER2_ROAMING
-void _rtw_roaming(_adapter *adapter, struct wlan_network *tgt_network);
-void rtw_roaming(_adapter *adapter, struct wlan_network *tgt_network);
-void rtw_set_roaming(_adapter *adapter, u8 to_roaming);
-u8 rtw_to_roaming(_adapter *adapter);
+void _rtw_roaming(struct rtw_adapter *adapter, struct wlan_network *tgt_network);
+void rtw_roaming(struct rtw_adapter *adapter, struct wlan_network *tgt_network);
+void rtw_set_roaming(struct rtw_adapter *adapter, u8 to_roaming);
+u8 rtw_to_roaming(struct rtw_adapter *adapter);
 #else
 #define _rtw_roaming(adapter, tgt_network) do {} while(0)
 #define rtw_roaming(adapter, tgt_network) do {} while(0)
--- a/drivers/staging/rtl8192du/include/rtw_mlme_ext.h
+++ b/drivers/staging/rtl8192du/include/rtw_mlme_ext.h
@@ -236,13 +236,13 @@ enum SCAN_STATE
 struct mlme_handler {
 	unsigned int   num;
 	char* str;
-	unsigned int (*func)(_adapter *padapter, union recv_frame *precv_frame);
+	unsigned int (*func)(struct rtw_adapter *padapter, union recv_frame *precv_frame);
 };
 
 struct action_handler {
 	unsigned int   num;
 	char* str;
-	unsigned int (*func)(_adapter *padapter, union recv_frame *precv_frame);
+	unsigned int (*func)(struct rtw_adapter *padapter, union recv_frame *precv_frame);
 };
 
 struct	ss_res
@@ -442,7 +442,7 @@ struct p2p_oper_class_map {
 
 struct mlme_ext_priv
 {
-	_adapter	*padapter;
+	struct rtw_adapter *padapter;
 	u8	mlmeext_init;
 	ATOMIC_T		event_seq;
 	u16	mgnt_seq;
@@ -492,183 +492,179 @@ struct mlme_ext_priv
 
 };
 
-int init_mlme_ext_priv(_adapter* padapter);
-int init_hw_mlme_ext(_adapter *padapter);
+int init_mlme_ext_priv(struct rtw_adapter *padapter);
+int init_hw_mlme_ext(struct rtw_adapter *padapter);
 void free_mlme_ext_priv (struct mlme_ext_priv *pmlmeext);
-extern void init_mlme_ext_timer(_adapter *padapter);
-extern void init_addba_retry_timer(_adapter *padapter, struct sta_info *psta);
+extern void init_mlme_ext_timer(struct rtw_adapter *padapter);
+extern void init_addba_retry_timer(struct rtw_adapter *padapter, struct sta_info *psta);
 extern struct xmit_frame *alloc_mgtxmitframe(struct xmit_priv *pxmitpriv);
 
-//void fill_fwpriv(_adapter * padapter, struct fw_priv *pfwpriv);
-
 unsigned char networktype_to_raid(unsigned char network_type);
-int judge_network_type(_adapter *padapter, unsigned char *rate, int ratelen);
-void get_rate_set(_adapter *padapter, unsigned char *pbssrate, int *bssrate_len);
-void UpdateBrateTbl(_adapter *padapter,u8 *mBratesOS);
+int judge_network_type(struct rtw_adapter *padapter, unsigned char *rate, int ratelen);
+void get_rate_set(struct rtw_adapter *padapter, unsigned char *pbssrate, int *bssrate_len);
+void UpdateBrateTbl(struct rtw_adapter *padapter,u8 *mBratesOS);
 void UpdateBrateTblForSoftAP(u8 *bssrateset, u32 bssratelen);
-void change_band_update_ie(_adapter *padapter, WLAN_BSSID_EX *pnetwork);
+void change_band_update_ie(struct rtw_adapter *padapter, WLAN_BSSID_EX *pnetwork);
 
-void Save_DM_Func_Flag(_adapter *padapter);
-void Restore_DM_Func_Flag(_adapter *padapter);
-void Switch_DM_Func(_adapter *padapter, u8 mode, u8 enable);
-
-//void Set_NETYPE1_MSR(_adapter *padapter, u8 type);
-//void Set_NETYPE0_MSR(_adapter *padapter, u8 type);
-void Set_MSR(_adapter *padapter, u8 type);
-
-u8 rtw_get_oper_ch(_adapter *adapter);
-void rtw_set_oper_ch(_adapter *adapter, u8 ch);
-u8 rtw_get_oper_bw(_adapter *adapter);
-void rtw_set_oper_bw(_adapter *adapter, u8 bw);
-u8 rtw_get_oper_choffset(_adapter *adapter);
-void rtw_set_oper_choffset(_adapter *adapter, u8 offset);
-
-void set_channel_bwmode(_adapter *padapter, unsigned char channel, unsigned char channel_offset, unsigned short bwmode);
-void SelectChannel(_adapter *padapter, unsigned char channel);
-void SetBWMode(_adapter *padapter, unsigned short bwmode, unsigned char channel_offset);
+void Save_DM_Func_Flag(struct rtw_adapter *padapter);
+void Restore_DM_Func_Flag(struct rtw_adapter *padapter);
+void Switch_DM_Func(struct rtw_adapter *padapter, u8 mode, u8 enable);
+
+void Set_MSR(struct rtw_adapter *padapter, u8 type);
+
+u8 rtw_get_oper_ch(struct rtw_adapter *adapter);
+void rtw_set_oper_ch(struct rtw_adapter *adapter, u8 ch);
+u8 rtw_get_oper_bw(struct rtw_adapter *adapter);
+void rtw_set_oper_bw(struct rtw_adapter *adapter, u8 bw);
+u8 rtw_get_oper_choffset(struct rtw_adapter *adapter);
+void rtw_set_oper_choffset(struct rtw_adapter *adapter, u8 offset);
+
+void set_channel_bwmode(struct rtw_adapter *padapter, unsigned char channel, unsigned char channel_offset, unsigned short bwmode);
+void SelectChannel(struct rtw_adapter *padapter, unsigned char channel);
+void SetBWMode(struct rtw_adapter *padapter, unsigned short bwmode, unsigned char channel_offset);
 
 unsigned int decide_wait_for_beacon_timeout(unsigned int bcn_interval);
 
-void write_cam(_adapter *padapter, u8 entry, u16 ctrl, u8 *mac, u8 *key);
-void clear_cam_entry(_adapter *padapter, u8 entry);
+void write_cam(struct rtw_adapter *padapter, u8 entry, u16 ctrl, u8 *mac, u8 *key);
+void clear_cam_entry(struct rtw_adapter *padapter, u8 entry);
 
-void invalidate_cam_all(_adapter *padapter);
-void CAM_empty_entry(PADAPTER Adapter, u8 ucIndex);
+void invalidate_cam_all(struct rtw_adapter *padapter);
+void CAM_empty_entry(struct rtw_adapter *Adapter, u8 ucIndex);
 
 
-int allocate_fw_sta_entry(_adapter *padapter);
-void flush_all_cam_entry(_adapter *padapter);
+int allocate_fw_sta_entry(struct rtw_adapter *padapter);
+void flush_all_cam_entry(struct rtw_adapter *padapter);
 
-bool IsLegal5GChannel(PADAPTER Adapter, u8 channel);
+bool IsLegal5GChannel(struct rtw_adapter *Adapter, u8 channel);
 
-void site_survey(_adapter *padapter);
-u8 collect_bss_info(_adapter *padapter, union recv_frame *precv_frame, WLAN_BSSID_EX *bssid);
+void site_survey(struct rtw_adapter *padapter);
+u8 collect_bss_info(struct rtw_adapter *padapter, union recv_frame *precv_frame, WLAN_BSSID_EX *bssid);
 
 int get_bsstype(unsigned short capability);
 u8* get_my_bssid(WLAN_BSSID_EX *pnetwork);
 u16 get_beacon_interval(WLAN_BSSID_EX *bss);
 
-int is_client_associated_to_ap(_adapter *padapter);
-int is_client_associated_to_ibss(_adapter *padapter);
-int is_IBSS_empty(_adapter *padapter);
+int is_client_associated_to_ap(struct rtw_adapter *padapter);
+int is_client_associated_to_ibss(struct rtw_adapter *padapter);
+int is_IBSS_empty(struct rtw_adapter *padapter);
 
 unsigned char check_assoc_AP(u8 *pframe, uint len);
 
-int WMM_param_handler(_adapter *padapter, PNDIS_802_11_VARIABLE_IEs	pIE);
+int WMM_param_handler(struct rtw_adapter *padapter, PNDIS_802_11_VARIABLE_IEs	pIE);
 #ifdef CONFIG_WFD
-int WFD_info_handler(_adapter *padapter, PNDIS_802_11_VARIABLE_IEs	pIE);
+int WFD_info_handler(struct rtw_adapter *padapter, PNDIS_802_11_VARIABLE_IEs	pIE);
 #endif
-void WMMOnAssocRsp(_adapter *padapter);
+void WMMOnAssocRsp(struct rtw_adapter *padapter);
 
-void HT_caps_handler(_adapter *padapter, PNDIS_802_11_VARIABLE_IEs pIE);
-void HT_info_handler(_adapter *padapter, PNDIS_802_11_VARIABLE_IEs pIE);
-void HTOnAssocRsp(_adapter *padapter);
+void HT_caps_handler(struct rtw_adapter *padapter, PNDIS_802_11_VARIABLE_IEs pIE);
+void HT_info_handler(struct rtw_adapter *padapter, PNDIS_802_11_VARIABLE_IEs pIE);
+void HTOnAssocRsp(struct rtw_adapter *padapter);
 
-void ERP_IE_handler(_adapter *padapter, PNDIS_802_11_VARIABLE_IEs pIE);
-void VCS_update(_adapter *padapter, struct sta_info *psta);
+void ERP_IE_handler(struct rtw_adapter *padapter, PNDIS_802_11_VARIABLE_IEs pIE);
+void VCS_update(struct rtw_adapter *padapter, struct sta_info *psta);
 
-void update_beacon_info(_adapter *padapter, u8 *pframe, uint len, struct sta_info *psta);
+void update_beacon_info(struct rtw_adapter *padapter, u8 *pframe, uint len, struct sta_info *psta);
 #ifdef CONFIG_DFS
-void process_csa_ie(_adapter *padapter, u8 *pframe, uint len);
+void process_csa_ie(struct rtw_adapter *padapter, u8 *pframe, uint len);
 #endif //CONFIG_DFS
-void update_IOT_info(_adapter *padapter);
-void update_capinfo(PADAPTER Adapter, u16 updateCap);
-void update_wireless_mode(_adapter * padapter);
-void update_tx_basic_rate(_adapter *padapter, u8 modulation);
-void update_bmc_sta_support_rate(_adapter *padapter, u32 mac_id);
-int update_sta_support_rate(_adapter *padapter, u8* pvar_ie, uint var_ie_len, int cam_idx);
+void update_IOT_info(struct rtw_adapter *padapter);
+void update_capinfo(struct rtw_adapter *Adapter, u16 updateCap);
+void update_wireless_mode(struct rtw_adapter *padapter);
+void update_tx_basic_rate(struct rtw_adapter *padapter, u8 modulation);
+void update_bmc_sta_support_rate(struct rtw_adapter *padapter, u32 mac_id);
+int update_sta_support_rate(struct rtw_adapter *padapter, u8* pvar_ie, uint var_ie_len, int cam_idx);
 
 //for sta/adhoc mode
-void update_sta_info(_adapter *padapter, struct sta_info *psta);
+void update_sta_info(struct rtw_adapter *padapter, struct sta_info *psta);
 unsigned int update_basic_rate(unsigned char *ptn, unsigned int ptn_sz);
 unsigned int update_supported_rate(unsigned char *ptn, unsigned int ptn_sz);
 unsigned int update_MSC_rate(struct HT_caps_element *pHT_caps);
-void Update_RA_Entry(_adapter *padapter, u32 mac_id);
-void set_sta_rate(_adapter *padapter, struct sta_info *psta);
+void Update_RA_Entry(struct rtw_adapter *padapter, u32 mac_id);
+void set_sta_rate(struct rtw_adapter *padapter, struct sta_info *psta);
 
-unsigned int receive_disconnect(_adapter *padapter, unsigned char *MacAddr, unsigned short reason);
+unsigned int receive_disconnect(struct rtw_adapter *padapter, unsigned char *MacAddr, unsigned short reason);
 
 unsigned char get_highest_rate_idx(u32 mask);
-int support_short_GI(_adapter *padapter, struct HT_caps_element *pHT_caps);
-unsigned int is_ap_in_tkip(_adapter *padapter);
+int support_short_GI(struct rtw_adapter *padapter, struct HT_caps_element *pHT_caps);
+unsigned int is_ap_in_tkip(struct rtw_adapter *padapter);
 
 
-void report_join_res(_adapter *padapter, int res);
-void report_survey_event(_adapter *padapter, union recv_frame *precv_frame);
-void report_surveydone_event(_adapter *padapter);
-void report_del_sta_event(_adapter *padapter, unsigned char* MacAddr, unsigned short reason);
-void report_add_sta_event(_adapter *padapter, unsigned char* MacAddr, int cam_idx);
-
-void beacon_timing_control(_adapter *padapter);
-extern u8 set_tx_beacon_cmd(_adapter*padapter);
-unsigned int setup_beacon_frame(_adapter *padapter, unsigned char *beacon_frame);
-void update_mgnt_tx_rate(_adapter *padapter, u8 rate);
-void update_mgntframe_attrib(_adapter *padapter, struct pkt_attrib *pattrib);
-void dump_mgntframe(_adapter *padapter, struct xmit_frame *pmgntframe);
-s32 dump_mgntframe_and_wait(_adapter *padapter, struct xmit_frame *pmgntframe, int timeout_ms);
-s32 dump_mgntframe_and_wait_ack(_adapter *padapter, struct xmit_frame *pmgntframe);
+void report_join_res(struct rtw_adapter *padapter, int res);
+void report_survey_event(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+void report_surveydone_event(struct rtw_adapter *padapter);
+void report_del_sta_event(struct rtw_adapter *padapter, unsigned char* MacAddr, unsigned short reason);
+void report_add_sta_event(struct rtw_adapter *padapter, unsigned char* MacAddr, int cam_idx);
+
+void beacon_timing_control(struct rtw_adapter *padapter);
+extern u8 set_tx_beacon_cmd(struct rtw_adapter*padapter);
+unsigned int setup_beacon_frame(struct rtw_adapter *padapter, unsigned char *beacon_frame);
+void update_mgnt_tx_rate(struct rtw_adapter *padapter, u8 rate);
+void update_mgntframe_attrib(struct rtw_adapter *padapter, struct pkt_attrib *pattrib);
+void dump_mgntframe(struct rtw_adapter *padapter, struct xmit_frame *pmgntframe);
+s32 dump_mgntframe_and_wait(struct rtw_adapter *padapter, struct xmit_frame *pmgntframe, int timeout_ms);
+s32 dump_mgntframe_and_wait_ack(struct rtw_adapter *padapter, struct xmit_frame *pmgntframe);
 
 #ifdef CONFIG_P2P
-void issue_probersp_p2p(_adapter *padapter, unsigned char *da);
-void issue_p2p_provision_request( _adapter *padapter, u8* pssid, u8 ussidlen, u8* pdev_raddr);
-void issue_p2p_GO_request(_adapter *padapter, u8* raddr);
-void issue_probereq_p2p(_adapter *padapter, u8 *da);
-int issue_probereq_p2p_ex(_adapter *adapter, u8 *da, int try_cnt, int wait_ms);
-void issue_p2p_invitation_response(_adapter *padapter, u8* raddr, u8 dialogToken, u8 success);
-void issue_p2p_invitation_request(_adapter *padapter, u8* raddr );
+void issue_probersp_p2p(struct rtw_adapter *padapter, unsigned char *da);
+void issue_p2p_provision_request(struct rtw_adapter *padapter, u8* pssid, u8 ussidlen, u8* pdev_raddr);
+void issue_p2p_GO_request(struct rtw_adapter *padapter, u8* raddr);
+void issue_probereq_p2p(struct rtw_adapter *padapter, u8 *da);
+int issue_probereq_p2p_ex(struct rtw_adapter *adapter, u8 *da, int try_cnt, int wait_ms);
+void issue_p2p_invitation_response(struct rtw_adapter *padapter, u8* raddr, u8 dialogToken, u8 success);
+void issue_p2p_invitation_request(struct rtw_adapter *padapter, u8* raddr );
 #endif //CONFIG_P2P
-void issue_beacon(_adapter *padapter);
-void issue_probersp(_adapter *padapter, unsigned char *da, u8 is_valid_p2p_probereq);
-void issue_assocreq(_adapter *padapter);
-void issue_asocrsp(_adapter *padapter, unsigned short status, struct sta_info *pstat, int pkt_type);
-void issue_auth(_adapter *padapter, struct sta_info *psta, unsigned short status);
-void issue_probereq(_adapter *padapter, struct ndis_802_11_ssid *pssid, u8 *da);
-s32 issue_probereq_ex(_adapter *padapter, struct ndis_802_11_ssid *pssid, u8* da, int try_cnt, int wait_ms);
-int issue_nulldata(_adapter *padapter, unsigned char *da, unsigned int power_mode, int try_cnt, int wait_ms);
-int issue_qos_nulldata(_adapter *padapter, unsigned char *da, u16 tid, int try_cnt, int wait_ms);
-int issue_deauth(_adapter *padapter, unsigned char *da, unsigned short reason);
-int issue_deauth_ex(_adapter *padapter, u8 *da, unsigned short reason, int try_cnt, int wait_ms);
-void issue_action_spct_ch_switch(_adapter *padapter, u8 *ra, u8 new_ch, u8 ch_offset);
-void issue_action_BA(_adapter *padapter, unsigned char *raddr, unsigned char action, unsigned short status);
-unsigned int send_delba(_adapter *padapter, u8 initiator, u8 *addr);
-unsigned int send_beacon(_adapter *padapter);
-
-void start_clnt_assoc(_adapter *padapter);
-void start_clnt_auth(_adapter* padapter);
-void start_clnt_join(_adapter* padapter);
-void start_create_ibss(_adapter* padapter);
-
-unsigned int OnAssocReq(_adapter *padapter, union recv_frame *precv_frame);
-unsigned int OnAssocRsp(_adapter *padapter, union recv_frame *precv_frame);
-unsigned int OnProbeReq(_adapter *padapter, union recv_frame *precv_frame);
-unsigned int OnProbeRsp(_adapter *padapter, union recv_frame *precv_frame);
-unsigned int DoReserved(_adapter *padapter, union recv_frame *precv_frame);
-unsigned int OnBeacon(_adapter *padapter, union recv_frame *precv_frame);
-unsigned int OnAtim(_adapter *padapter, union recv_frame *precv_frame);
-unsigned int OnDisassoc(_adapter *padapter, union recv_frame *precv_frame);
-unsigned int OnAuth(_adapter *padapter, union recv_frame *precv_frame);
-unsigned int OnAuthClient(_adapter *padapter, union recv_frame *precv_frame);
-unsigned int OnDeAuth(_adapter *padapter, union recv_frame *precv_frame);
-unsigned int OnAction(_adapter *padapter, union recv_frame *precv_frame);
-
-unsigned int on_action_spct(_adapter *padapter, union recv_frame *precv_frame);
-unsigned int OnAction_qos(_adapter *padapter, union recv_frame *precv_frame);
-unsigned int OnAction_dls(_adapter *padapter, union recv_frame *precv_frame);
-unsigned int OnAction_back(_adapter *padapter, union recv_frame *precv_frame);
-unsigned int on_action_public(_adapter *padapter, union recv_frame *precv_frame);
-unsigned int OnAction_ht(_adapter *padapter, union recv_frame *precv_frame);
-unsigned int OnAction_wmm(_adapter *padapter, union recv_frame *precv_frame);
-unsigned int OnAction_p2p(_adapter *padapter, union recv_frame *precv_frame);
-
-
-void mlmeext_joinbss_event_callback(_adapter *padapter, int join_res);
-void mlmeext_sta_del_event_callback(_adapter *padapter);
-void mlmeext_sta_add_event_callback(_adapter *padapter, struct sta_info *psta);
+void issue_beacon(struct rtw_adapter *padapter);
+void issue_probersp(struct rtw_adapter *padapter, unsigned char *da, u8 is_valid_p2p_probereq);
+void issue_assocreq(struct rtw_adapter *padapter);
+void issue_asocrsp(struct rtw_adapter *padapter, unsigned short status, struct sta_info *pstat, int pkt_type);
+void issue_auth(struct rtw_adapter *padapter, struct sta_info *psta, unsigned short status);
+void issue_probereq(struct rtw_adapter *padapter, struct ndis_802_11_ssid *pssid, u8 *da);
+s32 issue_probereq_ex(struct rtw_adapter *padapter, struct ndis_802_11_ssid *pssid, u8* da, int try_cnt, int wait_ms);
+int issue_nulldata(struct rtw_adapter *padapter, unsigned char *da, unsigned int power_mode, int try_cnt, int wait_ms);
+int issue_qos_nulldata(struct rtw_adapter *padapter, unsigned char *da, u16 tid, int try_cnt, int wait_ms);
+int issue_deauth(struct rtw_adapter *padapter, unsigned char *da, unsigned short reason);
+int issue_deauth_ex(struct rtw_adapter *padapter, u8 *da, unsigned short reason, int try_cnt, int wait_ms);
+void issue_action_spct_ch_switch(struct rtw_adapter *padapter, u8 *ra, u8 new_ch, u8 ch_offset);
+void issue_action_BA(struct rtw_adapter *padapter, unsigned char *raddr, unsigned char action, unsigned short status);
+unsigned int send_delba(struct rtw_adapter *padapter, u8 initiator, u8 *addr);
+unsigned int send_beacon(struct rtw_adapter *padapter);
+
+void start_clnt_assoc(struct rtw_adapter *padapter);
+void start_clnt_auth(struct rtw_adapter* padapter);
+void start_clnt_join(struct rtw_adapter* padapter);
+void start_create_ibss(struct rtw_adapter* padapter);
+
+unsigned int OnAssocReq(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+unsigned int OnAssocRsp(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+unsigned int OnProbeReq(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+unsigned int OnProbeRsp(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+unsigned int DoReserved(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+unsigned int OnBeacon(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+unsigned int OnAtim(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+unsigned int OnDisassoc(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+unsigned int OnAuth(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+unsigned int OnAuthClient(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+unsigned int OnDeAuth(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+unsigned int OnAction(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+
+unsigned int on_action_spct(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+unsigned int OnAction_qos(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+unsigned int OnAction_dls(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+unsigned int OnAction_back(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+unsigned int on_action_public(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+unsigned int OnAction_ht(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+unsigned int OnAction_wmm(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+unsigned int OnAction_p2p(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+
+
+void mlmeext_joinbss_event_callback(struct rtw_adapter *padapter, int join_res);
+void mlmeext_sta_del_event_callback(struct rtw_adapter *padapter);
+void mlmeext_sta_add_event_callback(struct rtw_adapter *padapter, struct sta_info *psta);
 
-void linked_status_chk(_adapter *padapter);
+void linked_status_chk(struct rtw_adapter *padapter);
 
-void survey_timer_hdl (_adapter *padapter);
-void link_timer_hdl (_adapter *padapter);
+void survey_timer_hdl (struct rtw_adapter *padapter);
+void link_timer_hdl (struct rtw_adapter *padapter);
 void addba_timer_hdl(struct sta_info *psta);
 
 #define set_survey_timer(mlmeext, ms) \
@@ -686,68 +682,68 @@ void addba_timer_hdl(struct sta_info *ps
 extern int cckrates_included(unsigned char *rate, int ratelen);
 extern int cckratesonly_included(unsigned char *rate, int ratelen);
 
-extern void process_addba_req(_adapter *padapter, u8 *paddba_req, u8 *addr);
+extern void process_addba_req(struct rtw_adapter *padapter, u8 *paddba_req, u8 *addr);
 
 extern void update_TSF(struct mlme_ext_priv *pmlmeext, u8 *pframe, uint len);
-extern void correct_TSF(_adapter *padapter, struct mlme_ext_priv *pmlmeext);
+extern void correct_TSF(struct rtw_adapter *padapter, struct mlme_ext_priv *pmlmeext);
 
 
 #ifdef CONFIG_CONCURRENT_MODE
-int check_buddy_mlmeinfo_state(_adapter *padapter, u32 state);
-int concurrent_chk_start_clnt_join(_adapter *padapter);
-void concurrent_chk_joinbss_done(_adapter *padapter, int join_res);
+int check_buddy_mlmeinfo_state(struct rtw_adapter *padapter, u32 state);
+int concurrent_chk_start_clnt_join(struct rtw_adapter *padapter);
+void concurrent_chk_joinbss_done(struct rtw_adapter *padapter, int join_res);
 #endif //CONFIG_CONCURRENT_MODE
 
 #ifdef CONFIG_DUALMAC_CONCURRENT
-void	dc_SelectChannel(_adapter *padapter, unsigned char channel);
-void	dc_SetBWMode(_adapter *padapter, unsigned short bwmode, unsigned char channel_offset);
-void	dc_set_channel_bwmode_disconnect(_adapter *padapter);
-u8	dc_handle_join_request(_adapter *padapter);
-void	dc_handle_join_done(_adapter *padapter, u8 join_res);
-int	dc_check_fwstate(_adapter *padapter, int fw_state);
-u8	dc_handle_site_survey(_adapter *padapter);
-void	dc_report_survey_event(_adapter *padapter, union recv_frame *precv_frame);
-void	dc_set_channel_bwmode_survey_done(_adapter *padapter);
-void	dc_set_ap_channel_bandwidth(_adapter *padapter, u8 channel, u8 channel_offset, u8 bwmode);
-void	dc_resume_xmit(_adapter *padapter);
-u8	dc_check_xmit(_adapter *padapter);
+void	dc_SelectChannel(struct rtw_adapter *padapter, unsigned char channel);
+void	dc_SetBWMode(struct rtw_adapter *padapter, unsigned short bwmode, unsigned char channel_offset);
+void	dc_set_channel_bwmode_disconnect(struct rtw_adapter *padapter);
+u8	dc_handle_join_request(struct rtw_adapter *padapter);
+void	dc_handle_join_done(struct rtw_adapter *padapter, u8 join_res);
+int	dc_check_fwstate(struct rtw_adapter *padapter, int fw_state);
+u8	dc_handle_site_survey(struct rtw_adapter *padapter);
+void	dc_report_survey_event(struct rtw_adapter *padapter, union recv_frame *precv_frame);
+void	dc_set_channel_bwmode_survey_done(struct rtw_adapter *padapter);
+void	dc_set_ap_channel_bandwidth(struct rtw_adapter *padapter, u8 channel, u8 channel_offset, u8 bwmode);
+void	dc_resume_xmit(struct rtw_adapter *padapter);
+u8	dc_check_xmit(struct rtw_adapter *padapter);
 #endif
 
 struct cmd_hdl {
 	uint	parmsize;
-	u8 (*h2cfuns)(struct _ADAPTER *padapter, u8 *pbuf);
+	u8 (*h2cfuns)(struct rtw_adapter *padapter, u8 *pbuf);
 };
 
 
-u8 read_macreg_hdl(_adapter *padapter, u8 *pbuf);
-u8 write_macreg_hdl(_adapter *padapter, u8 *pbuf);
-u8 read_bbreg_hdl(_adapter *padapter, u8 *pbuf);
-u8 write_bbreg_hdl(_adapter *padapter, u8 *pbuf);
-u8 read_rfreg_hdl(_adapter *padapter, u8 *pbuf);
-u8 write_rfreg_hdl(_adapter *padapter, u8 *pbuf);
-
-
-u8 NULL_hdl(_adapter *padapter, u8 *pbuf);
-u8 join_cmd_hdl(_adapter *padapter, u8 *pbuf);
-u8 disconnect_hdl(_adapter *padapter, u8 *pbuf);
-u8 createbss_hdl(_adapter *padapter, u8 *pbuf);
-u8 setopmode_hdl(_adapter *padapter, u8 *pbuf);
-u8 sitesurvey_cmd_hdl(_adapter *padapter, u8 *pbuf);
-u8 setauth_hdl(_adapter *padapter, u8 *pbuf);
-u8 setkey_hdl(_adapter *padapter, u8 *pbuf);
-u8 set_stakey_hdl(_adapter *padapter, u8 *pbuf);
-u8 set_assocsta_hdl(_adapter *padapter, u8 *pbuf);
-u8 del_assocsta_hdl(_adapter *padapter, u8 *pbuf);
-u8 add_ba_hdl(_adapter *padapter, unsigned char *pbuf);
-
-u8 mlme_evt_hdl(_adapter *padapter, unsigned char *pbuf);
-u8 h2c_msg_hdl(_adapter *padapter, unsigned char *pbuf);
-u8 tx_beacon_hdl(_adapter *padapter, unsigned char *pbuf);
-u8 set_ch_hdl(_adapter *padapter, u8 *pbuf);
-u8 set_chplan_hdl(_adapter *padapter, unsigned char *pbuf);
-u8 led_blink_hdl(_adapter *padapter, unsigned char *pbuf);
-u8 set_csa_hdl(_adapter *padapter, unsigned char *pbuf);	//Kurt: Handling DFS channel switch announcement ie.
-u8 tdls_hdl(_adapter *padapter, unsigned char *pbuf);
+u8 read_macreg_hdl(struct rtw_adapter *padapter, u8 *pbuf);
+u8 write_macreg_hdl(struct rtw_adapter *padapter, u8 *pbuf);
+u8 read_bbreg_hdl(struct rtw_adapter *padapter, u8 *pbuf);
+u8 write_bbreg_hdl(struct rtw_adapter *padapter, u8 *pbuf);
+u8 read_rfreg_hdl(struct rtw_adapter *padapter, u8 *pbuf);
+u8 write_rfreg_hdl(struct rtw_adapter *padapter, u8 *pbuf);
+
+
+u8 NULL_hdl(struct rtw_adapter *padapter, u8 *pbuf);
+u8 join_cmd_hdl(struct rtw_adapter *padapter, u8 *pbuf);
+u8 disconnect_hdl(struct rtw_adapter *padapter, u8 *pbuf);
+u8 createbss_hdl(struct rtw_adapter *padapter, u8 *pbuf);
+u8 setopmode_hdl(struct rtw_adapter *padapter, u8 *pbuf);
+u8 sitesurvey_cmd_hdl(struct rtw_adapter *padapter, u8 *pbuf);
+u8 setauth_hdl(struct rtw_adapter *padapter, u8 *pbuf);
+u8 setkey_hdl(struct rtw_adapter *padapter, u8 *pbuf);
+u8 set_stakey_hdl(struct rtw_adapter *padapter, u8 *pbuf);
+u8 set_assocsta_hdl(struct rtw_adapter *padapter, u8 *pbuf);
+u8 del_assocsta_hdl(struct rtw_adapter *padapter, u8 *pbuf);
+u8 add_ba_hdl(struct rtw_adapter *padapter, unsigned char *pbuf);
+
+u8 mlme_evt_hdl(struct rtw_adapter *padapter, unsigned char *pbuf);
+u8 h2c_msg_hdl(struct rtw_adapter *padapter, unsigned char *pbuf);
+u8 tx_beacon_hdl(struct rtw_adapter *padapter, unsigned char *pbuf);
+u8 set_ch_hdl(struct rtw_adapter *padapter, u8 *pbuf);
+u8 set_chplan_hdl(struct rtw_adapter *padapter, unsigned char *pbuf);
+u8 led_blink_hdl(struct rtw_adapter *padapter, unsigned char *pbuf);
+u8 set_csa_hdl(struct rtw_adapter *padapter, unsigned char *pbuf);	//Kurt: Handling DFS channel switch announcement ie.
+u8 tdls_hdl(struct rtw_adapter *padapter, unsigned char *pbuf);
 
 
 #define GEN_DRV_CMD_HANDLER(size, cmd)	{size, &cmd ## _hdl},
@@ -851,8 +847,8 @@ struct C2HEvent_Header
 
 };
 
-void rtw_dummy_event_callback(_adapter *adapter , u8 *pbuf);
-void rtw_fwdbg_event_callback(_adapter *adapter , u8 *pbuf);
+void rtw_dummy_event_callback(struct rtw_adapter *adapter , u8 *pbuf);
+void rtw_fwdbg_event_callback(struct rtw_adapter *adapter , u8 *pbuf);
 
 enum rtw_c2h_event
 {
--- a/drivers/staging/rtl8192du/include/rtw_mp.h
+++ b/drivers/staging/rtl8192du/include/rtw_mp.h
@@ -88,7 +88,7 @@ struct mp_xmit_frame {
 	struct pkt_attrib attrib;
 	struct sk_buff *pkt;
 	int frame_tag;
-	_adapter *padapter;
+	struct rtw_adapter *padapter;
 	//insert urb, irp, and irpcnt info below...
 	//max frag_cnt = 8
 	u8 *mem_addr;
@@ -238,7 +238,7 @@ enum {
 
 struct mp_priv
 {
-	_adapter *papdater;
+	struct rtw_adapter *papdater;
 
 	//Testing Flag
 	u32 mode;//0 for normal type packet, 1 for loopback packet (16bytes TXCMD)
@@ -400,95 +400,95 @@ enum OFDM_TX_MODE {
 //extern struct mp_xmit_frame *alloc_mp_xmitframe(struct mp_priv *pmp_priv);
 //extern int free_mp_xmitframe(struct xmit_priv *pxmitpriv, struct mp_xmit_frame *pmp_xmitframe);
 
-extern s32 init_mp_priv(PADAPTER padapter);
+extern s32 init_mp_priv(struct rtw_adapter * padapter);
 extern void free_mp_priv(struct mp_priv *pmp_priv);
-extern s32 MPT_InitializeAdapter(PADAPTER padapter, u8 Channel);
-extern void MPT_DeInitAdapter(PADAPTER padapter);
-extern s32 mp_start_test(PADAPTER padapter);
-extern void mp_stop_test(PADAPTER padapter);
+extern s32 MPT_InitializeAdapter(struct rtw_adapter * padapter, u8 Channel);
+extern void MPT_DeInitAdapter(struct rtw_adapter * padapter);
+extern s32 mp_start_test(struct rtw_adapter * padapter);
+extern void mp_stop_test(struct rtw_adapter * padapter);
 
 //=======================================================================
-//extern void	IQCalibrateBcut(PADAPTER pAdapter);
+//extern void	IQCalibrateBcut(struct rtw_adapter * pAdapter);
 
-//extern u32	bb_reg_read(PADAPTER Adapter, u16 offset);
-//extern u8	bb_reg_write(PADAPTER Adapter, u16 offset, u32 value);
-//extern u32	rf_reg_read(PADAPTER Adapter, u8 path, u8 offset);
-//extern u8	rf_reg_write(PADAPTER Adapter, u8 path, u8 offset, u32 value);
-
-//extern u32	get_bb_reg(PADAPTER Adapter, u16 offset, u32 bitmask);
-//extern u8	set_bb_reg(PADAPTER Adapter, u16 offset, u32 bitmask, u32 value);
-//extern u32	get_rf_reg(PADAPTER Adapter, u8 path, u8 offset, u32 bitmask);
-//extern u8	set_rf_reg(PADAPTER Adapter, u8 path, u8 offset, u32 bitmask, u32 value);
-
-extern u32 _read_rfreg(PADAPTER padapter, u8 rfpath, u32 addr, u32 bitmask);
-extern void _write_rfreg(PADAPTER padapter, u8 rfpath, u32 addr, u32 bitmask, u32 val);
-
-extern u32 read_macreg(_adapter *padapter, u32 addr, u32 sz);
-extern void write_macreg(_adapter *padapter, u32 addr, u32 val, u32 sz);
-extern u32 read_bbreg(_adapter *padapter, u32 addr, u32 bitmask);
-extern void write_bbreg(_adapter *padapter, u32 addr, u32 bitmask, u32 val);
-extern u32 read_rfreg(PADAPTER padapter, u8 rfpath, u32 addr);
-extern void write_rfreg(PADAPTER padapter, u8 rfpath, u32 addr, u32 val);
-
-extern void	SetChannel(PADAPTER pAdapter);
-extern void	SetBandwidth(PADAPTER pAdapter);
-extern void	SetTxPower(PADAPTER pAdapter);
-extern void	SetAntennaPathPower(PADAPTER pAdapter);
-//extern void	SetTxAGCOffset(PADAPTER pAdapter, u32 ulTxAGCOffset);
-extern void	SetDataRate(PADAPTER pAdapter);
-
-extern void	SetAntenna(PADAPTER pAdapter);
-
-//extern void	SetCrystalCap(PADAPTER pAdapter);
-
-extern s32	SetThermalMeter(PADAPTER pAdapter, u8 target_ther);
-extern void	GetThermalMeter(PADAPTER pAdapter, u8 *value);
-
-extern void	SetContinuousTx(PADAPTER pAdapter, u8 bStart);
-extern void	SetSingleCarrierTx(PADAPTER pAdapter, u8 bStart);
-extern void	SetSingleToneTx(PADAPTER pAdapter, u8 bStart);
-extern void	SetCarrierSuppressionTx(PADAPTER pAdapter, u8 bStart);
-
-extern void	fill_txdesc_for_mp(PADAPTER padapter, struct tx_desc *ptxdesc);
-extern void	SetPacketTx(PADAPTER padapter);
-extern void	SetPacketRx(PADAPTER pAdapter, u8 bStartRx);
-
-extern void	ResetPhyRxPktCount(PADAPTER pAdapter);
-extern u32	GetPhyRxPktReceived(PADAPTER pAdapter);
-extern u32	GetPhyRxPktCRC32Error(PADAPTER pAdapter);
-
-extern s32	SetPowerTracking(PADAPTER padapter, u8 enable);
-extern void	GetPowerTracking(PADAPTER padapter, u8 *enable);
-
-extern u32	mp_query_psd(PADAPTER pAdapter, u8 *data);
-
-
-extern void Hal_SetAntenna(PADAPTER pAdapter);
-extern void Hal_SetBandwidth(PADAPTER pAdapter);
-
-extern void Hal_SetTxPower(PADAPTER pAdapter);
-extern void Hal_SetCarrierSuppressionTx(PADAPTER pAdapter, u8 bStart);
-extern void Hal_SetSingleToneTx ( PADAPTER pAdapter, u8 bStart );
-extern void Hal_SetSingleCarrierTx (PADAPTER pAdapter, u8 bStart);
-extern void Hal_SetContinuousTx (PADAPTER pAdapter, u8 bStart);
-extern void Hal_SetBandwidth(PADAPTER pAdapter);
-
-extern void Hal_SetDataRate(PADAPTER pAdapter);
-extern void Hal_SetChannel(PADAPTER pAdapter);
-extern void Hal_SetAntennaPathPower(PADAPTER pAdapter);
-extern s32 Hal_SetThermalMeter(PADAPTER pAdapter, u8 target_ther);
-extern s32 Hal_SetPowerTracking(PADAPTER padapter, u8 enable);
-extern void Hal_GetPowerTracking(PADAPTER padapter, u8 *enable);
-extern void Hal_GetThermalMeter(PADAPTER pAdapter, u8 *value);
-extern void Hal_mpt_SwitchRfSetting(PADAPTER pAdapter);
-extern void Hal_MPT_CCKTxPowerAdjust(PADAPTER Adapter, bool bInCH14);
-extern void Hal_MPT_CCKTxPowerAdjustbyIndex(PADAPTER pAdapter, bool beven);
-extern void Hal_SetCCKTxPower(PADAPTER pAdapter, u8 *TxPower);
-extern void Hal_SetOFDMTxPower(PADAPTER pAdapter, u8 *TxPower);
-extern void Hal_TriggerRFThermalMeter(PADAPTER pAdapter);
-extern u8 Hal_ReadRFThermalMeter(PADAPTER pAdapter);
-extern void Hal_SetCCKContinuousTx(PADAPTER pAdapter, u8 bStart);
-extern void Hal_SetOFDMContinuousTx(PADAPTER pAdapter, u8 bStart);
-extern void Hal_ProSetCrystalCap (PADAPTER pAdapter, u32 CrystalCapVal);
+//extern u32	bb_reg_read(struct rtw_adapter * Adapter, u16 offset);
+//extern u8	bb_reg_write(struct rtw_adapter * Adapter, u16 offset, u32 value);
+//extern u32	rf_reg_read(struct rtw_adapter * Adapter, u8 path, u8 offset);
+//extern u8	rf_reg_write(struct rtw_adapter * Adapter, u8 path, u8 offset, u32 value);
+
+//extern u32	get_bb_reg(struct rtw_adapter * Adapter, u16 offset, u32 bitmask);
+//extern u8	set_bb_reg(struct rtw_adapter * Adapter, u16 offset, u32 bitmask, u32 value);
+//extern u32	get_rf_reg(struct rtw_adapter * Adapter, u8 path, u8 offset, u32 bitmask);
+//extern u8	set_rf_reg(struct rtw_adapter * Adapter, u8 path, u8 offset, u32 bitmask, u32 value);
+
+extern u32 _read_rfreg(struct rtw_adapter * padapter, u8 rfpath, u32 addr, u32 bitmask);
+extern void _write_rfreg(struct rtw_adapter * padapter, u8 rfpath, u32 addr, u32 bitmask, u32 val);
+
+extern u32 read_macreg(struct rtw_adapter *padapter, u32 addr, u32 sz);
+extern void write_macreg(struct rtw_adapter *padapter, u32 addr, u32 val, u32 sz);
+extern u32 read_bbreg(struct rtw_adapter *padapter, u32 addr, u32 bitmask);
+extern void write_bbreg(struct rtw_adapter *padapter, u32 addr, u32 bitmask, u32 val);
+extern u32 read_rfreg(struct rtw_adapter * padapter, u8 rfpath, u32 addr);
+extern void write_rfreg(struct rtw_adapter * padapter, u8 rfpath, u32 addr, u32 val);
+
+extern void	SetChannel(struct rtw_adapter * pAdapter);
+extern void	SetBandwidth(struct rtw_adapter * pAdapter);
+extern void	SetTxPower(struct rtw_adapter * pAdapter);
+extern void	SetAntennaPathPower(struct rtw_adapter * pAdapter);
+//extern void	SetTxAGCOffset(struct rtw_adapter * pAdapter, u32 ulTxAGCOffset);
+extern void	SetDataRate(struct rtw_adapter * pAdapter);
+
+extern void	SetAntenna(struct rtw_adapter * pAdapter);
+
+//extern void	SetCrystalCap(struct rtw_adapter * pAdapter);
+
+extern s32	SetThermalMeter(struct rtw_adapter * pAdapter, u8 target_ther);
+extern void	GetThermalMeter(struct rtw_adapter * pAdapter, u8 *value);
+
+extern void	SetContinuousTx(struct rtw_adapter * pAdapter, u8 bStart);
+extern void	SetSingleCarrierTx(struct rtw_adapter * pAdapter, u8 bStart);
+extern void	SetSingleToneTx(struct rtw_adapter * pAdapter, u8 bStart);
+extern void	SetCarrierSuppressionTx(struct rtw_adapter * pAdapter, u8 bStart);
+
+extern void	fill_txdesc_for_mp(struct rtw_adapter * padapter, struct tx_desc *ptxdesc);
+extern void	SetPacketTx(struct rtw_adapter * padapter);
+extern void	SetPacketRx(struct rtw_adapter * pAdapter, u8 bStartRx);
+
+extern void	ResetPhyRxPktCount(struct rtw_adapter * pAdapter);
+extern u32	GetPhyRxPktReceived(struct rtw_adapter * pAdapter);
+extern u32	GetPhyRxPktCRC32Error(struct rtw_adapter * pAdapter);
+
+extern s32	SetPowerTracking(struct rtw_adapter * padapter, u8 enable);
+extern void	GetPowerTracking(struct rtw_adapter * padapter, u8 *enable);
+
+extern u32	mp_query_psd(struct rtw_adapter * pAdapter, u8 *data);
+
+
+extern void Hal_SetAntenna(struct rtw_adapter * pAdapter);
+extern void Hal_SetBandwidth(struct rtw_adapter * pAdapter);
+
+extern void Hal_SetTxPower(struct rtw_adapter * pAdapter);
+extern void Hal_SetCarrierSuppressionTx(struct rtw_adapter * pAdapter, u8 bStart);
+extern void Hal_SetSingleToneTx ( struct rtw_adapter * pAdapter, u8 bStart );
+extern void Hal_SetSingleCarrierTx (struct rtw_adapter * pAdapter, u8 bStart);
+extern void Hal_SetContinuousTx (struct rtw_adapter * pAdapter, u8 bStart);
+extern void Hal_SetBandwidth(struct rtw_adapter * pAdapter);
+
+extern void Hal_SetDataRate(struct rtw_adapter * pAdapter);
+extern void Hal_SetChannel(struct rtw_adapter * pAdapter);
+extern void Hal_SetAntennaPathPower(struct rtw_adapter * pAdapter);
+extern s32 Hal_SetThermalMeter(struct rtw_adapter * pAdapter, u8 target_ther);
+extern s32 Hal_SetPowerTracking(struct rtw_adapter * padapter, u8 enable);
+extern void Hal_GetPowerTracking(struct rtw_adapter * padapter, u8 *enable);
+extern void Hal_GetThermalMeter(struct rtw_adapter * pAdapter, u8 *value);
+extern void Hal_mpt_SwitchRfSetting(struct rtw_adapter * pAdapter);
+extern void Hal_MPT_CCKTxPowerAdjust(struct rtw_adapter * Adapter, bool bInCH14);
+extern void Hal_MPT_CCKTxPowerAdjustbyIndex(struct rtw_adapter * pAdapter, bool beven);
+extern void Hal_SetCCKTxPower(struct rtw_adapter * pAdapter, u8 *TxPower);
+extern void Hal_SetOFDMTxPower(struct rtw_adapter * pAdapter, u8 *TxPower);
+extern void Hal_TriggerRFThermalMeter(struct rtw_adapter * pAdapter);
+extern u8 Hal_ReadRFThermalMeter(struct rtw_adapter * pAdapter);
+extern void Hal_SetCCKContinuousTx(struct rtw_adapter * pAdapter, u8 bStart);
+extern void Hal_SetOFDMContinuousTx(struct rtw_adapter * pAdapter, u8 bStart);
+extern void Hal_ProSetCrystalCap (struct rtw_adapter * pAdapter, u32 CrystalCapVal);
 
 #endif //_RTW_MP_H_
--- a/drivers/staging/rtl8192du/include/rtw_p2p.h
+++ b/drivers/staging/rtl8192du/include/rtw_p2p.h
@@ -53,26 +53,26 @@ u8 process_p2p_group_negotation_resp( st
 u8 process_p2p_group_negotation_confirm( struct wifidirect_info *pwdinfo, u8 *pframe, uint len );
 u8 process_p2p_presence_req(struct wifidirect_info *pwdinfo, u8 *pframe, uint len);
 
-void p2p_protocol_wk_hdl(_adapter *padapter, int intCmdType);
+void p2p_protocol_wk_hdl(struct rtw_adapter *padapter, int intCmdType);
 
 #ifdef CONFIG_P2P_PS
 void	process_p2p_ps_ie(PADAPTER padapter, u8 *IEs, u32 IELength);
-void	p2p_ps_wk_hdl(_adapter *padapter, u8 p2p_ps_state);
-u8	p2p_ps_wk_cmd(_adapter*padapter, u8 p2p_ps_state, u8 enqueue);
+void	p2p_ps_wk_hdl(struct rtw_adapter *padapter, u8 p2p_ps_state);
+u8	p2p_ps_wk_cmd(struct rtw_adapter*padapter, u8 p2p_ps_state, u8 enqueue);
 #endif // CONFIG_P2P_PS
 
 #ifdef CONFIG_IOCTL_CFG80211
-void rtw_init_cfg80211_wifidirect_info( _adapter*	padapter);
-int rtw_p2p_check_frames(_adapter *padapter, const u8 *buf, u32 len, u8 tx);
-void rtw_append_wfd_ie(_adapter *padapter, u8 *buf, u32 *len);
+void rtw_init_cfg80211_wifidirect_info(struct rtw_adapter *padapter);
+int rtw_p2p_check_frames(struct rtw_adapter *padapter, const u8 *buf, u32 len, u8 tx);
+void rtw_append_wfd_ie(struct rtw_adapter *padapter, u8 *buf, u32 *len);
 #endif //CONFIG_IOCTL_CFG80211
 
-void reset_global_wifidirect_info( _adapter* padapter );
-int rtw_init_wifi_display_info(_adapter* padapter);
-void rtw_init_wifidirect_timers(_adapter* padapter);
-void rtw_init_wifidirect_addrs(_adapter* padapter, u8 *dev_addr, u8 *iface_addr);
-void init_wifidirect_info( _adapter* padapter, enum P2P_ROLE role);
-int rtw_p2p_enable(_adapter *padapter, enum P2P_ROLE role);
+void reset_global_wifidirect_info(struct rtw_adapter *padapter);
+int rtw_init_wifi_display_info(struct rtw_adapter *padapter);
+void rtw_init_wifidirect_timers(struct rtw_adapter *padapter);
+void rtw_init_wifidirect_addrs(struct rtw_adapter *padapter, u8 *dev_addr, u8 *iface_addr);
+void init_wifidirect_info(struct rtw_adapter *padapter, enum P2P_ROLE role);
+int rtw_p2p_enable(struct rtw_adapter *padapter, enum P2P_ROLE role);
 
 static inline void _rtw_p2p_set_state(struct wifidirect_info *wdinfo, enum P2P_STATE state)
 {
--- a/drivers/staging/rtl8192du/include/rtw_pwrctrl.h
+++ b/drivers/staging/rtl8192du/include/rtw_pwrctrl.h
@@ -277,42 +277,42 @@ struct pwrctrl_priv
 #define rtw_set_pwr_state_check_timer(pwrctrlpriv) \
 	_rtw_set_pwr_state_check_timer((pwrctrlpriv), (pwrctrlpriv)->pwr_state_check_interval)
 
-extern void rtw_init_pwrctrl_priv(_adapter *adapter);
-extern void rtw_free_pwrctrl_priv(_adapter * adapter);
+extern void rtw_init_pwrctrl_priv(struct rtw_adapter *adapter);
+extern void rtw_free_pwrctrl_priv(struct rtw_adapter * adapter);
 
 #ifdef CONFIG_LPS_LCLK
-extern s32 rtw_register_tx_alive(PADAPTER padapter);
-extern void rtw_unregister_tx_alive(PADAPTER padapter);
-extern s32 rtw_register_rx_alive(PADAPTER padapter);
-extern void rtw_unregister_rx_alive(PADAPTER padapter);
-extern s32 rtw_register_cmd_alive(PADAPTER padapter);
-extern void rtw_unregister_cmd_alive(PADAPTER padapter);
-extern s32 rtw_register_evt_alive(PADAPTER padapter);
-extern void rtw_unregister_evt_alive(PADAPTER padapter);
-extern void cpwm_int_hdl(PADAPTER padapter, struct reportpwrstate_parm *preportpwrstate);
+extern s32 rtw_register_tx_alive(struct rtw_adapter * padapter);
+extern void rtw_unregister_tx_alive(struct rtw_adapter * padapter);
+extern s32 rtw_register_rx_alive(struct rtw_adapter * padapter);
+extern void rtw_unregister_rx_alive(struct rtw_adapter * padapter);
+extern s32 rtw_register_cmd_alive(struct rtw_adapter * padapter);
+extern void rtw_unregister_cmd_alive(struct rtw_adapter * padapter);
+extern s32 rtw_register_evt_alive(struct rtw_adapter * padapter);
+extern void rtw_unregister_evt_alive(struct rtw_adapter * padapter);
+extern void cpwm_int_hdl(struct rtw_adapter * padapter, struct reportpwrstate_parm *preportpwrstate);
 #endif
 
-extern void rtw_set_ps_mode(_adapter * padapter, u8 ps_mode, u8 smart_ps);
-extern void rtw_set_rpwm(_adapter * padapter, u8 val8);
-extern void LeaveAllPowerSaveMode(PADAPTER Adapter);
+extern void rtw_set_ps_mode(struct rtw_adapter * padapter, u8 ps_mode, u8 smart_ps);
+extern void rtw_set_rpwm(struct rtw_adapter * padapter, u8 val8);
+extern void LeaveAllPowerSaveMode(struct rtw_adapter * Adapter);
 #ifdef CONFIG_IPS
-void ips_enter(_adapter * padapter);
-int ips_leave(_adapter * padapter);
+void ips_enter(struct rtw_adapter * padapter);
+int ips_leave(struct rtw_adapter * padapter);
 #endif
 
-void rtw_ps_processor(_adapter*padapter);
+void rtw_ps_processor(struct rtw_adapter*padapter);
 
 #ifdef CONFIG_AUTOSUSPEND
-int autoresume_enter(_adapter* padapter);
+int autoresume_enter(struct rtw_adapter* padapter);
 #endif
 #ifdef SUPPORT_HW_RFOFF_DETECTED
-rt_rf_power_state RfOnOffDetect(IN	PADAPTER pAdapter );
+rt_rf_power_state RfOnOffDetect(IN	struct rtw_adapter * pAdapter );
 #endif
 
 
 #ifdef CONFIG_LPS
-void LPS_Enter(PADAPTER padapter);
-void LPS_Leave(PADAPTER padapter);
+void LPS_Enter(struct rtw_adapter * padapter);
+void LPS_Leave(struct rtw_adapter * padapter);
 #endif
 
 #ifdef CONFIG_RESUME_IN_WORKQUEUE
@@ -333,12 +333,12 @@ void rtw_unregister_early_suspend(struct
 #define rtw_unregister_early_suspend(pwrpriv) do {} while (0)
 #endif /* CONFIG_HAS_EARLYSUSPEND || CONFIG_ANDROID_POWER */
 
-u8 rtw_interface_ps_func(_adapter *padapter, enum HAL_INTF_PS_FUNC efunc_id,u8* val);
-void rtw_set_ips_deny(_adapter *padapter, u32 ms);
-int _rtw_pwr_wakeup(_adapter *padapter, u32 ips_deffer_ms, const char *caller);
+u8 rtw_interface_ps_func(struct rtw_adapter *padapter, enum HAL_INTF_PS_FUNC efunc_id,u8* val);
+void rtw_set_ips_deny(struct rtw_adapter *padapter, u32 ms);
+int _rtw_pwr_wakeup(struct rtw_adapter *padapter, u32 ips_deffer_ms, const char *caller);
 #define rtw_pwr_wakeup(adapter) _rtw_pwr_wakeup(adapter, RTW_PWR_STATE_CHK_INTERVAL, __FUNCTION__)
 #define rtw_pwr_wakeup_ex(adapter, ips_deffer_ms) _rtw_pwr_wakeup(adapter, ips_deffer_ms, __FUNCTION__)
-int rtw_pm_set_ips(_adapter *padapter, u8 mode);
-int rtw_pm_set_lps(_adapter *padapter, u8 mode);
+int rtw_pm_set_ips(struct rtw_adapter *padapter, u8 mode);
+int rtw_pm_set_lps(struct rtw_adapter *padapter, u8 mode);
 
 #endif  //__RTL871X_PWRCTRL_H_
--- a/drivers/staging/rtl8192du/include/rtw_recv.h
+++ b/drivers/staging/rtl8192du/include/rtw_recv.h
@@ -56,7 +56,7 @@ static u8 rtw_bridge_tunnel_header[] =
 //for Rx reordering buffer control
 struct recv_reorder_ctrl
 {
-	_adapter	*padapter;
+	struct rtw_adapter	*padapter;
 	u8 enable;
 	u16 indicate_seq;//=wstart_b, init_value=0xffff
 	u16 wend_b;
@@ -203,7 +203,7 @@ struct recv_priv {
 
 	uint free_recvframe_cnt;
 
-	_adapter	*adapter;
+	struct rtw_adapter	*adapter;
 
 	u32	bIsAnyNonBEPkts;
 	u64	rx_bytes;
@@ -294,7 +294,7 @@ struct recv_buf {
 
 	u32	ref_cnt;
 
-	PADAPTER adapter;
+	struct rtw_adapter * adapter;
 
 	u8	*pbuf;
 	u8	*pallocated_buf;
@@ -340,7 +340,7 @@ struct recv_frame_hdr
 	struct sk_buff *pkt_newalloc;
 #endif // CONFIG_BSD_RX_USE_MBUF
 
-	_adapter  *adapter;
+	struct rtw_adapter  *adapter;
 
 	u8 fragcnt;
 
@@ -385,7 +385,7 @@ extern int _rtw_enqueue_recvframe(union
 extern int rtw_enqueue_recvframe(union recv_frame *precvframe, struct __queue *queue);
 
 extern void rtw_free_recvframe_queue(struct __queue *pframequeue, struct __queue *pfree_recv_queue);
-u32 rtw_free_uc_swdec_pending_queue(_adapter *adapter);
+u32 rtw_free_uc_swdec_pending_queue(struct rtw_adapter *adapter);
 
 int rtw_enqueue_recvbuf_to_head(struct recv_buf *precvbuf, struct __queue *queue);
 int rtw_enqueue_recvbuf(struct recv_buf *precvbuf, struct __queue *queue);
@@ -616,6 +616,6 @@ struct sta_info;
 
 extern void _rtw_init_sta_recv_priv(struct sta_recv_priv *psta_recvpriv);
 
-extern void  mgt_dispatcher(_adapter *padapter, union recv_frame *precv_frame);
+extern void  mgt_dispatcher(struct rtw_adapter *padapter, union recv_frame *precv_frame);
 
 #endif
--- a/drivers/staging/rtl8192du/include/rtw_security.h
+++ b/drivers/staging/rtl8192du/include/rtw_security.h
@@ -383,16 +383,16 @@ void rtw_seccalctkipmic(
 	u8 *Miccode,
 	u8   priority);
 
-u32 rtw_aes_encrypt(_adapter *padapter, u8 *pxmitframe);
-u32 rtw_tkip_encrypt(_adapter *padapter, u8 *pxmitframe);
-void rtw_wep_encrypt(_adapter *padapter, u8  *pxmitframe);
+u32 rtw_aes_encrypt(struct rtw_adapter *padapter, u8 *pxmitframe);
+u32 rtw_tkip_encrypt(struct rtw_adapter *padapter, u8 *pxmitframe);
+void rtw_wep_encrypt(struct rtw_adapter *padapter, u8  *pxmitframe);
 
-u32 rtw_aes_decrypt(_adapter *padapter, u8  *precvframe);
-u32 rtw_tkip_decrypt(_adapter *padapter, u8  *precvframe);
-void rtw_wep_decrypt(_adapter *padapter, u8  *precvframe);
+u32 rtw_aes_decrypt(struct rtw_adapter *padapter, u8  *precvframe);
+u32 rtw_tkip_decrypt(struct rtw_adapter *padapter, u8  *precvframe);
+void rtw_wep_decrypt(struct rtw_adapter *padapter, u8  *precvframe);
 
 #ifdef CONFIG_TDLS
-void wpa_tdls_generate_tpk(_adapter *padapter, struct sta_info *psta);
+void wpa_tdls_generate_tpk(struct rtw_adapter *padapter, struct sta_info *psta);
 int wpa_tdls_ftie_mic(u8 *kck, u8 trans_seq,
 						u8 *lnkid, u8 *rsnie, u8 *timeoutie, u8 *ftie,
 						u8 *mic);
--- a/drivers/staging/rtl8192du/include/rtw_sreset.h
+++ b/drivers/staging/rtl8192du/include/rtw_sreset.h
@@ -44,15 +44,15 @@ struct sreset_priv {
 #define		WIFI_IF_NOT_EXIST			BIT6
 
 #if defined(DBG_CONFIG_ERROR_DETECT)
-void sreset_init_value(_adapter *padapter);
-void sreset_reset_value(_adapter *padapter);
-u8 sreset_get_wifi_status(_adapter *padapter);
-void sreset_set_wifi_error_status(_adapter *padapter, u32 status);
+void sreset_init_value(struct rtw_adapter *padapter);
+void sreset_reset_value(struct rtw_adapter *padapter);
+u8 sreset_get_wifi_status(struct rtw_adapter *padapter);
+void sreset_set_wifi_error_status(struct rtw_adapter *padapter, u32 status);
 #else
-static void sreset_init_value(_adapter *padapter){}
-static void sreset_reset_value(_adapter *padapter){}
-static u8 sreset_get_wifi_status(_adapter *padapter){return WIFI_STATUS_SUCCESS;}
-static void sreset_set_wifi_error_status(_adapter *padapter, u32 status){}
+static void sreset_init_value(struct rtw_adapter *padapter){}
+static void sreset_reset_value(struct rtw_adapter *padapter){}
+static u8 sreset_get_wifi_status(struct rtw_adapter *padapter){return WIFI_STATUS_SUCCESS;}
+static void sreset_set_wifi_error_status(struct rtw_adapter *padapter, u32 status){}
 #endif
 
 #endif
--- a/drivers/staging/rtl8192du/include/rtw_xmit.h
+++ b/drivers/staging/rtl8192du/include/rtw_xmit.h
@@ -265,7 +265,7 @@ struct xmit_buf
 {
 	struct list_head list;
 
-	_adapter *padapter;
+	struct rtw_adapter *padapter;
 
 	u8 *pallocated_buf;
 
@@ -293,7 +293,7 @@ struct xmit_frame {
 	struct pkt_attrib attrib;
 	struct sk_buff *pkt;
 	int	frame_tag;
-	_adapter *padapter;
+	struct rtw_adapter *padapter;
 	u8	*buf_addr;
 	struct xmit_buf *pxmitbuf;
 #ifdef CONFIG_USB_TX_AGGREGATION
@@ -371,7 +371,7 @@ struct	xmit_priv	{
 
 	uint	frag_len;
 
-	_adapter	*adapter;
+	struct rtw_adapter	*adapter;
 
 	u8   vcs_setting;
 	u8	vcs;
@@ -421,50 +421,50 @@ extern s32 rtw_free_xmitbuf_ext(struct x
 extern struct xmit_buf *rtw_alloc_xmitbuf(struct xmit_priv *pxmitpriv);
 extern s32 rtw_free_xmitbuf(struct xmit_priv *pxmitpriv, struct xmit_buf *pxmitbuf);
 
-void rtw_count_tx_stats(_adapter *padapter, struct xmit_frame *pxmitframe, int sz);
-extern void rtw_update_protection(_adapter *padapter, u8 *ie, uint ie_len);
-extern s32 rtw_make_wlanhdr(_adapter *padapter, u8 *hdr, struct pkt_attrib *pattrib);
+void rtw_count_tx_stats(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe, int sz);
+extern void rtw_update_protection(struct rtw_adapter *padapter, u8 *ie, uint ie_len);
+extern s32 rtw_make_wlanhdr(struct rtw_adapter *padapter, u8 *hdr, struct pkt_attrib *pattrib);
 extern s32 rtw_put_snap(u8 *data, u16 h_proto);
 
 extern struct xmit_frame *rtw_alloc_xmitframe(struct xmit_priv *pxmitpriv);
 extern s32 rtw_free_xmitframe(struct xmit_priv *pxmitpriv, struct xmit_frame *pxmitframe);
 extern void rtw_free_xmitframe_queue(struct xmit_priv *pxmitpriv, struct __queue *pframequeue);
-struct tx_servq *rtw_get_sta_pending(_adapter *padapter, struct sta_info *psta, int up, u8 *ac);
-extern s32 rtw_xmitframe_enqueue(_adapter *padapter, struct xmit_frame *pxmitframe);
+struct tx_servq *rtw_get_sta_pending(struct rtw_adapter *padapter, struct sta_info *psta, int up, u8 *ac);
+extern s32 rtw_xmitframe_enqueue(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe);
 extern struct xmit_frame* rtw_dequeue_xframe(struct xmit_priv *pxmitpriv, struct hw_xmit *phwxmit_i, int entry);
 
-extern s32 rtw_xmit_classifier(_adapter *padapter, struct xmit_frame *pxmitframe);
+extern s32 rtw_xmit_classifier(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe);
 extern int rtw_xmit_thread(void *context);
 extern u32 rtw_calculate_wlan_pkt_size_by_attribue(struct pkt_attrib *pattrib);
 #define rtw_wlan_pkt_size(f) rtw_calculate_wlan_pkt_size_by_attribue(&f->attrib)
-extern s32 rtw_xmitframe_coalesce(_adapter *padapter, struct sk_buff *pkt, struct xmit_frame *pxmitframe);
+extern s32 rtw_xmitframe_coalesce(struct rtw_adapter *padapter, struct sk_buff *pkt, struct xmit_frame *pxmitframe);
 #ifdef CONFIG_TDLS
-s32 rtw_xmit_tdls_coalesce(_adapter *padapter, struct xmit_frame *pxmitframe, u8 action);
+s32 rtw_xmit_tdls_coalesce(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe, u8 action);
 #endif //CONFIG_TDLS
 s32 _rtw_init_hw_txqueue(struct hw_txqueue* phw_txqueue, u8 ac_tag);
 void _rtw_init_sta_xmit_priv(struct sta_xmit_priv *psta_xmitpriv);
 
 
-s32 rtw_txframes_pending(_adapter *padapter);
-s32 rtw_txframes_sta_ac_pending(_adapter *padapter, struct pkt_attrib *pattrib);
+s32 rtw_txframes_pending(struct rtw_adapter *padapter);
+s32 rtw_txframes_sta_ac_pending(struct rtw_adapter *padapter, struct pkt_attrib *pattrib);
 void rtw_init_hwxmits(struct hw_xmit *phwxmit, int entry);
 
 
-s32 _rtw_init_xmit_priv(struct xmit_priv *pxmitpriv, _adapter *padapter);
+s32 _rtw_init_xmit_priv(struct xmit_priv *pxmitpriv, struct rtw_adapter *padapter);
 void _rtw_free_xmit_priv (struct xmit_priv *pxmitpriv);
 
 
-void rtw_alloc_hwxmits(_adapter *padapter);
-void rtw_free_hwxmits(_adapter *padapter);
+void rtw_alloc_hwxmits(struct rtw_adapter *padapter);
+void rtw_free_hwxmits(struct rtw_adapter *padapter);
 
 
-s32 rtw_xmit(_adapter *padapter, struct sk_buff **pkt);
+s32 rtw_xmit(struct rtw_adapter *padapter, struct sk_buff **pkt);
 
 #if defined(CONFIG_AP_MODE) || defined(CONFIG_TDLS)
-int xmitframe_enqueue_for_sleeping_sta(_adapter *padapter, struct xmit_frame *pxmitframe);
-void stop_sta_xmit(_adapter *padapter, struct sta_info *psta);
-void wakeup_sta_to_xmit(_adapter *padapter, struct sta_info *psta);
-void xmit_delivery_enabled_frames(_adapter *padapter, struct sta_info *psta);
+int xmitframe_enqueue_for_sleeping_sta(struct rtw_adapter *padapter, struct xmit_frame *pxmitframe);
+void stop_sta_xmit(struct rtw_adapter *padapter, struct sta_info *psta);
+void wakeup_sta_to_xmit(struct rtw_adapter *padapter, struct sta_info *psta);
+void xmit_delivery_enabled_frames(struct rtw_adapter *padapter, struct sta_info *psta);
 #endif
 
 u8	qos_acm(u8 acm_mask, u8 priority);
--- a/drivers/staging/rtl8192du/include/sta_info.h
+++ b/drivers/staging/rtl8192du/include/sta_info.h
@@ -139,7 +139,7 @@ struct sta_info {
 	u16	TPK_count;
 	struct timer_list TPK_timer;
 	struct TDLS_PeerKey	tpk;
-	_adapter *padapter;
+	struct rtw_adapter *padapter;
 	u16	stat_code;
 	u8	off_ch;
 	u16	ch_switch_time;
@@ -353,7 +353,7 @@ struct	sta_priv {
 	struct __queue sleep_q;
 	struct __queue wakeup_q;
 
-	_adapter *padapter;
+	struct rtw_adapter *padapter;
 
 
 #ifdef CONFIG_AP_MODE
@@ -411,11 +411,11 @@ int rtw_stainfo_offset(struct sta_priv *
 struct sta_info *rtw_get_stainfo_by_offset(struct sta_priv *stapriv, int offset);
 
 extern struct sta_info *rtw_alloc_stainfo(struct	sta_priv *pstapriv, u8 *hwaddr);
-extern u32	rtw_free_stainfo(_adapter *padapter , struct sta_info *psta);
-extern void rtw_free_all_stainfo(_adapter *padapter);
+extern u32	rtw_free_stainfo(struct rtw_adapter *padapter , struct sta_info *psta);
+extern void rtw_free_all_stainfo(struct rtw_adapter *padapter);
 extern struct sta_info *rtw_get_stainfo(struct sta_priv *pstapriv, u8 *hwaddr);
-extern u32 rtw_init_bcmc_stainfo(_adapter* padapter);
-extern struct sta_info* rtw_get_bcmc_stainfo(_adapter* padapter);
-extern u8 rtw_access_ctrl(_adapter *padapter, u8 *mac_addr);
+extern u32 rtw_init_bcmc_stainfo(struct rtw_adapter* padapter);
+extern struct sta_info* rtw_get_bcmc_stainfo(struct rtw_adapter* padapter);
+extern u8 rtw_access_ctrl(struct rtw_adapter *padapter, u8 *mac_addr);
 
 #endif //_STA_INFO_H_
--- a/drivers/staging/rtl8192du/include/usb_hal.h
+++ b/drivers/staging/rtl8192du/include/usb_hal.h
@@ -21,13 +21,13 @@
 #define __USB_HAL_H__
 
 
-void rtl8192cu_set_hal_ops(_adapter * padapter);
+void rtl8192cu_set_hal_ops(struct rtw_adapter * padapter);
 
-void rtl8192du_set_hal_ops(_adapter * padapter);
+void rtl8192du_set_hal_ops(struct rtw_adapter * padapter);
 #ifdef CONFIG_WOWLAN
 #ifdef CONFIG_WOWLAN_MANUAL
-extern int rtw_suspend_toshiba(PADAPTER Adapter);
-extern int rtw_resume_toshiba(PADAPTER Adapter);
+extern int rtw_suspend_toshiba(struct rtw_adapter * Adapter);
+extern int rtw_resume_toshiba(struct rtw_adapter * Adapter);
 #endif // CONFIG_WOWLAN_MANUAL
 #endif //CONFIG_WOWLAN
 
--- a/drivers/staging/rtl8192du/include/xmit_osdep.h
+++ b/drivers/staging/rtl8192du/include/xmit_osdep.h
@@ -43,10 +43,10 @@ struct xmit_buf;
 
 extern int rtw_xmit_entry(struct sk_buff *pkt, struct net_device *pnetdev);
 
-void rtw_os_xmit_schedule(_adapter *padapter);
+void rtw_os_xmit_schedule(struct rtw_adapter *padapter);
 
-int rtw_os_xmit_resource_alloc(_adapter *padapter, struct xmit_buf *pxmitbuf,u32 alloc_sz);
-void rtw_os_xmit_resource_free(_adapter *padapter, struct xmit_buf *pxmitbuf,u32 free_sz);
+int rtw_os_xmit_resource_alloc(struct rtw_adapter *padapter, struct xmit_buf *pxmitbuf,u32 alloc_sz);
+void rtw_os_xmit_resource_free(struct rtw_adapter *padapter, struct xmit_buf *pxmitbuf,u32 free_sz);
 
 extern void rtw_set_tx_chksum_offload(struct sk_buff *pkt, struct pkt_attrib *pattrib);
 
@@ -55,7 +55,7 @@ extern void _rtw_open_pktfile(struct sk_
 extern uint _rtw_pktfile_read (struct pkt_file *pfile, u8 *rmem, uint rlen);
 extern int rtw_endofpktfile (struct pkt_file *pfile);
 
-extern void rtw_os_pkt_complete(_adapter *padapter, struct sk_buff *pkt);
-extern void rtw_os_xmit_complete(_adapter *padapter, struct xmit_frame *pxframe);
+extern void rtw_os_pkt_complete(struct rtw_adapter *padapter, struct sk_buff *pkt);
+extern void rtw_os_xmit_complete(struct rtw_adapter *padapter, struct xmit_frame *pxframe);
 
 #endif //__XMIT_OSDEP_H_
--- a/drivers/staging/rtl8192du/os_dep/ioctl_linux.c
+++ b/drivers/staging/rtl8192du/os_dep/ioctl_linux.c
@@ -128,7 +128,7 @@ static int hwaddr_aton_i(const char *txt
 	return 0;
 }
 
-static void indicate_wx_custom_event(_adapter *padapter, char *msg)
+static void indicate_wx_custom_event(struct rtw_adapter *padapter, char *msg)
 {
 #ifndef CONFIG_IOCTL_CFG80211
 	u8 *buff, *p;
@@ -156,7 +156,7 @@ static void indicate_wx_custom_event(_ad
 }
 
 
-static void request_wps_pbc_event(_adapter *padapter)
+static void request_wps_pbc_event(struct rtw_adapter *padapter)
 {
 #ifndef CONFIG_IOCTL_CFG80211
 	u8 *buff, *p;
@@ -190,7 +190,7 @@ static void request_wps_pbc_event(_adapt
 }
 
 
-void indicate_wx_scan_complete_event(_adapter *padapter)
+void indicate_wx_scan_complete_event(struct rtw_adapter *padapter)
 {
 #ifndef CONFIG_IOCTL_CFG80211
 	union iwreq_data wrqu;
@@ -204,7 +204,7 @@ void indicate_wx_scan_complete_event(_ad
 }
 
 
-void rtw_indicate_wx_assoc_event(_adapter *padapter)
+void rtw_indicate_wx_assoc_event(struct rtw_adapter *padapter)
 {
 #ifndef CONFIG_IOCTL_CFG80211
 	union iwreq_data wrqu;
@@ -221,7 +221,7 @@ void rtw_indicate_wx_assoc_event(_adapte
 #endif
 }
 
-void rtw_indicate_wx_disassoc_event(_adapter *padapter)
+void rtw_indicate_wx_disassoc_event(struct rtw_adapter *padapter)
 {
 #ifndef CONFIG_IOCTL_CFG80211
 	union iwreq_data wrqu;
@@ -268,7 +268,7 @@ uint	rtw_is_cckratesonly_included(u8 *ra
 }
 */
 
-static char *translate_scan(_adapter *padapter,
+static char *translate_scan(struct rtw_adapter *padapter,
 				struct iw_request_info* info, struct wlan_network *pnetwork,
 				char *start, char *stop)
 {
@@ -618,7 +618,7 @@ static char *translate_scan(_adapter *pa
 
 static int wpa_set_auth_algs(struct net_device *dev, u32 value)
 {
-	_adapter *padapter = (_adapter *) rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *) rtw_netdev_priv(dev);
 	int ret = 0;
 
 	if ((value & AUTH_ALG_SHARED_KEY)&&(value & AUTH_ALG_OPEN_SYSTEM)) {
@@ -658,7 +658,7 @@ static int wpa_set_encryption(struct net
 	int ret = 0;
 	u32 wep_key_idx, wep_key_len,wep_total_len;
 	NDIS_802_11_WEP	 *pwep = NULL;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv	*pmlmepriv = &padapter->mlmepriv;
 	struct security_priv *psecuritypriv = &padapter->securitypriv;
 #ifdef CONFIG_P2P
@@ -870,7 +870,7 @@ exit:
 	return ret;
 }
 
-static int rtw_set_wpa_ie(_adapter *padapter, char *pie, unsigned short ielen)
+static int rtw_set_wpa_ie(struct rtw_adapter *padapter, char *pie, unsigned short ielen)
 {
 	u8 *buf=NULL, *pos=NULL;
 	u32 left;
@@ -1043,7 +1043,7 @@ static int rtw_wx_get_name(struct net_de
 			     struct iw_request_info *info,
 			     union iwreq_data *wrqu, char *extra)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	u16 cap;
 	u32 ht_ielen = 0;
 	char *p;
@@ -1128,7 +1128,7 @@ static int rtw_wx_get_freq(struct net_de
 			     struct iw_request_info *info,
 			     union iwreq_data *wrqu, char *extra)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct	mlme_priv	*pmlmepriv = &(padapter->mlmepriv);
 	WLAN_BSSID_EX  *pcur_bss = &pmlmepriv->cur_network.network;
 
@@ -1152,7 +1152,7 @@ static int rtw_wx_get_freq(struct net_de
 static int rtw_wx_set_mode(struct net_device *dev, struct iw_request_info *a,
 			     union iwreq_data *wrqu, char *b)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	enum NDIS_802_11_NETWORK_INFRASTRUCTURE networkType ;
 	int ret = 0;
 	struct mlme_priv *pmlmepriv = &padapter->mlmepriv;
@@ -1230,7 +1230,7 @@ exit:
 static int rtw_wx_get_mode(struct net_device *dev, struct iw_request_info *a,
 			     union iwreq_data *wrqu, char *b)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct	mlme_priv	*pmlmepriv = &(padapter->mlmepriv);
 
 	RT_TRACE(_module_rtl871x_mlme_c_,_drv_info_,(" rtw_wx_get_mode \n"));
@@ -1267,7 +1267,7 @@ static int rtw_wx_set_pmkid(struct net_d
 	                     struct iw_request_info *a,
 			     union iwreq_data *wrqu, char *extra)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	u8          j,blInserted = false;
 	int         intReturn = false;
 	struct mlme_priv  *pmlmepriv = &padapter->mlmepriv;
@@ -1375,7 +1375,7 @@ static int rtw_wx_get_range(struct net_d
 				union iwreq_data *wrqu, char *extra)
 {
 	struct iw_range *range = (struct iw_range *)extra;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
 
 	u16 val;
@@ -1508,7 +1508,7 @@ static int rtw_wx_set_wap(struct net_dev
 			 char *extra)
 {
 	uint ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct sockaddr *temp = (struct sockaddr *)awrq;
 	struct	mlme_priv	*pmlmepriv = &(padapter->mlmepriv);
 	struct list_head *phead;
@@ -1616,7 +1616,7 @@ static int rtw_wx_get_wap(struct net_dev
 			    union iwreq_data *wrqu, char *extra)
 {
 
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct	mlme_priv	*pmlmepriv = &(padapter->mlmepriv);
 	WLAN_BSSID_EX  *pcur_bss = &pmlmepriv->cur_network.network;
 
@@ -1652,7 +1652,7 @@ static int rtw_wx_set_mlme(struct net_de
 {
 	int ret=0;
 	u16 reason;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_mlme *mlme = (struct iw_mlme *) extra;
 
 
@@ -1692,7 +1692,7 @@ static int rtw_wx_set_scan(struct net_de
 {
 	u8 _status = false;
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv= &padapter->mlmepriv;
 	struct ndis_802_11_ssid ssid[RTW_SSID_SCAN_AMOUNT];
 #ifdef CONFIG_P2P
@@ -1928,7 +1928,7 @@ static int rtw_wx_get_scan(struct net_de
 			     union iwreq_data *wrqu, char *extra)
 {
 	struct list_head *plist, *phead;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct	mlme_priv	*pmlmepriv = &(padapter->mlmepriv);
 	struct __queue *queue = &(pmlmepriv->scanned_queue);
 	struct	wlan_network	*pnetwork = NULL;
@@ -1939,7 +1939,7 @@ static int rtw_wx_get_scan(struct net_de
 	u32 wait_for_surveydone;
 	int wait_status;
 #ifdef CONFIG_CONCURRENT_MODE
-	//PADAPTER pbuddy_adapter = padapter->pbuddy_adapter;
+	//struct rtw_adapter * pbuddy_adapter = padapter->pbuddy_adapter;
 	//struct mlme_priv *pbuddy_mlmepriv = &(pbuddy_adapter->mlmepriv);
 #endif
 #ifdef CONFIG_P2P
@@ -2085,7 +2085,7 @@ static int rtw_wx_set_essid(struct net_d
 			      struct iw_request_info *a,
 			      union iwreq_data *wrqu, char *extra)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &padapter->mlmepriv;
 	struct __queue *queue = &pmlmepriv->scanned_queue;
 	struct pwrctrl_priv *pwrpriv = &padapter->pwrctrlpriv;
@@ -2264,7 +2264,7 @@ static int rtw_wx_get_essid(struct net_d
 			      union iwreq_data *wrqu, char *extra)
 {
 	u32 len,ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct	mlme_priv	*pmlmepriv = &(padapter->mlmepriv);
 	WLAN_BSSID_EX  *pcur_bss = &pmlmepriv->cur_network.network;
 
@@ -2302,7 +2302,7 @@ static int rtw_wx_set_rate(struct net_de
 			      union iwreq_data *wrqu, char *extra)
 {
 	int	i, ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	u8	datarates[NumRates];
 	u32	target_rate = wrqu->bitrate.value;
 	u32	fixed = wrqu->bitrate.fixed;
@@ -2395,7 +2395,7 @@ static int rtw_wx_get_rate(struct net_de
 {
 	u16 max_rate = 0;
 
-	max_rate = rtw_get_cur_max_rate((_adapter *)rtw_netdev_priv(dev));
+	max_rate = rtw_get_cur_max_rate((struct rtw_adapter *)rtw_netdev_priv(dev));
 
 	if (max_rate == 0)
 		return -EPERM;
@@ -2410,7 +2410,7 @@ static int rtw_wx_set_rts(struct net_dev
 			     struct iw_request_info *info,
 			     union iwreq_data *wrqu, char *extra)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 
 	_func_enter_;
 
@@ -2436,7 +2436,7 @@ static int rtw_wx_get_rts(struct net_dev
 			     struct iw_request_info *info,
 			     union iwreq_data *wrqu, char *extra)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 
 	_func_enter_;
 
@@ -2455,7 +2455,7 @@ static int rtw_wx_set_frag(struct net_de
 			     struct iw_request_info *info,
 			     union iwreq_data *wrqu, char *extra)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 
 	_func_enter_;
 
@@ -2481,7 +2481,7 @@ static int rtw_wx_get_frag(struct net_de
 			     struct iw_request_info *info,
 			     union iwreq_data *wrqu, char *extra)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 
 	_func_enter_;
 
@@ -2500,7 +2500,7 @@ static int rtw_wx_get_retry(struct net_d
 			     struct iw_request_info *info,
 			     union iwreq_data *wrqu, char *extra)
 {
-	//_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	//_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 
 
 	wrqu->retry.value = 7;
@@ -2521,7 +2521,7 @@ static int rtw_wx_set_enc(struct net_dev
 	enum NDIS_802_11_AUTHENTICATION_MODE authmode;
 
 	struct iw_point *erq = &(wrqu->encoding);
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct pwrctrl_priv *pwrpriv = &padapter->pwrctrlpriv;
 	DBG_8192D("+rtw_wx_set_enc, flags=0x%x\n", erq->flags);
 
@@ -2653,7 +2653,7 @@ static int rtw_wx_get_enc(struct net_dev
 			    union iwreq_data *wrqu, char *keybuf)
 {
 	uint key, ret =0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point *erq = &(wrqu->encoding);
 	struct	mlme_priv	*pmlmepriv = &(padapter->mlmepriv);
 
@@ -2751,7 +2751,7 @@ static int rtw_wx_get_power(struct net_d
 			     struct iw_request_info *info,
 			     union iwreq_data *wrqu, char *extra)
 {
-	//_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	//_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 
 	wrqu->power.value = 0;
 	wrqu->power.fixed = 0;	/* no auto select */
@@ -2766,7 +2766,7 @@ static int rtw_wx_set_gen_ie(struct net_
 			     union iwreq_data *wrqu, char *extra)
 {
 	int ret;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 
        ret = rtw_set_wpa_ie(padapter, extra, wrqu->data.length);
 
@@ -2777,7 +2777,7 @@ static int rtw_wx_set_auth(struct net_de
 			     struct iw_request_info *info,
 			     union iwreq_data *wrqu, char *extra)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_param *param = (struct iw_param*)&(wrqu->param);
 	int ret = 0;
 
@@ -2980,7 +2980,7 @@ static int rtw_wx_get_nick(struct net_de
 			     struct iw_request_info *info,
 			     union iwreq_data *wrqu, char *extra)
 {
-	//_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	//_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	 //struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 	 //struct security_priv *psecuritypriv = &padapter->securitypriv;
 
@@ -2998,7 +2998,7 @@ static int rtw_wx_read32(struct net_devi
                             struct iw_request_info *info,
                             union iwreq_data *wrqu, char *extra)
 {
-	PADAPTER padapter;
+	struct rtw_adapter * padapter;
 	struct iw_point *p;
 	u16 len;
 	u32 addr;
@@ -3007,7 +3007,7 @@ static int rtw_wx_read32(struct net_devi
 	u8 *ptmp;
 
 
-	padapter = (PADAPTER)rtw_netdev_priv(dev);
+	padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	p = &wrqu->data;
 	len = p->length;
 	ptmp = (u8*)rtw_malloc(len);
@@ -3051,7 +3051,7 @@ static int rtw_wx_write32(struct net_dev
                             struct iw_request_info *info,
                             union iwreq_data *wrqu, char *extra)
 {
-	PADAPTER padapter = (PADAPTER)rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 
 	u32 addr;
 	u32 data32;
@@ -3088,7 +3088,7 @@ static int rtw_wx_read_rf(struct net_dev
                             struct iw_request_info *info,
                             union iwreq_data *wrqu, char *extra)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	u32 path, addr, data32;
 
 
@@ -3110,7 +3110,7 @@ static int rtw_wx_write_rf(struct net_de
                             struct iw_request_info *info,
                             union iwreq_data *wrqu, char *extra)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	u32 path, addr, data32;
 
 
@@ -3132,7 +3132,7 @@ static int rtw_wx_priv_null(struct net_d
 static int dummy(struct net_device *dev, struct iw_request_info *a,
 		 union iwreq_data *wrqu, char *b)
 {
-	//_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	//_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	//struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 
 	//DBG_8192D("cmd_code=%x, fwstate=0x%x\n", a->cmd, get_fwstate(pmlmepriv));
@@ -3145,7 +3145,7 @@ static int rtw_wx_set_channel_plan(struc
                                struct iw_request_info *info,
                                union iwreq_data *wrqu, char *extra)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct registry_priv *pregistrypriv = &padapter->registrypriv;
 	struct mlme_priv *pmlmepriv = &padapter->mlmepriv;
 	extern int rtw_channel_plan;
@@ -3195,7 +3195,7 @@ static  int rtw_drvext_hdl(struct net_de
 	int ret;
 	u16 len;
 	u8 *pparmbuf, bset;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point *p = &wrqu->data;
 
 	if ((!p->length) || (!p->pointer)){
@@ -3287,7 +3287,7 @@ _rtw_drvext_hdl_exit:
 
 }
 
-static void rtw_dbg_mode_hdl(_adapter *padapter, u32 id, u8 *pdata, u32 len)
+static void rtw_dbg_mode_hdl(struct rtw_adapter *padapter, u32 id, u8 *pdata, u32 len)
 {
 	struct mp_rw_reg *RegRWStruct;
 	struct rf_reg_param *prfreg;
@@ -3398,7 +3398,7 @@ static int rtw_mp_ioctl_hdl(struct net_d
 	uint status=0;
 	u16 len;
 	u8 *pparmbuf = NULL, bset;
-	PADAPTER padapter = (PADAPTER)rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point *p = &wrqu->data;
 
 	//DBG_8192D("+rtw_mp_ioctl_hdl\n");
@@ -3517,7 +3517,7 @@ static int rtw_get_ap_info(struct net_de
 	u8 bssid[ETH_ALEN];
 	char data[32];
 	struct wlan_network *pnetwork = NULL;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 	struct __queue *queue = &(pmlmepriv->scanned_queue);
 	struct iw_point *pdata = &wrqu->data;
@@ -3622,7 +3622,7 @@ static int rtw_set_pid(struct net_device
 {
 
 	int ret = 0;
-	_adapter *padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = rtw_netdev_priv(dev);
 	int *pdata = (int *)wrqu;
 	int selector;
 
@@ -3648,7 +3648,7 @@ static int rtw_wps_start(struct net_devi
                                union iwreq_data *wrqu, char *extra)
 {
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point *pdata = &wrqu->data;
 	u32   u32wps_start = 0;
         unsigned int uintRet = 0;
@@ -3695,7 +3695,7 @@ static int rtw_wext_p2p_enable(struct ne
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 	struct iw_point *pdata = &wrqu->data;
 	struct wifidirect_info *pwdinfo= &(padapter->wdinfo);
@@ -3735,7 +3735,7 @@ static int rtw_wext_p2p_enable(struct ne
 #ifdef CONFIG_CONCURRENT_MODE
 		else if (rtw_p2p_chk_state(pwdinfo, P2P_STATE_IDLE))
 		{
-			_adapter				*pbuddy_adapter = padapter->pbuddy_adapter;
+			struct rtw_adapter				*pbuddy_adapter = padapter->pbuddy_adapter;
 			//struct wifidirect_info	*pbuddy_wdinfo = &pbuddy_adapter->wdinfo;
 			struct mlme_priv		*pbuddy_mlmepriv = &pbuddy_adapter->mlmepriv;
 			struct mlme_ext_priv	*pbuddy_mlmeext = &pbuddy_adapter->mlmeextpriv;
@@ -3779,7 +3779,7 @@ static int rtw_p2p_set_go_nego_ssid(stru
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 	struct iw_point *pdata = &wrqu->data;
 	struct wifidirect_info *pwdinfo= &(padapter->wdinfo);
@@ -3798,7 +3798,7 @@ static int rtw_p2p_set_intent(struct net
                                union iwreq_data *wrqu, char *extra)
 {
 	int							ret = 0;
-	_adapter						*padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter						*padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct wifidirect_info			*pwdinfo= &(padapter->wdinfo);
 	u8							intent = pwdinfo->intent;
 
@@ -3837,7 +3837,7 @@ static int rtw_p2p_set_listen_ch(struct
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct wifidirect_info *pwdinfo= &(padapter->wdinfo);
 	u8	listen_ch = pwdinfo->listen_channel;	//	Listen channel number
 
@@ -3879,7 +3879,7 @@ static int rtw_p2p_set_op_ch(struct net_
 //	This function is used to set the operating channel if the driver will become the group owner
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct wifidirect_info *pwdinfo= &(padapter->wdinfo);
 	u8	op_ch = pwdinfo->operating_channel;	//	Operating channel number
 
@@ -3919,7 +3919,7 @@ static int rtw_p2p_profilefound(struct n
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct wifidirect_info *pwdinfo= &(padapter->wdinfo);
 
 	//	Comment by Albert 2010/10/13
@@ -3978,7 +3978,7 @@ static int rtw_p2p_setDN(struct net_devi
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct wifidirect_info *pwdinfo= &(padapter->wdinfo);
 
 
@@ -3998,7 +3998,7 @@ static int rtw_p2p_get_status(struct net
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point *pdata = &wrqu->data;
 	struct wifidirect_info	*pwdinfo = &(padapter->wdinfo);
 
@@ -4031,7 +4031,7 @@ static int rtw_p2p_get_req_cm(struct net
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point *pdata = &wrqu->data;
 	struct wifidirect_info	*pwdinfo = &(padapter->wdinfo);
 
@@ -4048,7 +4048,7 @@ static int rtw_p2p_get_role(struct net_d
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point *pdata = &wrqu->data;
 	struct wifidirect_info	*pwdinfo = &(padapter->wdinfo);
 
@@ -4070,7 +4070,7 @@ static int rtw_p2p_get_peer_ifaddr(struc
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point *pdata = &wrqu->data;
 	struct wifidirect_info	*pwdinfo = &(padapter->wdinfo);
 
@@ -4094,7 +4094,7 @@ static int rtw_p2p_get_peer_devaddr(stru
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point *pdata = &wrqu->data;
 	struct wifidirect_info	*pwdinfo = &(padapter->wdinfo);
 
@@ -4118,7 +4118,7 @@ static int rtw_p2p_get_peer_devaddr_by_i
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point *pdata = &wrqu->data;
 	struct wifidirect_info	*pwdinfo = &(padapter->wdinfo);
 
@@ -4142,7 +4142,7 @@ static int rtw_p2p_get_groupid(struct ne
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point *pdata = &wrqu->data;
 	struct wifidirect_info	*pwdinfo = &(padapter->wdinfo);
 
@@ -4163,7 +4163,7 @@ static int rtw_p2p_get_op_ch(struct net_
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point *pdata = &wrqu->data;
 	struct wifidirect_info	*pwdinfo = &(padapter->wdinfo);
 
@@ -4191,7 +4191,7 @@ static int rtw_p2p_get_wps_configmethod(
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	u8 peerMAC[ETH_ALEN] = { 0x00 };
 	struct mlme_priv *pmlmepriv = &padapter->mlmepriv;
 	struct list_head *plist, *phead;
@@ -4267,7 +4267,7 @@ static int rtw_p2p_get_peer_wfd_port(str
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point *pdata = &wrqu->data;
 	struct wifidirect_info	*pwdinfo = &(padapter->wdinfo);
 
@@ -4287,7 +4287,7 @@ static int rtw_p2p_get_peer_wfd_preferre
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point *pdata = &wrqu->data;
 	struct wifidirect_info	*pwdinfo = &(padapter->wdinfo);
 
@@ -4306,7 +4306,7 @@ static int rtw_p2p_get_peer_wfd_session_
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point *pdata = &wrqu->data;
 	struct wifidirect_info	*pwdinfo = &(padapter->wdinfo);
 
@@ -4327,7 +4327,7 @@ static int rtw_p2p_get_go_device_address
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	u8 peerMAC[ETH_ALEN] = { 0x00 };
 	struct mlme_priv *pmlmepriv = &padapter->mlmepriv;
 	struct list_head *plist, *phead;
@@ -4418,7 +4418,7 @@ static int rtw_p2p_get_device_type(struc
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	u8 peerMAC[ETH_ALEN] = { 0x00 };
 	struct mlme_priv *pmlmepriv = &padapter->mlmepriv;
 	struct list_head *plist, *phead;
@@ -4495,7 +4495,7 @@ static int rtw_p2p_get_device_name(struc
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	u8 peerMAC[ETH_ALEN] = { 0x00 };
 	struct mlme_priv *pmlmepriv = &padapter->mlmepriv;
 	struct list_head *plist, *phead;
@@ -4568,7 +4568,7 @@ static int rtw_p2p_get_invitation_proced
 {
 
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	u8 peerMAC[ETH_ALEN] = { 0x00 };
 	struct mlme_priv *pmlmepriv = &padapter->mlmepriv;
 	struct list_head *plist, *phead;
@@ -4656,7 +4656,7 @@ static int rtw_p2p_connect(struct net_de
 {
 
 	int ret = 0;
-	_adapter				*padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter				*padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct wifidirect_info	*pwdinfo = &(padapter->wdinfo);
 	u8					peerMAC[ ETH_ALEN ] = { 0x00 };
 	int					jj,kk;
@@ -4667,7 +4667,7 @@ static int rtw_p2p_connect(struct net_de
 	struct	wlan_network	*pnetwork = NULL;
 	uint					uintPeerChannel = 0;
 #ifdef CONFIG_CONCURRENT_MODE
-	_adapter				*pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter				*pbuddy_adapter = padapter->pbuddy_adapter;
 	struct mlme_ext_priv	*pbuddy_mlmeext = &pbuddy_adapter->mlmeextpriv;
 #endif // CONFIG_CONCURRENT_MODE
 
@@ -4788,7 +4788,7 @@ static int rtw_p2p_invite_req(struct net
 {
 
 	int ret = 0;
-	_adapter					*padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter					*padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point				*pdata = &wrqu->data;
 	struct wifidirect_info		*pwdinfo = &(padapter->wdinfo);
 	int						jj,kk;
@@ -4803,7 +4803,7 @@ static int rtw_p2p_invite_req(struct net
 	uint						p2pielen = 0, attr_contentlen = 0;
 	struct tx_invite_req_info*	pinvite_req_info = &pwdinfo->invitereq_info;
 #ifdef CONFIG_CONCURRENT_MODE
-	_adapter					*pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter					*pbuddy_adapter = padapter->pbuddy_adapter;
 	struct mlme_priv			*pbuddy_mlmepriv = &pbuddy_adapter->mlmepriv;
 	struct mlme_ext_priv		*pbuddy_mlmeext = &pbuddy_adapter->mlmeextpriv;
 #endif // CONFIG_CONCURRENT_MODE
@@ -5009,7 +5009,7 @@ static int rtw_p2p_set_persistent(struct
 {
 
 	int ret = 0;
-	_adapter					*padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter					*padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point				*pdata = &wrqu->data;
 	struct wifidirect_info		*pwdinfo = &(padapter->wdinfo);
 	int						jj,kk;
@@ -5024,7 +5024,7 @@ static int rtw_p2p_set_persistent(struct
 	uint						p2pielen = 0, attr_contentlen = 0;
 	struct tx_invite_req_info*	pinvite_req_info = &pwdinfo->invitereq_info;
 #ifdef CONFIG_CONCURRENT_MODE
-	_adapter					*pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter					*pbuddy_adapter = padapter->pbuddy_adapter;
 	struct mlme_priv			*pbuddy_mlmepriv = &pbuddy_adapter->mlmepriv;
 	struct mlme_ext_priv		*pbuddy_mlmeext = &pbuddy_adapter->mlmeextpriv;
 #endif // CONFIG_CONCURRENT_MODE
@@ -5075,7 +5075,7 @@ static int rtw_p2p_set_pc(struct net_dev
 {
 
 	int ret = 0;
-	_adapter				*padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter				*padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point			*pdata = &wrqu->data;
 	struct wifidirect_info	*pwdinfo = &(padapter->wdinfo);
 	u8					peerMAC[ ETH_ALEN ] = { 0x00 };
@@ -5090,7 +5090,7 @@ static int rtw_p2p_set_pc(struct net_dev
 	uint					p2pielen = 0, attr_contentlen = 0;
 	uint					uintPeerChannel = 0;
 #ifdef CONFIG_CONCURRENT_MODE
-	_adapter				*pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter				*pbuddy_adapter = padapter->pbuddy_adapter;
 	struct mlme_ext_priv	*pbuddy_mlmeext = &pbuddy_adapter->mlmeextpriv;
 #endif // CONFIG_CONCURRENT_MODE
 	struct wifi_display_info*	pwfd_info = pwdinfo->wfd_info;
@@ -5210,7 +5210,7 @@ static int rtw_p2p_set_wfd_device_type(s
 {
 
 	int ret = 0;
-	_adapter					*padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter					*padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point				*pdata = &wrqu->data;
 	struct wifidirect_info		*pwdinfo = &(padapter->wdinfo);
 	struct wifi_display_info		*pwfd_info = pwdinfo->wfd_info;
@@ -5243,7 +5243,7 @@ static int rtw_p2p_set_scan_result_type(
 {
 
 	int ret = 0;
-	_adapter					*padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter					*padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point				*pdata = &wrqu->data;
 	struct wifidirect_info		*pwdinfo = &(padapter->wdinfo);
 	struct wifi_display_info		*pwfd_info = pwdinfo->wfd_info;
@@ -5288,7 +5288,7 @@ static int rtw_p2p_set_sa(struct net_dev
 {
 
 	int ret = 0;
-	_adapter					*padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter					*padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point				*pdata = &wrqu->data;
 	struct wifidirect_info		*pwdinfo = &(padapter->wdinfo);
 	struct wifi_display_info		*pwfd_info = pwdinfo->wfd_info;
@@ -5329,7 +5329,7 @@ static int rtw_p2p_prov_disc(struct net_
                                union iwreq_data *wrqu, char *extra)
 {
 	int ret = 0;
-	_adapter				*padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter				*padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct wifidirect_info	*pwdinfo = &(padapter->wdinfo);
 	u8					peerMAC[ ETH_ALEN ] = { 0x00 };
 	int					jj,kk;
@@ -5343,7 +5343,7 @@ static int rtw_p2p_prov_disc(struct net_
 	u8 *p2pie;
 	uint					p2pielen = 0, attr_contentlen = 0;
 #ifdef CONFIG_CONCURRENT_MODE
-	_adapter				*pbuddy_adapter = padapter->pbuddy_adapter;
+	struct rtw_adapter				*pbuddy_adapter = padapter->pbuddy_adapter;
 	struct mlme_ext_priv	*pbuddy_mlmeext = &pbuddy_adapter->mlmeextpriv;
 #endif // CONFIG_CONCURRENT_MODE
 
@@ -5579,7 +5579,7 @@ static int rtw_p2p_got_wpsinfo(struct ne
 {
 
 	int ret = 0;
-	_adapter				*padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter				*padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct wifidirect_info	*pwdinfo = &(padapter->wdinfo);
 
 
@@ -5625,7 +5625,7 @@ static int rtw_p2p_set(struct net_device
 	int ret = 0;
 #ifdef CONFIG_P2P
 
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 	struct iw_point *pdata = &wrqu->data;
 	struct wifidirect_info *pwdinfo= &(padapter->wdinfo);
@@ -5742,7 +5742,7 @@ static int rtw_p2p_get(struct net_device
 
 #ifdef CONFIG_P2P
 
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 	struct iw_point *pdata = &wrqu->data;
 	struct wifidirect_info *pwdinfo= &(padapter->wdinfo);
@@ -5845,13 +5845,13 @@ bad:
 
 }
 
-extern int rtw_change_ifname(_adapter *padapter, const char *ifname);
+extern int rtw_change_ifname(struct rtw_adapter *padapter, const char *ifname);
 static int rtw_rereg_nd_name(struct net_device *dev,
                                struct iw_request_info *info,
                                union iwreq_data *wrqu, char *extra)
 {
 	int ret = 0;
-	_adapter *padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = rtw_netdev_priv(dev);
 	struct rereg_nd_name_data *rereg_priv = &padapter->rereg_nd_name_priv;
 	char new_ifname[IFNAMSIZ];
 
@@ -5915,7 +5915,7 @@ exit:
 
 }
 
-void mac_reg_dump(_adapter *padapter)
+void mac_reg_dump(struct rtw_adapter *padapter)
 {
 	int i,j=1;
 	DBG_8192D("\n======= MAC REG =======\n");
@@ -5932,7 +5932,7 @@ void mac_reg_dump(_adapter *padapter)
 		if ((j++)%4 == 0)	DBG_8192D("\n");
 	}
 }
-void bb_reg_dump(_adapter *padapter)
+void bb_reg_dump(struct rtw_adapter *padapter)
 {
 	int i,j=1;
 	DBG_8192D("\n======= BB REG =======\n");
@@ -5944,7 +5944,7 @@ void bb_reg_dump(_adapter *padapter)
 		if ((j++)%4 == 0)	DBG_8192D("\n");
 	}
 }
-void rf_reg_dump(_adapter *padapter)
+void rf_reg_dump(struct rtw_adapter *padapter)
 {
 	int i,j=1,path;
 	u32 value;
@@ -5983,7 +5983,7 @@ static int rtw_dbg_port(struct net_devic
 	u16 arg;
 	u32 extra_arg, *pdata, val32;
 	struct sta_info *psta;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 	struct mlme_ext_priv	*pmlmeext = &padapter->mlmeextpriv;
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
@@ -6547,7 +6547,7 @@ static int wpa_set_param(struct net_devi
 {
 	uint ret=0;
 	u32 flags;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 
 	switch (name){
 	case IEEE_PARAM_WPA_ENABLED:
@@ -6642,7 +6642,7 @@ static int wpa_set_param(struct net_devi
 static int wpa_mlme(struct net_device *dev, u32 command, u32 reason)
 {
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 
 	switch (command)
 	{
@@ -6703,7 +6703,7 @@ static int wpa_supplicant_ioctl(struct n
 
 	case IEEE_CMD_SET_WPA_IE:
 		//ret = wpa_set_wpa_ie(dev, param, p->length);
-		ret =  rtw_set_wpa_ie((_adapter *)rtw_netdev_priv(dev), (char*)param->u.wpa_ie.data, (u16)param->u.wpa_ie.len);
+		ret =  rtw_set_wpa_ie((struct rtw_adapter *)rtw_netdev_priv(dev), (char*)param->u.wpa_ie.data, (u16)param->u.wpa_ie.len);
 		break;
 
 	case IEEE_CMD_SET_ENCRYPTION:
@@ -6735,7 +6735,7 @@ out:
 }
 
 #ifdef CONFIG_AP_MODE
-static u8 set_pairwise_key(_adapter *padapter, struct sta_info *psta)
+static u8 set_pairwise_key(struct rtw_adapter *padapter, struct sta_info *psta)
 {
 	struct cmd_obj*			ph2c;
 	struct set_stakey_parm	*psetstakey_para;
@@ -6773,7 +6773,7 @@ exit:
 
 }
 
-static int set_group_key(_adapter *padapter, u8 *key, u8 alg, int keyid)
+static int set_group_key(struct rtw_adapter *padapter, u8 *key, u8 alg, int keyid)
 {
 	u8 keylen;
 	struct cmd_obj* pcmd;
@@ -6839,7 +6839,7 @@ exit:
 
 }
 
-static int set_wep_key(_adapter *padapter, u8 *key, u8 keylen, int keyid)
+static int set_wep_key(struct rtw_adapter *padapter, u8 *key, u8 keylen, int keyid)
 {
 	u8 alg;
 
@@ -6866,7 +6866,7 @@ static int rtw_set_encryption(struct net
 	u32 wep_key_idx, wep_key_len,wep_total_len;
 	NDIS_802_11_WEP	 *pwep = NULL;
 	struct sta_info *psta = NULL, *pbcmc_sta = NULL;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv	*pmlmepriv = &padapter->mlmepriv;
 	struct security_priv* psecuritypriv=&(padapter->securitypriv);
 	struct sta_priv *pstapriv = &padapter->stapriv;
@@ -7189,7 +7189,7 @@ exit:
 static int rtw_set_beacon(struct net_device *dev, struct ieee_param *param, int len)
 {
 	int ret=0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 	struct sta_priv *pstapriv = &padapter->stapriv;
 	unsigned char *pbuf = param->u.bcn_ie.buf;
@@ -7219,7 +7219,7 @@ static int rtw_set_beacon(struct net_dev
 static int rtw_hostapd_sta_flush(struct net_device *dev)
 {
 	int ret=0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 
 	DBG_8192D("%s\n", __func__);
 
@@ -7235,7 +7235,7 @@ static int rtw_add_sta(struct net_device
 {
 	int ret=0;
 	struct sta_info *psta = NULL;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 	struct sta_priv *pstapriv = &padapter->stapriv;
 
@@ -7323,7 +7323,7 @@ static int rtw_del_sta(struct net_device
 {
 	int ret=0;
 	struct sta_info *psta = NULL;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 	struct sta_priv *pstapriv = &padapter->stapriv;
 
@@ -7374,7 +7374,7 @@ static int rtw_ioctl_get_sta_data(struct
 {
 	int ret=0;
 	struct sta_info *psta = NULL;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 	struct sta_priv *pstapriv = &padapter->stapriv;
 	struct ieee_param_ex *param_ex = (struct ieee_param_ex *)param;
@@ -7445,7 +7445,7 @@ static int rtw_get_sta_wpaie(struct net_
 {
 	int ret=0;
 	struct sta_info *psta = NULL;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 	struct sta_priv *pstapriv = &padapter->stapriv;
 
@@ -7498,7 +7498,7 @@ static int rtw_set_wps_beacon(struct net
 {
 	int ret=0;
 	unsigned char wps_oui[4]={0x0,0x50,0xf2,0x04};
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 	struct mlme_ext_priv	*pmlmeext = &(padapter->mlmeextpriv);
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
@@ -7543,7 +7543,7 @@ static int rtw_set_wps_beacon(struct net
 static int rtw_set_wps_probe_resp(struct net_device *dev, struct ieee_param *param, int len)
 {
 	int ret=0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 	int ie_len;
 
@@ -7580,7 +7580,7 @@ static int rtw_set_wps_probe_resp(struct
 static int rtw_set_wps_assoc_resp(struct net_device *dev, struct ieee_param *param, int len)
 {
 	int ret=0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 	int ie_len;
 
@@ -7618,7 +7618,7 @@ static int rtw_set_wps_assoc_resp(struct
 static int rtw_set_hidden_ssid(struct net_device *dev, struct ieee_param *param, int len)
 {
 	int ret=0;
-	_adapter *adapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *adapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *mlmepriv = &(adapter->mlmepriv);
 	struct mlme_ext_priv	*mlmeext = &(adapter->mlmeextpriv);
 	struct mlme_ext_info	*mlmeinfo = &(mlmeext->mlmext_info);
@@ -7672,7 +7672,7 @@ static int rtw_set_hidden_ssid(struct ne
 static int rtw_ioctl_acl_remove_sta(struct net_device *dev, struct ieee_param *param, int len)
 {
 	int ret=0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 
 	if (check_fwstate(pmlmepriv, WIFI_AP_STATE) != true)
@@ -7694,7 +7694,7 @@ static int rtw_ioctl_acl_remove_sta(stru
 static int rtw_ioctl_acl_add_sta(struct net_device *dev, struct ieee_param *param, int len)
 {
 	int ret=0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 
 	if (check_fwstate(pmlmepriv, WIFI_AP_STATE) != true)
@@ -7716,7 +7716,7 @@ static int rtw_ioctl_acl_add_sta(struct
 static int rtw_ioctl_set_macaddr_acl(struct net_device *dev, struct ieee_param *param, int len)
 {
 	int ret=0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &(padapter->mlmepriv);
 
 	if (check_fwstate(pmlmepriv, WIFI_AP_STATE) != true)
@@ -7731,7 +7731,7 @@ static int rtw_hostapd_ioctl(struct net_
 {
 	struct ieee_param *param;
 	int ret=0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 
 	//DBG_8192D("%s\n", __func__);
 
@@ -7890,7 +7890,7 @@ static int rtw_wx_set_priv(struct net_de
 	char *ext;
 	int i;
 
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct iw_point *dwrq = (struct iw_point*)awrq;
 
 	//RT_TRACE(_module_rtl871x_ioctl_os_c, _drv_notice_, ("+rtw_wx_set_priv\n"));
@@ -8064,7 +8064,7 @@ static int rtw_mp_efuse_get(struct net_d
 			union iwreq_data *wdata, char *extra)
 {
 	struct iw_point *wrqu = (struct iw_point *)wdata;
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 	struct mp_priv *pmp_priv;
 
 	int i,j =0;
@@ -8275,7 +8275,7 @@ static int rtw_mp_efuse_set(struct net_d
 			union iwreq_data *wdata, char *extra)
 {
 	struct iw_point *wrqu = (struct iw_point *)wdata;
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 
 	u8 buffer[40];
 	u32 i,jj,kk;
@@ -8450,7 +8450,7 @@ static int rtw_mp_write_reg(struct net_d
 	char width;
 	u32 addr, data;
 	int ret;
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 
 
 	pch = extra;
@@ -8524,7 +8524,7 @@ static int rtw_mp_read_reg(struct net_de
 	u32 addr;
 	//u32 *data = (u32*)extra;
 	u32 ret, i=0, j=0, strtout=0;
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 
 	if (wrqu->length > 128) return -EFAULT;
 
@@ -8652,7 +8652,7 @@ static int rtw_mp_read_reg(struct net_de
 */
 	u32 path, addr, data;
 	int ret;
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 
 
 	ret = sscanf(extra, "%d,%x,%x", &path, &addr, &data);
@@ -8688,7 +8688,7 @@ static int rtw_mp_read_rf(struct net_dev
 	//u32 *data = (u32*)extra;
 	u32 path, addr;
 	u32 ret,i=0 ,j=0,strtou=0;
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 
 
 	if (wrqu->length > 128) return -EFAULT;
@@ -8743,7 +8743,7 @@ static int rtw_mp_start(struct net_devic
 			struct iw_point *wrqu, char *extra)
 {
 	u8 val8;
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 
 
 	if (padapter->registrypriv.mp_mode == 0)
@@ -8762,7 +8762,7 @@ static int rtw_mp_stop(struct net_device
 			struct iw_request_info *info,
 			struct iw_point *wrqu, char *extra)
 {
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 
 
 	if (padapter->mppriv.mode != MP_OFF) {
@@ -8781,7 +8781,7 @@ static int rtw_mp_rate(struct net_device
 {
 	u32 rate = MPT_RATE_1M;
 	u8		input[wrqu->length];
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 
 	if (copy_from_user(input, wrqu->pointer, wrqu->length))
 			return -EFAULT;
@@ -8811,7 +8811,7 @@ static int rtw_mp_channel(struct net_dev
 			struct iw_point *wrqu, char *extra)
 {
 
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 	u8		input[wrqu->length];
 	u32	channel = 1;
 
@@ -8835,7 +8835,7 @@ static int rtw_mp_bandwidth(struct net_d
 {
 	u32 bandwidth=0, sg=0;
 	//u8 buffer[40];
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 	//if (copy_from_user(buffer, (void*)wrqu->data.pointer, wrqu->data.length))
     //            return -EFAULT;
 
@@ -8863,7 +8863,7 @@ static int rtw_mp_txpower(struct net_dev
 	u32		idx_a=0,idx_b=0;
 	u8		input[wrqu->length];
 
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 
 	if (copy_from_user(input, wrqu->pointer, wrqu->length))
 			return -EFAULT;
@@ -8888,7 +8888,7 @@ static int rtw_mp_ant_tx(struct net_devi
 	u8 i;
 	u8		input[wrqu->length];
 	u16 antenna = 0;
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 
 	if (copy_from_user(input, wrqu->pointer, wrqu->length))
 			return -EFAULT;
@@ -8927,7 +8927,7 @@ static int rtw_mp_ant_rx(struct net_devi
 	u8 i;
 	u16 antenna = 0;
 	u8		input[wrqu->length];
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 
 	if (copy_from_user(input, wrqu->pointer, wrqu->length))
 			return -EFAULT;
@@ -8968,7 +8968,7 @@ static int rtw_mp_ctx(struct net_device
 	struct mp_priv *pmp_priv;
 	struct pkt_attrib *pattrib;
 
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 
 
 	pmp_priv = &padapter->mppriv;
@@ -9111,7 +9111,7 @@ static int rtw_mp_arx(struct net_device
 			struct iw_point *wrqu, char *extra)
 {
 	u8 bStartRx=0,bStopRx=0;
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 	u8		input[wrqu->length];
 
 	if (copy_from_user(input, wrqu->pointer, wrqu->length))
@@ -9144,7 +9144,7 @@ static int rtw_mp_trx_query(struct net_d
 			struct iw_point *wrqu, char *extra)
 {
 	u32 txok,txfail,rxok,rxfail;
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 	//if (copy_from_user(extra, wrqu->data.pointer, wrqu->data.length))
 	//	return -EFAULT;
 
@@ -9169,7 +9169,7 @@ static int rtw_mp_pwrtrk(struct net_devi
 	u8 enable;
 	u32 thermal;
 	s32 ret;
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 	u8		input[wrqu->length];
 
 	if (copy_from_user(input, wrqu->pointer, wrqu->length))
@@ -9205,7 +9205,7 @@ static int rtw_mp_psd(struct net_device
 			struct iw_request_info *info,
 			struct iw_point *wrqu, char *extra)
 {
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 	u8		input[wrqu->length];
 
 	if (copy_from_user(input, wrqu->pointer, wrqu->length))
@@ -9227,7 +9227,7 @@ static int rtw_mp_thermal(struct net_dev
 	u16 addr=0xc3;
 	u16 cnt=1;
 	u16 max_available_size=0;
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 
 	if (copy_from_user(extra, wrqu->pointer, wrqu->length))
 		return -EFAULT;
@@ -9261,7 +9261,7 @@ static int rtw_mp_reset_stats(struct net
 {
 	struct mp_priv *pmp_priv;
 	struct pkt_attrib *pattrib;
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 
 	pmp_priv = &padapter->mppriv;
 
@@ -9281,7 +9281,7 @@ static int rtw_mp_dump(struct net_device
         u32 value;
 	u8 rf_type,path_nums = 0;
 	u32 i,j=1,path;
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 
 	pmp_priv = &padapter->mppriv;
 
@@ -9333,7 +9333,7 @@ static int rtw_mp_phypara(struct net_dev
 			struct iw_point *wrqu, char *extra)
 {
 
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 	char	input[wrqu->length];
 	u32		valxcap;
 
@@ -9374,7 +9374,7 @@ static int rtw_mp_set(struct net_device
 {
 	struct iw_point *wrqu = (struct iw_point *)wdata;
 	u32 subcmd = wrqu->flags;
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 
 	if (padapter == NULL)
 	{
@@ -9437,7 +9437,7 @@ static int rtw_mp_get(struct net_device
 {
 	struct iw_point *wrqu = (struct iw_point *)wdata;
 	u32 subcmd = wrqu->flags;
-	PADAPTER padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter * padapter = rtw_netdev_priv(dev);
 
 	//DBG_8192D("in mp_get extra= %s \n",extra);
 
@@ -9546,7 +9546,7 @@ static int rtw_wfd_tdls_enable(struct ne
 #ifdef CONFIG_TDLS
 #ifdef CONFIG_WFD
 
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 
 	DBG_8192D("[%s] %s %d\n", __func__, extra, wrqu->data.length -1 );
 
@@ -9574,7 +9574,7 @@ static int rtw_tdls_weaksec(struct net_d
 #ifdef CONFIG_TDLS
 
 	u8 i, j;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 
 	DBG_8192D("[%s] %s %d\n", __func__, extra, wrqu->data.length -1 );
 
@@ -9600,7 +9600,7 @@ static int rtw_tdls_enable(struct net_de
 
 #ifdef CONFIG_TDLS
 
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct tdls_info	*ptdlsinfo = &padapter->tdlsinfo;
 	struct list_head *plist, *phead;
 	s32	index;
@@ -9667,7 +9667,7 @@ static int rtw_tdls_setup(struct net_dev
 #ifdef CONFIG_TDLS
 
 	u8 i, j;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	u8 mac_addr[ETH_ALEN];
 
 #ifdef CONFIG_WFD
@@ -9713,7 +9713,7 @@ static int rtw_tdls_teardown(struct net_
 #ifdef CONFIG_TDLS
 
 	u8 i,j;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct sta_info *ptdls_sta = NULL;
 	u8 mac_addr[ETH_ALEN];
 
@@ -9744,7 +9744,7 @@ static int rtw_tdls_discovery(struct net
 
 #ifdef CONFIG_TDLS
 
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_ext_priv	*pmlmeext = &(padapter->mlmeextpriv);
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
 
@@ -9765,7 +9765,7 @@ static int rtw_tdls_ch_switch(struct net
 
 #ifdef CONFIG_TDLS
 
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct tdls_info	*ptdlsinfo = &padapter->tdlsinfo;
 	u8 i, j, mac_addr[ETH_ALEN];
 	struct sta_info *ptdls_sta = NULL;
@@ -9796,7 +9796,7 @@ static int rtw_tdls_pson(struct net_devi
 
 #ifdef CONFIG_TDLS
 
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_ext_priv	*pmlmeext = &(padapter->mlmeextpriv);
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
 	u8 i, j, mac_addr[ETH_ALEN];
@@ -9825,7 +9825,7 @@ static int rtw_tdls_psoff(struct net_dev
 
 #ifdef CONFIG_TDLS
 
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct mlme_ext_priv	*pmlmeext = &(padapter->mlmeextpriv);
 	struct mlme_ext_info	*pmlmeinfo = &(pmlmeext->mlmext_info);
 	u8 i, j, mac_addr[ETH_ALEN];
@@ -9855,7 +9855,7 @@ static int rtw_tdls_setip(struct net_dev
 #ifdef CONFIG_TDLS
 #ifdef CONFIG_WFD
 
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct tdls_info *ptdlsinfo = &padapter->tdlsinfo;
 	struct wifi_display_info *pwfd_info = ptdlsinfo->wfd_info;
 	u8 i=0, j=0, k=0, tag=0, ip[3] = { 0xff }, *ptr = extra;
@@ -9903,7 +9903,7 @@ static int rtw_tdls_getip(struct net_dev
 #ifdef CONFIG_TDLS
 #ifdef CONFIG_WFD
 
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct tdls_info *ptdlsinfo = &padapter->tdlsinfo;
 	struct wifi_display_info *pwfd_info = ptdlsinfo->wfd_info;
 
@@ -9937,7 +9937,7 @@ static int rtw_tdls_getport(struct net_d
 #ifdef CONFIG_TDLS
 #ifdef CONFIG_WFD
 
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct tdls_info *ptdlsinfo = &padapter->tdlsinfo;
 	struct wifi_display_info *pwfd_info = ptdlsinfo->wfd_info;
 
@@ -9966,7 +9966,7 @@ static int rtw_tdls_dis_result(struct ne
 #ifdef CONFIG_TDLS
 #ifdef CONFIG_WFD
 
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct tdls_info *ptdlsinfo = &padapter->tdlsinfo;
 	struct wifi_display_info *pwfd_info = ptdlsinfo->wfd_info;
 
@@ -9998,7 +9998,7 @@ static int rtw_wfd_tdls_status(struct ne
 #ifdef CONFIG_TDLS
 #ifdef CONFIG_WFD
 
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	struct tdls_info *ptdlsinfo = &padapter->tdlsinfo;
 	struct wifi_display_info *pwfd_info = ptdlsinfo->wfd_info;
 
@@ -10030,7 +10030,7 @@ static int rtw_tdls_ch_switch_off(struct
 
 #ifdef CONFIG_TDLS
 
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 	u8 i, j, mac_addr[ETH_ALEN];
 	struct sta_info *ptdls_sta = NULL;
 
@@ -10063,7 +10063,7 @@ static int rtw_tdls(struct net_device *d
 	int ret = 0;
 
 #ifdef CONFIG_TDLS
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 
 	DBG_8192D("[%s] extra = %s\n", __func__, extra);
 	//	WFD Sigma will use the tdls enable command to let the driver know we want to test the tdls now!
@@ -10135,7 +10135,7 @@ static int rtw_tdls(struct net_device *d
 	}
 	else if (_rtw_memcmp(extra, "tprobe=", 6))
 	{
-		issue_tunneled_probe_req((_adapter *)rtw_netdev_priv(dev));
+		issue_tunneled_probe_req((struct rtw_adapter *)rtw_netdev_priv(dev));
 	}
 #endif //CONFIG_WFD
 
@@ -10185,7 +10185,7 @@ static int rtw_pm_set(struct net_device
 {
 	int ret = 0;
 	unsigned	mode = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 
 	DBG_8192D("[%s] extra = %s\n", __func__, extra);
 
@@ -10212,7 +10212,7 @@ static int rtw_wowlan_ctrl(struct net_de
 	uint status=0;
 	u16 len;
 	u8 *pparmbuf = NULL, bset;
-	_adapter *padapter =  (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter =  (struct rtw_adapter *)rtw_netdev_priv(dev);
 
 	struct iw_point *p = &wrqu->data;
 
@@ -10271,7 +10271,7 @@ static int rtw_widi_set(struct net_devic
                                union iwreq_data *wrqu, char *extra)
 {
 	int ret = 0;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 
 	process_intel_widi_cmd(padapter, extra);
 
@@ -10284,7 +10284,7 @@ static int rtw_widi_set_probe_request(st
 {
 	int	ret = 0;
 	u8	*pbuf = NULL;
-	_adapter	*padapter = (_adapter *)rtw_netdev_priv(dev);
+	struct rtw_adapter	*padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
 
 	pbuf = rtw_malloc(sizeof(l2_msg_t));
 	if (pbuf) {
@@ -10627,8 +10627,8 @@ static iw_handler rtw_private_handler[]
 #if WIRELESS_EXT >= 17
 static struct iw_statistics *rtw_get_wireless_stats(struct net_device *dev)
 {
-       _adapter *padapter = (_adapter *)rtw_netdev_priv(dev);
-	   struct iw_statistics *piwstats=&padapter->iwstats;
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(dev);
+	struct iw_statistics *piwstats=&padapter->iwstats;
 	int tmp_level = 0;
 	int tmp_qual = 0;
 	int tmp_noise = 0;
--- a/drivers/staging/rtl8192du/os_dep/mlme_linux.c
+++ b/drivers/staging/rtl8192du/os_dep/mlme_linux.c
@@ -28,21 +28,21 @@
 
 void rtw_join_timeout_handler (void *FunctionContext)
 {
-	_adapter *adapter = (_adapter *)FunctionContext;
+	struct rtw_adapter *adapter = (struct rtw_adapter *)FunctionContext;
 	_rtw_join_timeout_handler(adapter);
 }
 
 
 void _rtw_scan_timeout_handler (void *FunctionContext)
 {
-	_adapter *adapter = (_adapter *)FunctionContext;
+	struct rtw_adapter *adapter = (struct rtw_adapter *)FunctionContext;
 	rtw_scan_timeout_handler(adapter);
 }
 
 
 static void _dynamic_check_timer_handlder (void *FunctionContext)
 {
-	_adapter *adapter = (_adapter *)FunctionContext;
+	struct rtw_adapter *adapter = (struct rtw_adapter *)FunctionContext;
 
 	rtw_dynamic_check_timer_handlder(adapter);
 
@@ -52,13 +52,13 @@ static void _dynamic_check_timer_handlde
 #ifdef CONFIG_SET_SCAN_DENY_TIMER
 void _rtw_set_scan_deny_timer_hdl(void *FunctionContext)
 {
-	_adapter *adapter = (_adapter *)FunctionContext;
+	struct rtw_adapter *adapter = (struct rtw_adapter *)FunctionContext;
 	rtw_set_scan_deny_timer_hdl(adapter);
 }
 #endif
 
 
-void rtw_init_mlme_timer(_adapter *padapter)
+void rtw_init_mlme_timer(struct rtw_adapter *padapter)
 {
 	struct	mlme_priv *pmlmepriv = &padapter->mlmepriv;
 
@@ -73,10 +73,10 @@ void rtw_init_mlme_timer(_adapter *padap
 	#endif
 }
 
-extern void rtw_indicate_wx_assoc_event(_adapter *padapter);
-extern void rtw_indicate_wx_disassoc_event(_adapter *padapter);
+extern void rtw_indicate_wx_assoc_event(struct rtw_adapter *padapter);
+extern void rtw_indicate_wx_disassoc_event(struct rtw_adapter *padapter);
 
-void rtw_os_indicate_connect(_adapter *adapter)
+void rtw_os_indicate_connect(struct rtw_adapter *adapter)
 {
 
 _func_enter_;
@@ -94,8 +94,8 @@ _func_enter_;
 _func_exit_;
 }
 
-extern void indicate_wx_scan_complete_event(_adapter *padapter);
-void rtw_os_indicate_scan_done( _adapter *padapter, bool aborted)
+extern void indicate_wx_scan_complete_event(struct rtw_adapter *padapter);
+void rtw_os_indicate_scan_done(struct rtw_adapter *padapter, bool aborted)
 {
 #ifdef CONFIG_IOCTL_CFG80211
 	rtw_cfg80211_indicate_scan_done(wdev_to_priv(padapter->rtw_wdev), aborted);
@@ -104,7 +104,7 @@ void rtw_os_indicate_scan_done( _adapter
 }
 
 static struct RT_PMKID_LIST   backupPMKIDList[ NUM_PMKID_CACHE ];
-void rtw_reset_securitypriv( _adapter *adapter )
+void rtw_reset_securitypriv(struct rtw_adapter *adapter )
 {
 	u8	backupPMKIDIndex = 0;
 	u8	backupTKIPCountermeasure = 0x00;
@@ -158,7 +158,7 @@ void rtw_reset_securitypriv( _adapter *a
 	}
 }
 
-void rtw_os_indicate_disconnect( _adapter *adapter )
+void rtw_os_indicate_disconnect(struct rtw_adapter *adapter )
 {
    //struct RT_PMKID_LIST   backupPMKIDList[ NUM_PMKID_CACHE ];
 
@@ -178,7 +178,7 @@ _func_exit_;
 
 }
 
-void rtw_report_sec_ie(_adapter *adapter,u8 authmode,u8 *sec_ie)
+void rtw_report_sec_ie(struct rtw_adapter *adapter,u8 authmode,u8 *sec_ie)
 {
 	uint	len;
 	u8	*buff,*p,i;
@@ -229,14 +229,14 @@ _func_exit_;
 
 static void _survey_timer_hdl (void *FunctionContext)
 {
-	_adapter *padapter = (_adapter *)FunctionContext;
+	struct rtw_adapter *padapter = (struct rtw_adapter *)FunctionContext;
 
 	survey_timer_hdl(padapter);
 }
 
 static void _link_timer_hdl (void *FunctionContext)
 {
-	_adapter *padapter = (_adapter *)FunctionContext;
+	struct rtw_adapter *padapter = (struct rtw_adapter *)FunctionContext;
 	link_timer_hdl(padapter);
 }
 
@@ -246,7 +246,7 @@ static void _addba_timer_hdl(void *Funct
 	addba_timer_hdl(psta);
 }
 
-void init_addba_retry_timer(_adapter *padapter, struct sta_info *psta)
+void init_addba_retry_timer(struct rtw_adapter *padapter, struct sta_info *psta)
 {
 
 	_init_timer(&psta->addba_retry_timer, padapter->pnetdev, _addba_timer_hdl, psta);
@@ -255,18 +255,18 @@ void init_addba_retry_timer(_adapter *pa
 /*
 void _reauth_timer_hdl(void *FunctionContext)
 {
-	_adapter *padapter = (_adapter *)FunctionContext;
+	struct rtw_adapter *padapter = (struct rtw_adapter *)FunctionContext;
 	reauth_timer_hdl(padapter);
 }
 
 void _reassoc_timer_hdl(void *FunctionContext)
 {
-	_adapter *padapter = (_adapter *)FunctionContext;
+	struct rtw_adapter *padapter = (struct rtw_adapter *)FunctionContext;
 	reassoc_timer_hdl(padapter);
 }
 */
 
-void init_mlme_ext_timer(_adapter *padapter)
+void init_mlme_ext_timer(struct rtw_adapter *padapter)
 {
 	struct	mlme_ext_priv *pmlmeext = &padapter->mlmeextpriv;
 
@@ -280,7 +280,7 @@ void init_mlme_ext_timer(_adapter *padap
 
 #ifdef CONFIG_AP_MODE
 
-void rtw_indicate_sta_assoc_event(_adapter *padapter, struct sta_info *psta)
+void rtw_indicate_sta_assoc_event(struct rtw_adapter *padapter, struct sta_info *psta)
 {
 	union iwreq_data wrqu;
 	struct sta_priv *pstapriv = &padapter->stapriv;
@@ -305,7 +305,7 @@ void rtw_indicate_sta_assoc_event(_adapt
 
 }
 
-void rtw_indicate_sta_disassoc_event(_adapter *padapter, struct sta_info *psta)
+void rtw_indicate_sta_disassoc_event(struct rtw_adapter *padapter, struct sta_info *psta)
 {
 	union iwreq_data wrqu;
 	struct sta_priv *pstapriv = &padapter->stapriv;
@@ -336,7 +336,7 @@ void rtw_indicate_sta_disassoc_event(_ad
 static int mgnt_xmit_entry(struct sk_buff *skb, struct net_device *pnetdev)
 {
 	struct hostapd_priv *phostapdpriv = rtw_netdev_priv(pnetdev);
-	_adapter *padapter = (_adapter *)phostapdpriv->padapter;
+	struct rtw_adapter *padapter = (struct rtw_adapter *)phostapdpriv->padapter;
 
 	//DBG_8192D("%s\n", __FUNCTION__);
 
@@ -393,7 +393,7 @@ static const struct net_device_ops rtl87
 };
 #endif
 
-int hostapd_mode_init(_adapter *padapter)
+int hostapd_mode_init(struct rtw_adapter *padapter)
 {
 	unsigned char mac[ETH_ALEN];
 	struct hostapd_priv *phostapdpriv;
@@ -484,7 +484,7 @@ int hostapd_mode_init(_adapter *padapter
 
 }
 
-void hostapd_mode_unload(_adapter *padapter)
+void hostapd_mode_unload(struct rtw_adapter *padapter)
 {
 	struct hostapd_priv *phostapdpriv = padapter->phostapdpriv;
 	struct net_device *pnetdev = phostapdpriv->pmgnt_netdev;
--- a/drivers/staging/rtl8192du/os_dep/os_intfs.c
+++ b/drivers/staging/rtl8192du/os_dep/os_intfs.c
@@ -239,7 +239,7 @@ static uint rtw_notch_filter = RTW_NOTCH
 module_param(rtw_notch_filter, uint, 0644);
 MODULE_PARM_DESC(rtw_notch_filter, "0:Disable, 1:Enable, 2:Enable only for P2P");
 
-static uint loadparam( _adapter *padapter, struct net_device *pnetdev);
+static uint loadparam(struct rtw_adapter *padapter, struct net_device *pnetdev);
 int _netdev_open(struct net_device *pnetdev);
 int netdev_open (struct net_device *pnetdev);
 static int netdev_close (struct net_device *pnetdev);
@@ -257,7 +257,7 @@ void rtw_proc_init_one(struct net_device
 {
 	struct proc_dir_entry *dir_dev = NULL;
 	struct proc_dir_entry *entry = NULL;
-	_adapter	*padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter	*padapter = rtw_netdev_priv(dev);
 	u8 rf_type;
 
 	if (rtw_proc == NULL) {
@@ -581,7 +581,7 @@ void rtw_proc_init_one(struct net_device
 void rtw_proc_remove_one(struct net_device *dev)
 {
 	struct proc_dir_entry *dir_dev = NULL;
-	_adapter	*padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter	*padapter = rtw_netdev_priv(dev);
 	u8 rf_type;
 
 	dir_dev = padapter->dir_dev;
@@ -671,7 +671,7 @@ void rtw_proc_remove_one(struct net_devi
 }
 #endif
 
-uint loadparam( _adapter *padapter, struct net_device *pnetdev)
+uint loadparam(struct rtw_adapter *padapter, struct net_device *pnetdev)
 {
 
 	uint status = _SUCCESS;
@@ -796,7 +796,7 @@ _func_exit_;
 
 static int rtw_net_set_mac_address(struct net_device *pnetdev, void *p)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(pnetdev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(pnetdev);
 	struct sockaddr *addr = p;
 
 	if (padapter->bup == false)
@@ -810,7 +810,7 @@ static int rtw_net_set_mac_address(struc
 
 static struct net_device_stats *rtw_net_get_stats(struct net_device *pnetdev)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(pnetdev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(pnetdev);
 	struct xmit_priv *pxmitpriv = &(padapter->xmitpriv);
 	struct recv_priv *precvpriv = &(padapter->recvpriv);
 
@@ -861,7 +861,7 @@ static unsigned int rtw_classify8021d(st
 
 static u16 rtw_select_queue(struct net_device *dev, struct sk_buff *skb)
 {
-	_adapter	*padapter = rtw_netdev_priv(dev);
+	struct rtw_adapter	*padapter = rtw_netdev_priv(dev);
 	struct mlme_priv *pmlmepriv = &padapter->mlmepriv;
 
 	skb->priority = rtw_classify8021d(skb);
@@ -920,11 +920,11 @@ static const struct net_device_ops rtw_n
 
 int rtw_init_netdev_name(struct net_device *pnetdev, const char *ifname)
 {
-	_adapter *padapter = rtw_netdev_priv(pnetdev);
+	struct rtw_adapter *padapter = rtw_netdev_priv(pnetdev);
 
 #ifdef CONFIG_EASY_REPLACEMENT
 	struct net_device	*TargetNetdev = NULL;
-	_adapter			*TargetAdapter = NULL;
+	struct rtw_adapter			*TargetAdapter = NULL;
 	struct net		*devnet = NULL;
 
 	if (padapter->bDongle == 1)
@@ -968,17 +968,17 @@ int rtw_init_netdev_name(struct net_devi
 	return 0;
 }
 
-struct net_device *rtw_init_netdev(_adapter *old_padapter)
+struct net_device *rtw_init_netdev(struct rtw_adapter *old_padapter)
 {
-	_adapter *padapter;
+	struct rtw_adapter *padapter;
 	struct net_device *pnetdev;
 
 	RT_TRACE(_module_os_intfs_c_, _drv_info_, ("+init_net_dev\n"));
 
 	if (old_padapter != NULL)
-		pnetdev = rtw_alloc_etherdev_with_old_priv(sizeof(_adapter), (void *)old_padapter);
+		pnetdev = rtw_alloc_etherdev_with_old_priv(sizeof(struct rtw_adapter), (void *)old_padapter);
 	else
-		pnetdev = rtw_alloc_etherdev(sizeof(_adapter));
+		pnetdev = rtw_alloc_etherdev(sizeof(struct rtw_adapter));
 
 	if (!pnetdev)
 		return NULL;
@@ -1018,7 +1018,7 @@ struct net_device *rtw_init_netdev(_adap
 
 }
 
-u32 rtw_start_drv_threads(_adapter *padapter)
+u32 rtw_start_drv_threads(struct rtw_adapter *padapter)
 {
 
 	u32 _status = _SUCCESS;
@@ -1058,7 +1058,7 @@ u32 rtw_start_drv_threads(_adapter *pada
 
 }
 
-void rtw_stop_drv_threads (_adapter *padapter)
+void rtw_stop_drv_threads (struct rtw_adapter *padapter)
 {
 	RT_TRACE(_module_os_intfs_c_, _drv_info_, ("+rtw_stop_drv_threads\n"));
 
@@ -1097,8 +1097,8 @@ void rtw_stop_drv_threads (_adapter *pad
 
 }
 
-u8 rtw_init_default_value(_adapter *padapter);
-u8 rtw_init_default_value(_adapter *padapter)
+u8 rtw_init_default_value(struct rtw_adapter *padapter);
+u8 rtw_init_default_value(struct rtw_adapter *padapter)
 {
 	u8 ret  = _SUCCESS;
 	struct registry_priv* pregistrypriv = &padapter->registrypriv;
@@ -1168,7 +1168,7 @@ u8 rtw_init_default_value(_adapter *pada
 	return ret;
 }
 
-u8 rtw_reset_drv_sw(_adapter *padapter)
+u8 rtw_reset_drv_sw(struct rtw_adapter *padapter)
 {
 	u8	ret8 = _SUCCESS;
 	struct mlme_priv *pmlmepriv = &padapter->mlmepriv;
@@ -1213,7 +1213,7 @@ u8 rtw_reset_drv_sw(_adapter *padapter)
 }
 
 
-u8 rtw_init_drv_sw(_adapter *padapter)
+u8 rtw_init_drv_sw(struct rtw_adapter *padapter)
 {
 
 	u8	ret8 = _SUCCESS;
@@ -1342,7 +1342,7 @@ exit:
 
 }
 
-void rtw_cancel_all_timer(_adapter *padapter)
+void rtw_cancel_all_timer(struct rtw_adapter *padapter)
 {
 	RT_TRACE(_module_os_intfs_c_, _drv_info_, ("+rtw_cancel_all_timer\n"));
 
@@ -1382,7 +1382,7 @@ void rtw_cancel_all_timer(_adapter *pada
 
 }
 
-u8 rtw_free_drv_sw(_adapter *padapter)
+u8 rtw_free_drv_sw(struct rtw_adapter *padapter)
 {
 	RT_TRACE(_module_os_intfs_c_, _drv_info_, ("==>rtw_free_drv_sw"));
 
@@ -1464,8 +1464,8 @@ u8 rtw_free_drv_sw(_adapter *padapter)
 #ifdef CONFIG_MULTI_VIR_IFACES
 int _netdev_vir_if_open(struct net_device *pnetdev)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(pnetdev);
-	_adapter *primary_padapter = GET_PRIMARY_ADAPTER(padapter);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(pnetdev);
+	struct rtw_adapter *primary_padapter = GET_PRIMARY_ADAPTER(padapter);
 
 	DBG_8192D(FUNC_NDEV_FMT" enter\n", FUNC_NDEV_ARG(pnetdev));
 
@@ -1536,7 +1536,7 @@ _netdev_virtual_iface_open_error:
 int netdev_vir_if_open(struct net_device *pnetdev)
 {
 	int ret;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(pnetdev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(pnetdev);
 
 	_enter_critical_mutex(&(adapter_to_dvobj(padapter)->hw_init_mutex));
 	ret = _netdev_vir_if_open(pnetdev);
@@ -1546,7 +1546,7 @@ int netdev_vir_if_open(struct net_device
 
 static int netdev_vir_if_close(struct net_device *pnetdev)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(pnetdev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(pnetdev);
 
 	padapter->net_closed = true;
 
@@ -1578,13 +1578,13 @@ static const struct net_device_ops rtw_n
 };
 #endif
 
-_adapter *rtw_drv_add_vir_if (_adapter *primary_padapter, char *name,
+_adapter *rtw_drv_add_vir_if (struct rtw_adapter *primary_padapter, char *name,
 	void (*set_intf_ops)(struct _io_ops *pops))
 {
 
 	int res = _FAIL;
 	struct net_device *pnetdev;
-	_adapter *padapter = NULL;
+	struct rtw_adapter *padapter = NULL;
 	struct dvobj_priv *pdvobjpriv;
 	u8 mac[ETH_ALEN];
 
@@ -1615,7 +1615,7 @@ _adapter *rtw_drv_add_vir_if (_adapter *
 
 	/****** init adapter ******/
 	padapter = rtw_netdev_priv(pnetdev);
-	_rtw_memcpy(padapter, primary_padapter, sizeof(_adapter));
+	_rtw_memcpy(padapter, primary_padapter, sizeof(struct rtw_adapter));
 
 	/*  */
 	padapter->bup = false;
@@ -1736,7 +1736,7 @@ error_rtw_drv_add_iface:
 
 }
 
-void rtw_drv_stop_vir_if (_adapter *padapter)
+void rtw_drv_stop_vir_if (struct rtw_adapter *padapter)
 {
 	struct net_device *pnetdev = NULL;
 
@@ -1778,7 +1778,7 @@ void rtw_drv_stop_vir_if (_adapter *pada
 
 }
 
-void rtw_drv_free_vir_if (_adapter *padapter)
+void rtw_drv_free_vir_if (struct rtw_adapter *padapter)
 {
 	struct net_device *pnetdev = NULL;
 
@@ -1821,13 +1821,13 @@ void rtw_drv_free_vir_ifaces(struct dvob
 	}
 }
 
-void rtw_drv_del_vir_if (_adapter *padapter)
+void rtw_drv_del_vir_if (struct rtw_adapter *padapter)
 {
 	rtw_drv_stop_vir_if (padapter);
 	rtw_drv_free_vir_if (padapter);
 }
 
-void rtw_drv_del_vir_ifaces(_adapter *primary_padapter)
+void rtw_drv_del_vir_ifaces(struct rtw_adapter *primary_padapter)
 {
 	int i;
 	struct dvobj_priv *dvobj = primary_padapter->dvobj;
@@ -1841,8 +1841,8 @@ void rtw_drv_del_vir_ifaces(_adapter *pr
 
 static int _netdev_if2_open(struct net_device *pnetdev)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(pnetdev);
-	_adapter *primary_padapter = padapter->pbuddy_adapter;
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(pnetdev);
+	struct rtw_adapter *primary_padapter = padapter->pbuddy_adapter;
 
 	DBG_8192D("+871x_drv - if2_open, bup =%d\n", padapter->bup);
 
@@ -1920,7 +1920,7 @@ netdev_if2_open_error:
 static int netdev_if2_open(struct net_device *pnetdev)
 {
 	int ret;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(pnetdev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(pnetdev);
 
 	_enter_critical_mutex(&(adapter_to_dvobj(padapter)->hw_init_mutex));
 	ret = _netdev_if2_open(pnetdev);
@@ -1930,7 +1930,7 @@ static int netdev_if2_open(struct net_de
 
 static int netdev_if2_close(struct net_device *pnetdev)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(pnetdev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(pnetdev);
 
 	padapter->net_closed = true;
 
@@ -1962,12 +1962,12 @@ static const struct net_device_ops rtw_n
 };
 #endif
 
-_adapter *rtw_drv_if2_init(_adapter *primary_padapter, char *name,
+struct rtw_adapter *rtw_drv_if2_init(struct rtw_adapter *primary_padapter, char *name,
 	void (*set_intf_ops)(struct _io_ops *pops))
 {
 	int res = _FAIL;
 	struct net_device *pnetdev;
-	_adapter *padapter = NULL;
+	struct rtw_adapter *padapter = NULL;
 	struct dvobj_priv *pdvobjpriv;
 	u8 mac[ETH_ALEN];
 
@@ -1990,7 +1990,7 @@ _adapter *rtw_drv_if2_init(_adapter *pri
 
 	/****** init adapter ******/
 	padapter = rtw_netdev_priv(pnetdev);
-	_rtw_memcpy(padapter, primary_padapter, sizeof(_adapter));
+	_rtw_memcpy(padapter, primary_padapter, sizeof(struct rtw_adapter));
 
 	/*  */
 	padapter->bup = false;
@@ -2116,9 +2116,9 @@ error_rtw_drv_if2_init:
 
 }
 
-void rtw_drv_if2_free(_adapter *if2)
+void rtw_drv_if2_free(struct rtw_adapter *if2)
 {
-	_adapter *padapter = if2;
+	struct rtw_adapter *padapter = if2;
 	struct net_device *pnetdev = NULL;
 
 	if (padapter == NULL)
@@ -2137,9 +2137,9 @@ void rtw_drv_if2_free(_adapter *if2)
 
 }
 
-void rtw_drv_if2_stop(_adapter *if2)
+void rtw_drv_if2_stop(struct rtw_adapter *if2)
 {
-	_adapter *padapter = if2;
+	struct rtw_adapter *padapter = if2;
 	struct net_device *pnetdev = NULL;
 
 	if (padapter == NULL)
@@ -2181,7 +2181,7 @@ void rtw_drv_if2_stop(_adapter *if2)
 #ifdef CONFIG_BR_EXT
 void netdev_br_init(struct net_device *netdev)
 {
-	_adapter *adapter = (_adapter *)rtw_netdev_priv(netdev);
+	struct rtw_adapter *adapter = (struct rtw_adapter *)rtw_netdev_priv(netdev);
 
 #if (LINUX_VERSION_CODE > KERNEL_VERSION(2, 6, 35))
 	rcu_read_lock();
@@ -2228,7 +2228,7 @@ void netdev_br_init(struct net_device *n
 int _netdev_open(struct net_device *pnetdev)
 {
 	uint status;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(pnetdev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(pnetdev);
 	struct pwrctrl_priv *pwrctrlpriv = &padapter->pwrctrlpriv;
 
 	RT_TRACE(_module_os_intfs_c_, _drv_info_, ("+871x_drv - dev_open\n"));
@@ -2308,7 +2308,7 @@ netdev_open_normal_process:
 
 	#ifdef CONFIG_CONCURRENT_MODE
 	{
-		_adapter *sec_adapter = padapter->pbuddy_adapter;
+		struct rtw_adapter *sec_adapter = padapter->pbuddy_adapter;
 		if (sec_adapter && (sec_adapter->bup == false || sec_adapter->hw_init_completed == false))
 			_netdev_if2_open(sec_adapter->pnetdev);
 	}
@@ -2336,7 +2336,7 @@ netdev_open_error:
 int netdev_open(struct net_device *pnetdev)
 {
 	int ret;
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(pnetdev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(pnetdev);
 
 	_enter_critical_mutex(&(adapter_to_dvobj(padapter)->hw_init_mutex));
 	ret = _netdev_open(pnetdev);
@@ -2346,7 +2346,7 @@ int netdev_open(struct net_device *pnetd
 }
 
 #ifdef CONFIG_IPS
-static int  ips_netdrv_open(_adapter *padapter)
+static int  ips_netdrv_open(struct rtw_adapter *padapter)
 {
 	int status = _SUCCESS;
 	padapter->net_closed = false;
@@ -2381,7 +2381,7 @@ netdev_open_error:
 }
 
 
-int rtw_ips_pwr_up(_adapter *padapter)
+int rtw_ips_pwr_up(struct rtw_adapter *padapter)
 {
 	int result;
 	u32 start_time = rtw_get_current_time();
@@ -2397,7 +2397,7 @@ int rtw_ips_pwr_up(_adapter *padapter)
 
 }
 
-void rtw_ips_pwr_down(_adapter *padapter)
+void rtw_ips_pwr_down(struct rtw_adapter *padapter)
 {
 	u32 start_time = rtw_get_current_time();
 	DBG_8192D("===> rtw_ips_pwr_down...................\n");
@@ -2412,7 +2412,7 @@ void rtw_ips_pwr_down(_adapter *padapter
 	DBG_8192D("<=== rtw_ips_pwr_down..................... in %dms\n", rtw_get_passing_time_ms(start_time));
 }
 #endif
-void rtw_ips_dev_unload(_adapter *padapter)
+void rtw_ips_dev_unload(struct rtw_adapter *padapter)
 {
 	struct net_device *pnetdev = (struct net_device*)padapter->pnetdev;
 	struct xmit_priv	*pxmitpriv = &(padapter->xmitpriv);
@@ -2435,7 +2435,7 @@ int pm_netdev_open(struct net_device *pn
 		status = netdev_open(pnetdev);
 #ifdef CONFIG_IPS
 	else
-		status =  (_SUCCESS == ips_netdrv_open((_adapter *)rtw_netdev_priv(pnetdev)))?(0):(-1);
+		status =  (_SUCCESS == ips_netdrv_open((struct rtw_adapter *)rtw_netdev_priv(pnetdev)))?(0):(-1);
 #endif
 
 	return status;
@@ -2443,7 +2443,7 @@ int pm_netdev_open(struct net_device *pn
 
 static int netdev_close(struct net_device *pnetdev)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(pnetdev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(pnetdev);
 
 	RT_TRACE(_module_os_intfs_c_, _drv_info_, ("+871x_drv - drv_close\n"));
 
--- a/drivers/staging/rtl8192du/os_dep/osdep_service.c
+++ b/drivers/staging/rtl8192du/os_dep/osdep_service.c
@@ -981,7 +981,7 @@ RETURN:
 * Jeff: this function should be called under ioctl (rtnl_lock is accquired) while
 * LINUX_VERSION_CODE < KERNEL_VERSION(2,6,26)
 */
-int rtw_change_ifname(_adapter *padapter, const char *ifname)
+int rtw_change_ifname(struct rtw_adapter *padapter, const char *ifname)
 {
 	struct net_device *pnetdev;
 	struct net_device *cur_pnetdev = padapter->pnetdev;
--- a/drivers/staging/rtl8192du/os_dep/recv_linux.c
+++ b/drivers/staging/rtl8192du/os_dep/recv_linux.c
@@ -32,7 +32,7 @@
 #include <usb_ops.h>
 
 //init os related resource in struct recv_priv
-int rtw_os_recv_resource_init(struct recv_priv *precvpriv, _adapter *padapter)
+int rtw_os_recv_resource_init(struct recv_priv *precvpriv, struct rtw_adapter *padapter)
 {
 	int	res=_SUCCESS;
 
@@ -40,7 +40,7 @@ int rtw_os_recv_resource_init(struct rec
 }
 
 //alloc os related resource in union recv_frame
-int rtw_os_recv_resource_alloc(_adapter *padapter, union recv_frame *precvframe)
+int rtw_os_recv_resource_alloc(struct rtw_adapter *padapter, union recv_frame *precvframe)
 {
 	int	res=_SUCCESS;
 
@@ -58,7 +58,7 @@ void rtw_os_recv_resource_free(struct re
 
 
 //alloc os related resource in struct recv_buf
-int rtw_os_recvbuf_resource_alloc(_adapter *padapter, struct recv_buf *precvbuf)
+int rtw_os_recvbuf_resource_alloc(struct rtw_adapter *padapter, struct recv_buf *precvbuf)
 {
 	int res=_SUCCESS;
 
@@ -93,7 +93,7 @@ int rtw_os_recvbuf_resource_alloc(_adapt
 }
 
 //free os related resource in struct recv_buf
-int rtw_os_recvbuf_resource_free(_adapter *padapter, struct recv_buf *precvbuf)
+int rtw_os_recvbuf_resource_free(struct rtw_adapter *padapter, struct recv_buf *precvbuf)
 {
 	int ret = _SUCCESS;
 
@@ -122,7 +122,7 @@ int rtw_os_recvbuf_resource_free(_adapte
 
 }
 
-void rtw_handle_tkip_mic_err(_adapter *padapter,u8 bgroup)
+void rtw_handle_tkip_mic_err(struct rtw_adapter *padapter,u8 bgroup)
 {
 #ifdef CONFIG_IOCTL_CFG80211
 	enum nl80211_key_type key_type;
@@ -186,7 +186,7 @@ void rtw_handle_tkip_mic_err(_adapter *p
 	wireless_send_event( padapter->pnetdev, IWEVMICHAELMICFAILURE, &wrqu, (char*) &ev );
 }
 
-void rtw_hostapd_mlme_rx(_adapter *padapter, union recv_frame *precv_frame)
+void rtw_hostapd_mlme_rx(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 #ifdef CONFIG_HOSTAPD_MLME
 	struct sk_buff *skb;
@@ -227,7 +227,7 @@ void rtw_hostapd_mlme_rx(_adapter *padap
 #endif
 }
 
-int rtw_recv_indicatepkt(_adapter *padapter, union recv_frame *precv_frame)
+int rtw_recv_indicatepkt(struct rtw_adapter *padapter, union recv_frame *precv_frame)
 {
 	struct recv_priv *precvpriv;
 	struct __queue *pfree_recv_queue;
@@ -335,7 +335,7 @@ _func_enter_;
 
 	if( br_port	&& (check_fwstate(pmlmepriv, WIFI_STATION_STATE|WIFI_ADHOC_STATE) == true) )
 	{
-		int nat25_handle_frame(_adapter *priv, struct sk_buff *skb);
+		int nat25_handle_frame(struct rtw_adapter *priv, struct sk_buff *skb);
 		if (nat25_handle_frame(padapter, skb) == -1) {
 			//priv->ext_stats.rx_data_drops++;
 			//DEBUG_ERR("RX DROP: nat25_handle_frame fail!\n");
@@ -394,7 +394,7 @@ _func_exit_;
 
 }
 
-void rtw_os_read_port(_adapter *padapter, struct recv_buf *precvbuf)
+void rtw_os_read_port(struct rtw_adapter *padapter, struct recv_buf *precvbuf)
 {
 	struct recv_priv *precvpriv = &padapter->recvpriv;
 
@@ -418,7 +418,7 @@ void _rtw_reordering_ctrl_timeout_handle
 
 void rtw_init_recv_timer(struct recv_reorder_ctrl *preorder_ctrl)
 {
-	_adapter *padapter = preorder_ctrl->padapter;
+	struct rtw_adapter *padapter = preorder_ctrl->padapter;
 
 	_init_timer(&(preorder_ctrl->reordering_ctrl_timer), padapter->pnetdev, _rtw_reordering_ctrl_timeout_handler, preorder_ctrl);
 
--- a/drivers/staging/rtl8192du/os_dep/rtw_android.c
+++ b/drivers/staging/rtl8192du/os_dep/rtw_android.c
@@ -236,7 +236,7 @@ int rtw_android_cmdstr_to_num(char *cmds
 
 static int rtw_android_get_rssi(struct net_device *net, char *command, int total_len)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(net);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(net);
 	struct	mlme_priv	*pmlmepriv = &(padapter->mlmepriv);
 	struct	wlan_network	*pcur_network = &pmlmepriv->cur_network;
 	int bytes_written = 0;
@@ -251,7 +251,7 @@ static int rtw_android_get_rssi(struct n
 
 static int rtw_android_get_link_speed(struct net_device *net, char *command, int total_len)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(net);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(net);
 	struct	mlme_priv	*pmlmepriv = &(padapter->mlmepriv);
 	struct	wlan_network	*pcur_network = &pmlmepriv->cur_network;
 	int bytes_written = 0;
@@ -265,7 +265,7 @@ static int rtw_android_get_link_speed(st
 
 static int rtw_android_get_macaddr(struct net_device *net, char *command, int total_len)
 {
-	_adapter *adapter = (_adapter *)rtw_netdev_priv(net);
+	struct rtw_adapter *adapter = (struct rtw_adapter *)rtw_netdev_priv(net);
 	int bytes_written = 0;
 
 	bytes_written = snprintf(command, total_len, "Macaddr = %pM", net->dev_addr);
@@ -274,7 +274,7 @@ static int rtw_android_get_macaddr(struc
 
 static int rtw_android_set_country(struct net_device *net, char *command, int total_len)
 {
-	_adapter *adapter = (_adapter *)rtw_netdev_priv(net);
+	struct rtw_adapter *adapter = (struct rtw_adapter *)rtw_netdev_priv(net);
 	char *country_code = command + strlen(android_wifi_cmd_str[ANDROID_WIFI_CMD_COUNTRY]) + 1;
 	int ret;
 
@@ -298,7 +298,7 @@ static int rtw_android_get_p2p_dev_addr(
 static int rtw_android_set_block(struct net_device *net, char *command, int total_len)
 {
 	int ret;
-	_adapter *adapter = (_adapter *)rtw_netdev_priv(net);
+	struct rtw_adapter *adapter = (struct rtw_adapter *)rtw_netdev_priv(net);
 	char *block_value = command + strlen(android_wifi_cmd_str[ANDROID_WIFI_CMD_BLOCK]) + 1;
 
 	#ifdef CONFIG_IOCTL_CFG80211
@@ -419,7 +419,7 @@ int rtw_android_priv_cmd(struct net_devi
 	case ANDROID_WIFI_CMD_SETBAND:
 	{
 		uint band = *(command + strlen("SETBAND") + 1) - '0';
-		_adapter*	padapter = ( _adapter * ) rtw_netdev_priv(net);
+		struct rtw_adapter*	padapter = (struct rtw_adapter * ) rtw_netdev_priv(net);
 
 		if (padapter->chip_type == RTL8192D)
 			padapter->setband = band;
@@ -465,7 +465,7 @@ int rtw_android_priv_cmd(struct net_devi
 		//	wpa_cli driver wfd-enable
 
 		struct wifi_display_info		*pwfd_info;
-		_adapter*	padapter = ( _adapter * ) rtw_netdev_priv(net);
+		struct rtw_adapter*	padapter = (struct rtw_adapter * ) rtw_netdev_priv(net);
 
 		pwfd_info = &padapter->wfd_info;
 		pwfd_info->wfd_enable = true;
@@ -478,7 +478,7 @@ int rtw_android_priv_cmd(struct net_devi
 		//	wpa_cli driver wfd-disable
 
 		struct wifi_display_info		*pwfd_info;
-		_adapter*	padapter = ( _adapter * ) rtw_netdev_priv(net);
+		struct rtw_adapter*	padapter = (struct rtw_adapter * ) rtw_netdev_priv(net);
 
 		pwfd_info = &padapter->wfd_info;
 		pwfd_info->wfd_enable = false;
@@ -491,7 +491,7 @@ int rtw_android_priv_cmd(struct net_devi
 		//	wpa_cli driver wfd-set-tcpport = 554
 
 		struct wifi_display_info		*pwfd_info;
-		_adapter*	padapter = ( _adapter * ) rtw_netdev_priv(net);
+		struct rtw_adapter*	padapter = (struct rtw_adapter * ) rtw_netdev_priv(net);
 
 		pwfd_info = &padapter->wfd_info;
 		pwfd_info->rtsp_ctrlport = ( u16 ) get_int_from_command( priv_cmd.buf );
@@ -505,7 +505,7 @@ int rtw_android_priv_cmd(struct net_devi
 		//	Specify the WFD device type ( WFD source/primary sink )
 
 		struct wifi_display_info		*pwfd_info;
-		_adapter*	padapter = ( _adapter * ) rtw_netdev_priv(net);
+		struct rtw_adapter*	padapter = (struct rtw_adapter * ) rtw_netdev_priv(net);
 
 		pwfd_info = &padapter->wfd_info;
 		pwfd_info->wfd_device_type = ( u8 ) get_int_from_command( priv_cmd.buf );
--- a/drivers/staging/rtl8192du/os_dep/usb_intf.c
+++ b/drivers/staging/rtl8192du/os_dep/usb_intf.c
@@ -39,7 +39,7 @@ extern int rtw_ampdu_enable;//for enable
 extern int pm_netdev_open(struct net_device *pnetdev,u8 bnormal);
 static int rtw_suspend(struct usb_interface *intf, pm_message_t message);
 static int rtw_resume(struct usb_interface *intf);
-int rtw_resume_process(_adapter *padapter);
+int rtw_resume_process(struct rtw_adapter *padapter);
 
 
 static int rtw_drv_init(struct usb_interface *pusb_intf,const struct usb_device_id *pdid);
@@ -498,7 +498,7 @@ _func_enter_;
 _func_exit_;
 }
 
-static void decide_chip_type_by_usb_device_id(_adapter *padapter, const struct usb_device_id *pdid)
+static void decide_chip_type_by_usb_device_id(struct rtw_adapter *padapter, const struct usb_device_id *pdid)
 {
 	padapter->chip_type = NULL_CHIP_TYPE;
 	padapter->chip_type = RTL8192D;
@@ -506,14 +506,14 @@ static void decide_chip_type_by_usb_devi
 	DBG_8192D("CHIP TYPE: RTL8192D\n");
 }
 
-static void usb_intf_start(_adapter *padapter)
+static void usb_intf_start(struct rtw_adapter *padapter)
 {
 	RT_TRACE(_module_hci_intfs_c_,_drv_err_,("+usb_intf_start\n"));
 	rtw_hal_inirp_init(padapter);
 	RT_TRACE(_module_hci_intfs_c_,_drv_err_,("-usb_intf_start\n"));
 }
 
-static void usb_intf_stop(_adapter *padapter)
+static void usb_intf_stop(struct rtw_adapter *padapter)
 {
 
 	RT_TRACE(_module_hci_intfs_c_,_drv_err_,("+usb_intf_stop\n"));
@@ -538,7 +538,7 @@ static void usb_intf_stop(_adapter *pada
 
 }
 
-static void rtw_dev_unload(_adapter *padapter)
+static void rtw_dev_unload(struct rtw_adapter *padapter)
 {
 	struct net_device *pnetdev= (struct net_device*)padapter->pnetdev;
 	u8 val8;
@@ -623,7 +623,7 @@ static void process_spec_devid(const str
 }
 
 #ifdef SUPPORT_HW_RFOFF_DETECTED
-int rtw_hw_suspend(_adapter *padapter )
+int rtw_hw_suspend(struct rtw_adapter *padapter )
 {
 	struct pwrctrl_priv *pwrpriv = &padapter->pwrctrlpriv;
 	struct usb_interface *pusb_intf = adapter_to_dvobj(padapter)->pusbintf;
@@ -701,7 +701,7 @@ error_exit:
 
 }
 
-int rtw_hw_resume(_adapter *padapter)
+int rtw_hw_resume(struct rtw_adapter *padapter)
 {
 	struct pwrctrl_priv *pwrpriv = &padapter->pwrctrlpriv;
 	struct usb_interface *pusb_intf = adapter_to_dvobj(padapter)->pusbintf;
@@ -755,7 +755,7 @@ error_exit:
 static int rtw_suspend(struct usb_interface *pusb_intf, pm_message_t message)
 {
 	struct dvobj_priv *dvobj = usb_get_intfdata(pusb_intf);
-	_adapter *padapter = dvobj->if1;
+	struct rtw_adapter *padapter = dvobj->if1;
 	struct net_device *pnetdev = padapter->pnetdev;
 	struct mlme_priv *pmlmepriv = &padapter->mlmepriv;
 	struct pwrctrl_priv *pwrpriv = &padapter->pwrctrlpriv;
@@ -864,7 +864,7 @@ exit:
 static int rtw_resume(struct usb_interface *pusb_intf)
 {
 	struct dvobj_priv *dvobj = usb_get_intfdata(pusb_intf);
-	_adapter *padapter = dvobj->if1;
+	struct rtw_adapter *padapter = dvobj->if1;
 	struct net_device *pnetdev = padapter->pnetdev;
 	struct pwrctrl_priv *pwrpriv = &padapter->pwrctrlpriv;
 	 int ret = 0;
@@ -892,7 +892,7 @@ static int rtw_resume(struct usb_interfa
 
 }
 
-int rtw_resume_process(_adapter *padapter)
+int rtw_resume_process(struct rtw_adapter *padapter)
 {
 	struct net_device *pnetdev;
 	struct pwrctrl_priv *pwrpriv;
@@ -984,7 +984,7 @@ exit:
 }
 
 #ifdef CONFIG_AUTOSUSPEND
-void autosuspend_enter(_adapter* padapter)
+void autosuspend_enter(struct rtw_adapter* padapter)
 {
 	struct pwrctrl_priv *pwrpriv = &padapter->pwrctrlpriv;
 	struct dvobj_priv *dvobj = adapter_to_dvobj(padapter);
@@ -1017,7 +1017,7 @@ void autosuspend_enter(_adapter* padapte
 	#endif
 
 }
-int autoresume_enter(_adapter* padapter)
+int autoresume_enter(struct rtw_adapter* padapter)
 {
 	int result = _SUCCESS;
 	struct pwrctrl_priv *pwrpriv = &padapter->pwrctrlpriv;
@@ -1058,14 +1058,14 @@ error_exit:
 }
 #endif
 
-_adapter *rtw_usb_if1_init(struct dvobj_priv *dvobj,
+struct rtw_adapter *rtw_usb_if1_init(struct dvobj_priv *dvobj,
 	struct usb_interface *pusb_intf, const struct usb_device_id *pdid)
 {
-	_adapter *padapter = NULL;
+	struct rtw_adapter *padapter = NULL;
 	struct net_device *pnetdev = NULL;
 	int status = _FAIL;
 
-	if ((padapter = (_adapter *)rtw_zvmalloc(sizeof(*padapter))) == NULL) {
+	if ((padapter = (struct rtw_adapter *)rtw_zvmalloc(sizeof(*padapter))) == NULL) {
 		goto exit;
 	}
 	padapter->dvobj = dvobj;
@@ -1232,7 +1232,7 @@ exit:
 	return padapter;
 }
 
-static void rtw_usb_if1_deinit(_adapter *if1)
+static void rtw_usb_if1_deinit(struct rtw_adapter *if1)
 {
 	struct net_device *pnetdev = if1->pnetdev;
 	struct mlme_priv *pmlmepriv= &if1->mlmepriv;
@@ -1285,12 +1285,12 @@ static void rtw_usb_if1_deinit(_adapter
  *        We accept the new device by returning 0.
 */
 
-_adapter  *rtw_sw_export = NULL;
+struct rtw_adapter  *rtw_sw_export = NULL;
 
 static int rtw_drv_init(struct usb_interface *pusb_intf, const struct usb_device_id *did)
 {
 	uint status = _FAIL;
-	_adapter *if1 = NULL, *if2 = NULL;
+	struct rtw_adapter *if1 = NULL, *if2 = NULL;
 	struct dvobj_priv *dvobj = NULL;
 #ifdef CONFIG_MULTI_VIR_IFACES
 	int i;
@@ -1353,7 +1353,7 @@ exit:
 static void rtw_dev_remove(struct usb_interface *pusb_intf)
 {
 	struct dvobj_priv *dvobj = usb_get_intfdata(pusb_intf);
-	_adapter *padapter = dvobj->if1;
+	struct rtw_adapter *padapter = dvobj->if1;
 
 _func_exit_;
 
@@ -1446,7 +1446,7 @@ module_exit(rtw_drv_halt);
 #ifdef CONFIG_WOWLAN
 #ifdef CONFIG_WOWLAN_MANUAL
 
-int rtw_resume_toshiba(PADAPTER Adapter)
+int rtw_resume_toshiba(struct rtw_adapter * Adapter)
 {
 	struct dvobj_priv *pdvobjpriv;
 	pdvobjpriv = adapter_to_dvobj(Adapter);
@@ -1455,7 +1455,7 @@ int rtw_resume_toshiba(PADAPTER Adapter)
 	return 0;
 }
 
-int rtw_suspend_toshiba(PADAPTER Adapter)
+int rtw_suspend_toshiba(struct rtw_adapter * Adapter)
 {
 	pm_message_t msg;
 	struct dvobj_priv *pdvobjpriv;
--- a/drivers/staging/rtl8192du/os_dep/usb_ops_linux.c
+++ b/drivers/staging/rtl8192du/os_dep/usb_ops_linux.c
@@ -162,7 +162,7 @@ unsigned int ffaddr2pipehdl(struct dvobj
 {
 	unsigned int pipe=0;
 	int ep_num=0;
-	_adapter *padapter = pdvobj->if1;
+	struct rtw_adapter *padapter = pdvobj->if1;
 	struct usb_device *pusbd = pdvobj->pusbdev;
 	HAL_DATA_TYPE *pHalData = GET_HAL_DATA(padapter);
 
@@ -219,7 +219,7 @@ static u32 usb_bulkout_zero(struct intf_
 	unsigned char *pbuf;
 	struct zero_bulkout_context *pcontext;
 	struct urb *	purb = NULL;
-	_adapter *padapter = (_adapter *)pintfhdl->padapter;
+	struct rtw_adapter *padapter = (struct rtw_adapter *)pintfhdl->padapter;
 	struct dvobj_priv *pdvobj = adapter_to_dvobj(padapter);
 	struct usb_device *pusbd = pdvobj->pusbdev;
 
@@ -284,7 +284,7 @@ void usb_read_port_cancel(struct intf_hd
 {
 	int i;
 	struct recv_buf *precvbuf;
-	_adapter	*padapter = pintfhdl->padapter;
+	struct rtw_adapter	*padapter = pintfhdl->padapter;
 	precvbuf = (struct recv_buf *)padapter->recvpriv.precv_buf;
 
 	DBG_8192D("%s\n", __func__);
@@ -313,7 +313,7 @@ static void usb_write_port_complete(stru
 	struct xmit_buf *pxmitbuf = (struct xmit_buf *)purb->context;
 	//struct xmit_frame *pxmitframe = (struct xmit_frame *)pxmitbuf->priv_data;
 	//_adapter			*padapter = pxmitframe->padapter;
-	_adapter	*padapter = pxmitbuf->padapter;
+	struct rtw_adapter	*padapter = pxmitbuf->padapter;
        struct xmit_priv	*pxmitpriv = &padapter->xmitpriv;
 	//struct pkt_attrib *pattrib = &pxmitframe->attrib;
 
@@ -464,7 +464,7 @@ u32 usb_write_port(struct intf_hdl *pint
 	int status;
 	u32 ret = _FAIL, bwritezero = false;
 	struct urb *purb = NULL;
-	_adapter *padapter = (_adapter *)pintfhdl->padapter;
+	struct rtw_adapter *padapter = (struct rtw_adapter *)pintfhdl->padapter;
 	struct dvobj_priv	*pdvobj = adapter_to_dvobj(padapter);
 	struct xmit_priv	*pxmitpriv = &padapter->xmitpriv;
 	struct xmit_buf *pxmitbuf = (struct xmit_buf *)wmem;
@@ -618,7 +618,7 @@ _func_exit_;
 void usb_write_port_cancel(struct intf_hdl *pintfhdl)
 {
 	int i, j;
-	_adapter	*padapter = pintfhdl->padapter;
+	struct rtw_adapter	*padapter = pintfhdl->padapter;
 	struct xmit_buf *pxmitbuf = (struct xmit_buf *)padapter->xmitpriv.pxmitbuf;
 
 	DBG_8192D("%s \n", __func__);
--- a/drivers/staging/rtl8192du/os_dep/xmit_linux.c
+++ b/drivers/staging/rtl8192du/os_dep/xmit_linux.c
@@ -124,7 +124,7 @@ void rtw_set_tx_chksum_offload(struct sk
 
 }
 
-int rtw_os_xmit_resource_alloc(_adapter *padapter, struct xmit_buf *pxmitbuf,u32 alloc_sz)
+int rtw_os_xmit_resource_alloc(struct rtw_adapter *padapter, struct xmit_buf *pxmitbuf,u32 alloc_sz)
 {
 	int i;
 	struct dvobj_priv	*pdvobjpriv = adapter_to_dvobj(padapter);
@@ -161,7 +161,7 @@ int rtw_os_xmit_resource_alloc(_adapter
 	return _SUCCESS;
 }
 
-void rtw_os_xmit_resource_free(_adapter *padapter, struct xmit_buf *pxmitbuf,u32 free_sz)
+void rtw_os_xmit_resource_free(struct rtw_adapter *padapter, struct xmit_buf *pxmitbuf,u32 free_sz)
 {
 	int i;
 	struct dvobj_priv	*pdvobjpriv = adapter_to_dvobj(padapter);
@@ -187,7 +187,7 @@ void rtw_os_xmit_resource_free(_adapter
 #endif	// CONFIG_USE_USB_BUFFER_ALLOC_TX
 }
 
-void rtw_os_pkt_complete(_adapter *padapter, struct sk_buff *pkt)
+void rtw_os_pkt_complete(struct rtw_adapter *padapter, struct sk_buff *pkt)
 {
 #if (LINUX_VERSION_CODE >= KERNEL_VERSION(2,6,35))
 	u16	queue;
@@ -207,7 +207,7 @@ void rtw_os_pkt_complete(_adapter *padap
 	dev_kfree_skb_any(pkt);
 }
 
-void rtw_os_xmit_complete(_adapter *padapter, struct xmit_frame *pxframe)
+void rtw_os_xmit_complete(struct rtw_adapter *padapter, struct xmit_frame *pxframe)
 {
 	if(pxframe->pkt)
 	{
@@ -221,7 +221,7 @@ void rtw_os_xmit_complete(_adapter *pada
 	pxframe->pkt = NULL;
 }
 
-void rtw_os_xmit_schedule(_adapter *padapter)
+void rtw_os_xmit_schedule(struct rtw_adapter *padapter)
 {
 	struct xmit_priv *pxmitpriv;
 
@@ -242,7 +242,7 @@ void rtw_os_xmit_schedule(_adapter *pada
 
 
 
-int rtw_mlcst2unicst(_adapter *padapter, struct sk_buff *skb)
+int rtw_mlcst2unicst(struct rtw_adapter *padapter, struct sk_buff *skb)
 {
 	struct	sta_priv *pstapriv = &padapter->stapriv;
 	struct xmit_priv *pxmitpriv = &padapter->xmitpriv;
@@ -294,7 +294,7 @@ int rtw_mlcst2unicst(_adapter *padapter,
 
 int rtw_xmit_entry(struct sk_buff *pkt, struct net_device *pnetdev)
 {
-	_adapter *padapter = (_adapter *)rtw_netdev_priv(pnetdev);
+	struct rtw_adapter *padapter = (struct rtw_adapter *)rtw_netdev_priv(pnetdev);
 	struct xmit_priv *pxmitpriv = &padapter->xmitpriv;
 	struct mlme_priv	*pmlmepriv = &padapter->mlmepriv;
 	extern int rtw_mc2u_disable;
