From a0712a11110659bfb4c3dcc5164f05b52ae58411 Mon Sep 17 00:00:00 2001
From: Larry Finger <Larry.Finger@lwfinger.net>
Date: Sat, 27 Apr 2013 22:37:28 -0500
Subject: [PATCH 074/390] Convert "PURB" to "struct urb *"

Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>
---
 hal/usb_ops_linux.c     | 4 ++--
 include/osdep_intf.h    | 2 +-
 include/osdep_service.h | 1 -
 include/rtw_mp.h        | 2 +-
 include/rtw_recv.h      | 4 ++--
 include/rtw_xmit.h      | 2 +-
 os_dep/usb_ops_linux.c  | 4 ++--
 7 files changed, 9 insertions(+), 10 deletions(-)

--- a/drivers/staging/rtl8192du/hal/usb_ops_linux.c
+++ b/drivers/staging/rtl8192du/hal/usb_ops_linux.c
@@ -889,7 +889,7 @@ static u32 usb_read_port(struct intf_hdl
 {
 	int err, pipe;
 	u32 ret = _SUCCESS;
-	PURB purb = NULL;
+	struct urb * purb = NULL;
 	struct recv_buf	*precvbuf = (struct recv_buf *)rmem;
 	_adapter *adapter = pintfhdl->padapter;
 	struct dvobj_priv	*pdvobj = adapter_to_dvobj(adapter);
@@ -1252,7 +1252,7 @@ static u32 usb_read_port(struct intf_hdl
 	SIZE_PTR tmpaddr=0;
 	SIZE_PTR alignment=0;
 	u32 ret = _SUCCESS;
-	PURB purb = NULL;
+	struct urb *purb = NULL;
 	struct recv_buf	*precvbuf = (struct recv_buf *)rmem;
 	_adapter *adapter = pintfhdl->padapter;
 	struct dvobj_priv	*pdvobj = adapter_to_dvobj(adapter);
--- a/drivers/staging/rtl8192du/include/osdep_intf.h
+++ b/drivers/staging/rtl8192du/include/osdep_intf.h
@@ -52,7 +52,7 @@ The protection mechanism is through the
 
 	// when in USB, IO is through interrupt in/out endpoints
 	struct usb_device	*udev;
-	PURB	piorw_urb;
+	struct urb *piorw_urb;
 	u8 io_irp_cnt;
 	u8 bio_irp_pending;
 	_sema io_retevt;
--- a/drivers/staging/rtl8192du/include/osdep_service.h
+++ b/drivers/staging/rtl8192du/include/osdep_service.h
@@ -84,7 +84,6 @@
 	#include <linux/usb/ch9.h>
 #endif
 
-	typedef struct urb *  PURB;
 #if (LINUX_VERSION_CODE>=KERNEL_VERSION(2,6,22))
 #ifdef CONFIG_USB_SUSPEND
 #define CONFIG_AUTOSUSPEND	1
--- a/drivers/staging/rtl8192du/include/rtw_mp.h
+++ b/drivers/staging/rtl8192du/include/rtw_mp.h
@@ -101,7 +101,7 @@ struct mp_xmit_frame
 	u8 *mem_addr;
 	u32 sz[8];
 
-	PURB pxmit_urb[8];
+	struct urb *pxmit_urb[8];
 
 	u8 bpending[8];
 	int ac_tag[8];
--- a/drivers/staging/rtl8192du/include/rtw_recv.h
+++ b/drivers/staging/rtl8192du/include/rtw_recv.h
@@ -223,7 +223,7 @@ struct recv_priv
 	u8	rx_pending_cnt;
 
 #ifdef CONFIG_USB_INTERRUPT_IN_PIPE
-	PURB	int_in_urb;
+	struct urb *	int_in_urb;
 
 	u8	*int_in_buf;
 #endif
@@ -316,7 +316,7 @@ struct recv_buf
 	u8	*pdata;
 	u8	*ptail;
 	u8	*pend;
-	PURB	purb;
+	struct urb *purb;
 	dma_addr_t dma_transfer_addr;	/* (in) dma addr for transfer_buffer */
 	u32 alloc_sz;
 	u8  irp_pending;
--- a/drivers/staging/rtl8192du/include/rtw_xmit.h
+++ b/drivers/staging/rtl8192du/include/rtw_xmit.h
@@ -283,7 +283,7 @@ struct xmit_buf
 
 	struct submit_ctx *sctx;
 	u32 sz[8];
-	PURB	pxmit_urb[8];
+	struct urb *pxmit_urb[8];
 	dma_addr_t dma_transfer_addr;	/* (in) dma addr for transfer_buffer */
 	u8 bpending[8];
 	int last[8];
--- a/drivers/staging/rtl8192du/os_dep/usb_ops_linux.c
+++ b/drivers/staging/rtl8192du/os_dep/usb_ops_linux.c
@@ -218,7 +218,7 @@ static u32 usb_bulkout_zero(struct intf_
 	u32 ret;
 	unsigned char *pbuf;
 	struct zero_bulkout_context *pcontext;
-	PURB	purb = NULL;
+	struct urb *	purb = NULL;
 	_adapter *padapter = (_adapter *)pintfhdl->padapter;
 	struct dvobj_priv *pdvobj = adapter_to_dvobj(padapter);
 	struct usb_device *pusbd = pdvobj->pusbdev;
@@ -463,7 +463,7 @@ u32 usb_write_port(struct intf_hdl *pint
 	unsigned int pipe;
 	int status;
 	u32 ret = _FAIL, bwritezero = false;
-	PURB	purb = NULL;
+	struct urb *purb = NULL;
 	_adapter *padapter = (_adapter *)pintfhdl->padapter;
 	struct dvobj_priv	*pdvobj = adapter_to_dvobj(padapter);
 	struct xmit_priv	*pxmitpriv = &padapter->xmitpriv;
