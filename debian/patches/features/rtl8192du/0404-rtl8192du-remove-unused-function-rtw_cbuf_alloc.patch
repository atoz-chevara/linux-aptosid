From 100ed677b54a45e0be4214a995e54eddf94f45bc Mon Sep 17 00:00:00 2001
From: Stefan Lippers-Hollmann <s.l-h@gmx.de>
Date: Sat, 22 Mar 2014 03:03:02 +0100
Subject: [PATCH 404/456] rtl8192du: remove unused function rtw_cbuf_alloc()

Signed-off-by: Stefan Lippers-Hollmann <s.l-h@gmx.de>
---
 include/osdep_service.h |  1 -
 os_dep/osdep_service.c  | 21 ---------------------
 2 files changed, 22 deletions(-)

--- a/drivers/staging/rtl8192du/include/osdep_service.h
+++ b/drivers/staging/rtl8192du/include/osdep_service.h
@@ -417,5 +417,4 @@ bool rtw_cbuf_full(struct rtw_cbuf *cbuf
 bool rtw_cbuf_empty(struct rtw_cbuf *cbuf);
 bool rtw_cbuf_push(struct rtw_cbuf *cbuf, void *buf);
 void *rtw_cbuf_pop(struct rtw_cbuf *cbuf);
-struct rtw_cbuf *rtw_cbuf_alloc(u32 size);
 #endif
--- a/drivers/staging/rtl8192du/os_dep/osdep_service.c
+++ b/drivers/staging/rtl8192du/os_dep/osdep_service.c
@@ -451,24 +451,3 @@ void *rtw_cbuf_pop(struct rtw_cbuf *cbuf
 
 	return buf;
 }
-
-/**
- * rtw_cbuf_alloc - allocte a rtw_cbuf with given size and do initialization
- * @size: size of pointer
- *
- * Returns: pointer of srtuct rtw_cbuf, NULL for allocation failure
- */
-struct rtw_cbuf *rtw_cbuf_alloc(u32 size)
-{
-	struct rtw_cbuf *cbuf;
-
-	cbuf = (struct rtw_cbuf *)kmalloc(sizeof(*cbuf) + sizeof(void*) * size,
-					  GFP_KERNEL);
-
-	if (cbuf) {
-		cbuf->write = cbuf->read = 0;
-		cbuf->size = size;
-	}
-
-	return cbuf;
-}
