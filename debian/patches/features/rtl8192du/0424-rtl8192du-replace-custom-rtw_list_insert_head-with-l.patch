From 6286d8fe5aa593ff2adc60daf168b646597f4ede Mon Sep 17 00:00:00 2001
From: Stefan Lippers-Hollmann <s.l-h@gmx.de>
Date: Sat, 22 Mar 2014 03:03:22 +0100
Subject: [PATCH 424/456] rtl8192du: replace custom rtw_list_insert_head() with
 list_add

Signed-off-by: Stefan Lippers-Hollmann <s.l-h@gmx.de>
---
 core/rtw_recv.c         | 2 +-
 include/osdep_service.h | 1 -
 os_dep/osdep_service.c  | 5 -----
 3 files changed, 1 insertion(+), 7 deletions(-)

--- a/drivers/staging/rtl8192du/core/rtw_recv.c
+++ b/drivers/staging/rtl8192du/core/rtw_recv.c
@@ -296,7 +296,7 @@ int rtw_enqueue_recvbuf_to_head(struct r
 	spin_lock_irqsave(&queue->lock, irqL);
 
 	list_del_init(&precvbuf->list);
-	rtw_list_insert_head(&precvbuf->list, get_list_head(queue));
+	list_add(&precvbuf->list, get_list_head(queue));
 
 	spin_unlock_irqrestore(&queue->lock, irqL);
 
--- a/drivers/staging/rtl8192du/include/osdep_service.h
+++ b/drivers/staging/rtl8192du/include/osdep_service.h
@@ -178,7 +178,6 @@ enum {
 
 #define rtw_update_mem_stat(flag, sz) do {} while (0)
 
-void	rtw_list_insert_head(struct list_head *plist, struct list_head *phead);
 void	rtw_list_insert_tail(struct list_head *plist, struct list_head *phead);
 
 void	_rtw_init_sema(struct  semaphore *sema, int init_val);
--- a/drivers/staging/rtl8192du/os_dep/osdep_service.c
+++ b/drivers/staging/rtl8192du/os_dep/osdep_service.c
@@ -41,11 +41,6 @@ For the following list_xxx operations,
 caller must guarantee the atomic context.
 Otherwise, there will be racing condition.
 */
-void rtw_list_insert_head(struct list_head *plist, struct list_head *phead)
-{
-	list_add(plist, phead);
-}
-
 void rtw_list_insert_tail(struct list_head *plist, struct list_head *phead)
 {
 	list_add_tail(plist, phead);
