From 4b1343a946a8452b98c64023e6477c3dd08a2b32 Mon Sep 17 00:00:00 2001
From: Larry Finger <Larry.Finger@lwfinger.net>
Date: Sun, 28 Apr 2013 20:08:24 -0500
Subject: [PATCH 093/210] Remove typedef statements in rtw_mlme_ext.h

Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>
---
 core/rtw_mlme_ext.c    | 26 +++++++++++++-------------
 include/rtw_mlme_ext.h | 31 +++++++++++++------------------
 2 files changed, 26 insertions(+), 31 deletions(-)

--- a/drivers/staging/rtl8192du/core/rtw_mlme_ext.c
+++ b/drivers/staging/rtl8192du/core/rtw_mlme_ext.c
@@ -120,7 +120,7 @@ unsigned char	MCS_rate_1R[16] = {0xff, 0
 /********************************************************
 ChannelPlan definitions
 *********************************************************/
-/*static RT_CHANNEL_PLAN	DefaultChannelPlan[RT_CHANNEL_DOMAIN_MAX] = {
+/*static struct rt_channel_plan	DefaultChannelPlan[RT_CHANNEL_DOMAIN_MAX] = {
 	{{1,2,3,4,5,6,7,8,9,10,11,36,40,44,48,52,56,60,64,100,104,108,112,116,132,136,140,149,153,157,161,165},32},					// 0x00, RT_CHANNEL_DOMAIN_FCC
 	{{1,2,3,4,5,6,7,8,9,10,11,36,40,44,48,52,56,60,64,100,104,108,112,116,136,140,149,153,157,161,165},31},						// 0x01, RT_CHANNEL_DOMAIN_IC
 	{{1,2,3,4,5,6,7,8,9,10,11,12,13,36,40,44,48,52,56,60,64,100,104,108,112,116,120,124,128,132,136,140},32},						// 0x02, RT_CHANNEL_DOMAIN_ETSI
@@ -144,7 +144,7 @@ ChannelPlan definitions
 	{{1,2,3,4,5,6,7,8,9,10,11,56,60,64,149,153,157,161,165},19},																// 0x14, RT_CHANNEL_DOMAIN_TAIWAN_NO_DFS
 };*/
 
-static RT_CHANNEL_PLAN_2G	RTW_ChannelPlan2G[RT_CHANNEL_DOMAIN_2G_MAX] = {
+static struct rt_channel_plan_2g RTW_ChannelPlan2G[RT_CHANNEL_DOMAIN_2G_MAX] = {
 	{{1,2,3,4,5,6,7,8,9,10,11,12,13},13},		// 0x00, RT_CHANNEL_DOMAIN_2G_WORLD , Passive scan CH 12, 13
 	{{1,2,3,4,5,6,7,8,9,10,11,12,13},13},		// 0x01, RT_CHANNEL_DOMAIN_2G_ETSI1
 	{{1,2,3,4,5,6,7,8,9,10,11},11},			// 0x02, RT_CHANNEL_DOMAIN_2G_FCC1
@@ -153,7 +153,7 @@ static RT_CHANNEL_PLAN_2G	RTW_ChannelPla
 	{{},0},									// 0x05, RT_CHANNEL_DOMAIN_2G_NULL
 };
 
-static RT_CHANNEL_PLAN_5G	RTW_ChannelPlan5G[RT_CHANNEL_DOMAIN_5G_MAX] = {
+static struct rt_channel_plan_5g RTW_ChannelPlan5G[RT_CHANNEL_DOMAIN_5G_MAX] = {
 	{{},0},																					// 0x00, RT_CHANNEL_DOMAIN_5G_NULL
 	{{36,40,44,48,52,56,60,64,100,104,108,112,116,120,124,128,132,136,140},19},						// 0x01, RT_CHANNEL_DOMAIN_5G_ETSI1
 	{{36,40,44,48,52,56,60,64,100,104,108,112,116,120,124,128,132,136,140,149,153,157,161,165},24},	// 0x02, RT_CHANNEL_DOMAIN_5G_ETSI2
@@ -178,7 +178,7 @@ static RT_CHANNEL_PLAN_5G	RTW_ChannelPla
 	{{36,40,44,48,149,153,157,161},8},																// 0x13, RT_CHANNEL_DOMAIN_5G_FCC4_NO_DFS
 };
 
-static RT_CHANNEL_PLAN_MAP	RTW_ChannelPlanMap[RT_CHANNEL_DOMAIN_MAX] = {
+static struct rt_channel_plan_map RTW_ChannelPlanMap[RT_CHANNEL_DOMAIN_MAX] = {
 	//===== 0x00 ~ 0x1F , Old Define =====
 	{0x02,0x11},	//0x00, RT_CHANNEL_DOMAIN_FCC
 	{0x02,0x0A},	//0x01, RT_CHANNEL_DOMAIN_IC
@@ -248,7 +248,7 @@ static RT_CHANNEL_PLAN_MAP	RTW_ChannelPl
 	{0x02,0x10},	//0x40, RT_CHANNEL_DOMAIN_FCC1_NCC2
 };
 
-static RT_CHANNEL_PLAN_MAP	RTW_CHANNEL_PLAN_MAP_REALTEK_DEFINE = {0x03,0x02}; //use the conbination for max channel numbers
+static struct rt_channel_plan_map RTW_CHANNEL_PLAN_MAP_REALTEK_DEFINE = {0x03,0x02}; //use the conbination for max channel numbers
 
 /*
  * Search the @param channel_num in given @param channel_set
@@ -257,7 +257,7 @@ static RT_CHANNEL_PLAN_MAP	RTW_CHANNEL_P
  *
  * return the index of channel_num in channel_set, -1 if not found
  */
-int rtw_ch_set_search_ch(RT_CHANNEL_INFO *ch_set, const u32 ch)
+int rtw_ch_set_search_ch(struct rt_channel_info *ch_set, const u32 ch)
 {
 	int i;
 	for(i=0;ch_set[i].ChannelNum!=0;i++){
@@ -345,7 +345,7 @@ static void init_mlme_ext_priv_value(_ad
 	pmlmeext->action_public_dialog_token = 0xff;
 }
 
-static int has_channel(RT_CHANNEL_INFO *channel_set,
+static int has_channel(struct rt_channel_info *channel_set,
 					   u8 chanset_size,
 					   u8 chan) {
 	int i;
@@ -359,7 +359,7 @@ static int has_channel(RT_CHANNEL_INFO *
 	return 0;
 }
 
-static void init_channel_list(_adapter *padapter, RT_CHANNEL_INFO *channel_set,
+static void init_channel_list(_adapter *padapter, struct rt_channel_info *channel_set,
 							  u8 chanset_size,
 							  struct p2p_channels *channel_list) {
 
@@ -411,13 +411,13 @@ static void init_channel_list(_adapter *
 
 }
 
-static u8 init_channel_set(_adapter* padapter, u8 ChannelPlan, RT_CHANNEL_INFO *channel_set)
+static u8 init_channel_set(_adapter* padapter, u8 ChannelPlan, struct rt_channel_info *channel_set)
 {
 	u8	index,chanset_size = 0;
 	u8	b5GBand = false, b2_4GBand = false;
 	u8	Index2G = 0, Index5G=0;
 
-	_rtw_memset(channel_set, 0, sizeof(RT_CHANNEL_INFO)*MAX_CHANNEL_NUM);
+	_rtw_memset(channel_set, 0, sizeof(struct rt_channel_info) * MAX_CHANNEL_NUM);
 
 	if(ChannelPlan >= RT_CHANNEL_DOMAIN_MAX && ChannelPlan != RT_CHANNEL_DOMAIN_REALTEK_DEFINE)
 	{
@@ -9173,7 +9173,7 @@ static void process_80211d(PADAPTER pada
 {
 	struct registry_priv *pregistrypriv;
 	struct mlme_ext_priv *pmlmeext;
-	RT_CHANNEL_INFO *chplan_new;
+	struct rt_channel_info *chplan_new;
 	u8 channel;
 	u8 i;
 
@@ -9187,8 +9187,8 @@ static void process_80211d(PADAPTER pada
 	{
 		u8 *ie, *p;
 		u32 len;
-		RT_CHANNEL_PLAN chplan_ap;
-		RT_CHANNEL_INFO chplan_sta[MAX_CHANNEL_NUM];
+		struct rt_channel_plan chplan_ap;
+		struct rt_channel_info chplan_sta[MAX_CHANNEL_NUM];
 		u8 country[4];
 		u8 fcn; // first channel number
 		u8 noc; // number of channel
--- a/drivers/staging/rtl8192du/include/rtw_mlme_ext.h
+++ b/drivers/staging/rtl8192du/include/rtw_mlme_ext.h
@@ -97,7 +97,7 @@ extern unsigned char WMM_PARA_OUI[];
 //	We just add new channel plan when the new channel plan is different from any of the following
 //	channel plan.
 //	If you just wnat to customize the acitions(scan period or join actions) about one of the channel plan,
-//	customize them in RT_CHANNEL_INFO in the RT_CHANNEL_LIST.
+//	customize them in struct rt_channel_info in the RT_CHANNEL_LIST.
 //
 enum RT_CHANNEL_DOMAIN {
 	//===== old channel plan mapping =====//
@@ -190,29 +190,25 @@ enum RT_CHANNEL_DOMAIN_5G {
 
 #define rtw_is_channel_plan_valid(chplan) (chplan<RT_CHANNEL_DOMAIN_MAX || chplan == RT_CHANNEL_DOMAIN_REALTEK_DEFINE)
 
-typedef struct _RT_CHANNEL_PLAN
-{
+struct rt_channel_plan {
 	unsigned char	Channel[MAX_CHANNEL_NUM];
 	unsigned char	Len;
-}RT_CHANNEL_PLAN, *PRT_CHANNEL_PLAN;
+};
 
-typedef struct _RT_CHANNEL_PLAN_2G
-{
+struct rt_channel_plan_2g {
 	unsigned char	Channel[MAX_CHANNEL_NUM_2G];
 	unsigned char	Len;
-}RT_CHANNEL_PLAN_2G, *PRT_CHANNEL_PLAN_2G;
+};
 
-typedef struct _RT_CHANNEL_PLAN_5G
-{
+struct rt_channel_plan_5g {
 	unsigned char	Channel[MAX_CHANNEL_NUM_5G];
 	unsigned char	Len;
-}RT_CHANNEL_PLAN_5G, *PRT_CHANNEL_PLAN_5G;
+};
 
-typedef struct _RT_CHANNEL_PLAN_MAP
-{
+struct rt_channel_plan_map {
 	unsigned char	Index2G;
 	unsigned char	Index5G;
-}RT_CHANNEL_PLAN_MAP, *PRT_CHANNEL_PLAN_MAP;
+};
 
 enum Associated_AP
 {
@@ -398,8 +394,7 @@ struct mlme_ext_info
 };
 
 // The channel information about this channel including joining, scanning, and power constraints.
-typedef struct _RT_CHANNEL_INFO
-{
+struct rt_channel_info {
 	u8				ChannelNum;		// The channel number.
 	enum RT_SCAN_TYPE	ScanType;		// Scan type such as passive or active scan.
 	//u16				ScanPeriod;		// Listen time in millisecond in this channel.
@@ -408,9 +403,9 @@ typedef struct _RT_CHANNEL_INFO
 #ifdef CONFIG_FIND_BEST_CHANNEL
 	u32				rx_count;
 #endif
-}RT_CHANNEL_INFO, *PRT_CHANNEL_INFO;
+};
 
-int rtw_ch_set_search_ch(RT_CHANNEL_INFO *ch_set, const u32 ch);
+int rtw_ch_set_search_ch(struct rt_channel_info *ch_set, const u32 ch);
 
 // P2P_MAX_REG_CLASSES - Maximum number of regulatory classes
 #define P2P_MAX_REG_CLASSES 10
@@ -460,7 +455,7 @@ struct mlme_ext_priv
 	unsigned char	cur_wireless_mode;
 
 	unsigned char	max_chan_nums;
-	RT_CHANNEL_INFO		channel_set[MAX_CHANNEL_NUM];
+	struct rt_channel_info channel_set[MAX_CHANNEL_NUM];
 	struct p2p_channels channel_list;
 	unsigned char	basicrate[NumRates];
 	unsigned char	datarate[NumRates];
