From c6db4d77a51af2ed87cfbc9e8b854c78f599c7c5 Mon Sep 17 00:00:00 2001
From: Larry Finger <Larry.Finger@lwfinger.net>
Date: Sat, 15 Mar 2014 14:31:26 -0500
Subject: [PATCH 279/390] Remove CONFIG_PATCH_JOIN_WRONG_CHANNEL

This one is no longer used.

Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>
---
 core/rtw_mlme_ext.c | 30 +++++-------------------------
 1 file changed, 5 insertions(+), 25 deletions(-)

--- a/drivers/staging/rtl8192du/core/rtw_mlme_ext.c
+++ b/drivers/staging/rtl8192du/core/rtw_mlme_ext.c
@@ -908,33 +908,13 @@ unsigned int OnBeacon(struct rtw_adapter
 		    (pmlmeinfo->state & WIFI_FW_ASSOC_SUCCESS)) {
 			psta = rtw_get_stainfo(pstapriv, GetAddr2Ptr(pframe));
 			if (psta != NULL) {
-#ifdef CONFIG_PATCH_JOIN_WRONG_CHANNEL
-				/* Merge from 8712 FW code */
-				if (cmp_pkt_chnl_diff(adapt, pframe, len) != 0) {	/*  join wrong channel, deauth and reconnect */
-					issue_deauth(adapt,
-						     (&(pmlmeinfo->network))->
-						     MacAddress,
-						     WLAN_REASON_DEAUTH_LEAVING);
-
-					report_del_sta_event(adapt,
-							     (&
-							      (pmlmeinfo->
-							       network))->
-							     MacAddress,
-							     WLAN_REASON_JOIN_WRONG_CHANNEL);
-					pmlmeinfo->state &=
-					    (~WIFI_FW_ASSOC_SUCCESS);
-					return _SUCCESS;
-				}
-#endif /* CONFIG_PATCH_JOIN_WRONG_CHANNEL */
-
-				/* update WMM, ERP in the beacon */
-				/* todo: the timer is used instead of the number of the beacon received */
-				if ((sta_rx_pkts(psta) & 0xf) == 0) {
-					/* DBG_8192D("update_bcn_info\n"); */
+				/* update WMM, ERP in the beacon 
+				 * todo: the timer is used instead of the
+				 * number of the beacon received
+				 */
+				if ((sta_rx_pkts(psta) & 0xf) == 0)
 					update_beacon_info(adapt, pframe,
 							   len, psta);
-				}
 			}
 		} else if ((pmlmeinfo->state & 0x03) == WIFI_FW_ADHOC_STATE) {
 			psta = rtw_get_stainfo(pstapriv, GetAddr2Ptr(pframe));
