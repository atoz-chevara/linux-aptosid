From 9f5c5faea451aaff41464382dbc4a09a19f96e1d Mon Sep 17 00:00:00 2001
From: Larry Finger <Larry.Finger@lwfinger.net>
Date: Thu, 20 Feb 2014 11:13:51 -0600
Subject: [PATCH 223/390] rtl8192du: Some cleanup associated with firmware

Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>
---
 hal/rtl8192d_hal_init.c |   1 -
 hal/rtl8192d_phycfg.c   |  12 +-----
 hal/rtl8192d_rf6052.c   |  65 +++++++++++--------------------
 hal/usb_halinit.c       |  31 ---------------
 include/autoconf.h      |   2 +
 include/rtl8192d_hal.h  | 100 ++++++++++++++++++------------------------------
 include/rtl8192d_spec.h |   4 --
 include/usb_hal.h       |   9 -----
 os_dep/usb_intf.c       |  36 +++--------------
 9 files changed, 67 insertions(+), 193 deletions(-)

--- a/drivers/staging/rtl8192du/hal/rtl8192d_hal_init.c
+++ b/drivers/staging/rtl8192du/hal/rtl8192d_hal_init.c
@@ -329,7 +329,6 @@ int FirmwareDownload92D(struct rtw_adapt
 	u8 writeFW_retry = 0;
 	u32 fwdl_start_time;
 	struct hal_data_8192du *pHalData = GET_HAL_DATA(adapter);
-	s8 R92DFwImageFileName[] ={RTL8192D_FW_IMG};
 	u8 *FwImage;
 	u32 FwImageLen;
 #ifdef CONFIG_WOWLAN
--- a/drivers/staging/rtl8192du/hal/rtl8192d_phycfg.c
+++ b/drivers/staging/rtl8192du/hal/rtl8192d_phycfg.c
@@ -688,7 +688,6 @@ phy_ConfigMACWithHeaderFile(
 int PHY_MACConfig8192D(struct rtw_adapter *adapter)
 {
 	struct hal_data_8192du *pHalData = GET_HAL_DATA(adapter);
-	char		sz92DMACRegFile[] = RTL8192D_PHY_MACREG;
 	int		rtStatus = _SUCCESS;
 
 	if (adapter->bSurpriseRemoved) {
@@ -1083,22 +1082,13 @@ phy_ConfigBBWithMpHeaderFile(
 }	/* phy_ConfigBBWithPgHeaderFile */
 #endif
 
-static	int
-phy_BB8192D_Config_ParaFile(
-	struct rtw_adapter *	adapter
-	)
+static	int phy_BB8192D_Config_ParaFile(struct rtw_adapter *adapter)
 {
 #if MP_DRIVER != 1
 	struct eeprom_priv *pEEPROM = GET_EEPROM_EFUSE_PRIV(adapter);
 #endif
 	struct hal_data_8192du *pHalData = GET_HAL_DATA(adapter);
 	int		rtStatus = _SUCCESS;
-	s8		sz92DBBRegFile[] = RTL8192D_PHY_REG;
-	s8		sz92DBBRegPgFile[] = RTL8192D_PHY_REG_PG;
-	s8		sz92DBBRegMpFile[] = RTL8192D_PHY_REG_MP;
-	s8		sz92DAGCTableFile[] = RTL8192D_AGC_TAB;
-	s8		sz92D2GAGCTableFile[] = RTL8192D_AGC_TAB_2G;
-	s8		sz92D5GAGCTableFile[] = RTL8192D_AGC_TAB_5G;
 
 	/*  1. Read PHY_REG.TXT BB INIT!! */
 	/*  We will seperate as 88C / 92C according to chip version */
--- a/drivers/staging/rtl8192du/hal/rtl8192d_rf6052.c
+++ b/drivers/staging/rtl8192du/hal/rtl8192d_rf6052.c
@@ -574,60 +574,42 @@ phy_RF6052_Config_ParaFile(
 	int	rtStatus = _SUCCESS;
 	struct hal_data_8192du	*pHalData = GET_HAL_DATA(adapter);
 	struct dm_priv	*pdmpriv = &pHalData->dmpriv;
-	static s8		sz92DRadioAFile[] = RTL8192D_PHY_RADIO_A;
-	static s8		sz92DRadioBFile[] = RTL8192D_PHY_RADIO_B;
-	static s8		sz92DRadioAintPAFile[] = RTL8192D_PHY_RADIO_A_intPA;
-	static s8		sz92DRadioBintPAFile[] = RTL8192D_PHY_RADIO_B_intPA;
 	bool		bMac1NeedInitRadioAFirst = false,bMac0NeedInitRadioBFirst = false;
 	bool		bNeedPowerDownRadioA = false,bNeedPowerDownRadioB = false;
-	bool		bTrueBPath = false;/* vivi added this for read parameter from header, 20100908 */
+	bool		bTrueBPath = false;
 	u32	MaskforPhySet = 0; /* For 92d PHY cross access, 88c must set value 0. */
 
 	/* DMDP,MAC0 on G band,MAC1 on A band. */
-	if (pHalData->MacPhyMode92D==DUALMAC_DUALPHY)
-	{
-		if (pHalData->CurrentBandType92D == BAND_ON_2_4G && pHalData->interfaceIndex == 0)
-		{
+	if (pHalData->MacPhyMode92D==DUALMAC_DUALPHY) {
+		if (pHalData->CurrentBandType92D == BAND_ON_2_4G && pHalData->interfaceIndex == 0) {
 			/* MAC0 Need PHY1 load radio_b.txt . Driver use DBI to write. */
-			if (rtl8192d_PHY_EnableAnotherPHY(adapter, true))
-			{
+			if (rtl8192d_PHY_EnableAnotherPHY(adapter, true)) {
 				pHalData->NumTotalRFPath = 2;
 				bMac0NeedInitRadioBFirst = true;
-			}
-			else
-			{
+			} else {
 				/*  We think if MAC1 is ON,then radio_a.txt and radio_b.txt has been load. */
 				return rtStatus;
 			}
-		}
-		else if (pHalData->CurrentBandType92D == BAND_ON_5G && pHalData->interfaceIndex == 1)
-		{
+		} else if (pHalData->CurrentBandType92D == BAND_ON_5G && pHalData->interfaceIndex == 1) {
 			/* MAC1 Need PHY0 load radio_a.txt . Driver use DBI to write. */
-			if (rtl8192d_PHY_EnableAnotherPHY(adapter, false))
-			{
+			if (rtl8192d_PHY_EnableAnotherPHY(adapter, false)) {
 				pHalData->NumTotalRFPath = 2;
 				bMac1NeedInitRadioAFirst = true;
-			}
-			else
-			{
+			} else {
 				/*  We think if MAC0 is ON,then radio_a.txt and radio_b.txt has been load. */
 				return rtStatus;
 			}
-		}
-		else if (pHalData->interfaceIndex == 1)
-		{
+		} else if (pHalData->interfaceIndex == 1) {
 			/*  MAC0 enabled, only init radia B. */
-			bTrueBPath = true;  /* vivi added this for read parameter from header, 20100909 */
+			bTrueBPath = true;
 		}
 	}
 
 	/* 3----------------------------------------------------------------- */
 	/* 3 <2> Initialize RF */
 	/* 3----------------------------------------------------------------- */
-	for (eRFPath = RF_PATH_A; eRFPath <pHalData->NumTotalRFPath; eRFPath++)
-	{
-		if (bMac1NeedInitRadioAFirst) /* Mac1 use PHY0 write */
-		{
+	for (eRFPath = RF_PATH_A; eRFPath <pHalData->NumTotalRFPath; eRFPath++) {
+		if (bMac1NeedInitRadioAFirst) { /* Mac1 use PHY0 write */
 			if (eRFPath == RF_PATH_A) {
 				bNeedPowerDownRadioA = true;
 				MaskforPhySet = MAC1_ACCESS_PHY0;
@@ -638,9 +620,7 @@ phy_RF6052_Config_ParaFile(
 				bTrueBPath = true;
 				pHalData->NumTotalRFPath = 1;
 			}
-		}
-		else  if (bMac0NeedInitRadioBFirst) /* Mac0 use PHY1 write */
-		{
+		} else  if (bMac0NeedInitRadioBFirst) { /* Mac0 use PHY1 write*/
 			if (eRFPath == RF_PATH_A)
 				MaskforPhySet = 0;
 
@@ -657,16 +637,15 @@ phy_RF6052_Config_ParaFile(
 		pPhyReg = &pHalData->PHYRegDef[eRFPath];
 
 		/*----Store original RFENV control type----*/
-		switch (eRFPath)
-		{
-			case RF_PATH_A:
-			case RF_PATH_C:
-				u4RegValue = PHY_QueryBBReg(adapter, pPhyReg->rfintfs|MaskforPhySet, bRFSI_RFENV);
-				break;
-			case RF_PATH_B :
-			case RF_PATH_D:
-				u4RegValue = PHY_QueryBBReg(adapter, pPhyReg->rfintfs|MaskforPhySet, bRFSI_RFENV<<16);
-				break;
+		switch (eRFPath) {
+		case RF_PATH_A:
+		case RF_PATH_C:
+			u4RegValue = PHY_QueryBBReg(adapter, pPhyReg->rfintfs|MaskforPhySet, bRFSI_RFENV);
+			break;
+		case RF_PATH_B :
+		case RF_PATH_D:
+			u4RegValue = PHY_QueryBBReg(adapter, pPhyReg->rfintfs|MaskforPhySet, bRFSI_RFENV<<16);
+			break;
 		}
 
 		/*----Set RF_ENV enable----*/
--- a/drivers/staging/rtl8192du/hal/usb_halinit.c
+++ b/drivers/staging/rtl8192du/hal/usb_halinit.c
@@ -4590,37 +4590,6 @@ static void SetHwReg8192DU(struct rtw_ad
 						}
 						break;
 					case WOWLAN_DEBUG_2:
-						{
-							u16 GPIO_val;
-							u8 reg = 0;
-#ifdef CONFIG_WOWLAN_MANUAL
-							if (poidparam->subcode_value == 1)
-							{
-
-								/* prevent 8051 to be reset by PERST# wake on wlan by Alex & Baron */
-								reg = rtw_read8(adapter, REG_RSV_CTRL);
-								rtw_write8(adapter, REG_RSV_CTRL, reg| BIT(5));
-								rtw_write8(adapter, REG_RSV_CTRL, reg| BIT(6)|BIT(5));
-								/* for Toshiba only, they should call rtw_suspend before suspend */
-								rtw_suspend_toshiba(adapter);
-							}
-							else
-							{
-								/* unmask usb se0 reset by Alex and DD */
-								reg = rtw_read8(adapter, 0xf8);
-								reg |= BIT(3)|BIT(4);
-								rtw_write8(adapter, 0xf8, reg);
-
-								/* for Toshiba only, they should call rtw_resume before resume */
-								rtw_resume_toshiba(adapter);
-								/* suggest by Scott */
-								reg = rtw_read8(adapter, REG_RSV_CTRL);
-								reg &= ~(BIT(5)|BIT(6));
-								rtw_write8(adapter, REG_RSV_CTRL, reg);
-
-							}
-#endif /* CONFIG_WOWLAN_MANUAL */
-						}
 						break;
 					default:
 						break;
--- a/drivers/staging/rtl8192du/include/autoconf.h
+++ b/drivers/staging/rtl8192du/include/autoconf.h
@@ -29,6 +29,8 @@
 /* define CONFIG_PWRCTRL	1 */
 /* define CONFIG_H2CLBK	1 */
 
+//#define CONFIG_WAKE_ON_WLAN
+
 #ifdef CONFIG_WAKE_ON_WLAN
 #define CONFIG_WOWLAN 1
 #endif /* CONFIG_WAKE_ON_WLAN */
--- a/drivers/staging/rtl8192du/include/rtl8192d_hal.h
+++ b/drivers/staging/rtl8192du/include/rtl8192d_hal.h
@@ -168,72 +168,46 @@ static u32 TargetChnl_2G[TARGET_CHNL_NUM
 
 #include "Hal8192DUHWImg.h"
 
-#ifdef CONFIG_WOWLAN
-	#include "Hal8192DUHWImg_wowlan.h"
-#endif /* CONFIG_WOWLAN */
-	#define RTL819X_DEFAULT_RF_TYPE		RF_1T2R
-
-/*  */
-/* 		RTL8192DU From file */
-/*  */
-	#define RTL8192D_FW_IMG					"rtl8192DU\\rtl8192dfw.bin"
-
-	#define RTL8192D_PHY_REG					"rtl8192DU\\PHY_REG.txt"
-	#define RTL8192D_PHY_REG_PG				"rtl8192DU\\PHY_REG_PG.txt"
-	#define RTL8192D_PHY_REG_MP				"rtl8192DU\\PHY_REG_MP.txt"
-
-	#define RTL8192D_AGC_TAB					"rtl8192DU\\AGC_TAB.txt"
-	#define RTL8192D_AGC_TAB_2G				"rtl8192DU\\AGC_TAB_2G.txt"
-	#define RTL8192D_AGC_TAB_5G				"rtl8192DU\\AGC_TAB_5G.txt"
-	#define RTL8192D_PHY_RADIO_A				"rtl8192DU\\radio_a.txt"
-	#define RTL8192D_PHY_RADIO_B				"rtl8192DU\\radio_b.txt"
-	#define RTL8192D_PHY_RADIO_A_intPA		"rtl8192DU\\radio_a_intPA.txt"
-	#define RTL8192D_PHY_RADIO_B_intPA		"rtl8192DU\\radio_b_intPA.txt"
-	#define RTL8192D_PHY_MACREG				"rtl8192DU\\MAC_REG.txt"
+#define RTL819X_DEFAULT_RF_TYPE		RF_1T2R
 
-/*  */
 /* 		RTL8192DU From header */
-/*  */
 
-#ifdef CONFIG_WOWLAN
-	#define Rtl8192D_FwWWImageArray				Rtl8192DUFwWWImgArray
-#endif /* CONFIG_WOWLAN */
-	/*  MAC/BB/PHY Array */
-	#define Rtl8192D_MAC_Array						Rtl8192DUMAC_2T_Array
-	#define Rtl8192D_AGCTAB_Array					Rtl8192DUAGCTAB_Array
-	#define Rtl8192D_AGCTAB_5GArray				Rtl8192DUAGCTAB_5GArray
-	#define Rtl8192D_AGCTAB_2GArray				Rtl8192DUAGCTAB_2GArray
-	#define Rtl8192D_AGCTAB_2TArray					Rtl8192DUAGCTAB_2TArray
-	#define Rtl8192D_AGCTAB_1TArray					Rtl8192DUAGCTAB_1TArray
-	#define Rtl8192D_PHY_REG_2TArray				Rtl8192DUPHY_REG_2TArray
-	#define Rtl8192D_PHY_REG_1TArray				Rtl8192DUPHY_REG_1TArray
-	#define Rtl8192D_PHY_REG_Array_PG				Rtl8192DUPHY_REG_Array_PG
-	#define Rtl8192D_PHY_REG_Array_MP				Rtl8192DUPHY_REG_Array_MP
-	#define Rtl8192D_RadioA_2TArray					Rtl8192DURadioA_2TArray
-	#define Rtl8192D_RadioA_1TArray					Rtl8192DURadioA_1TArray
-	#define Rtl8192D_RadioB_2TArray					Rtl8192DURadioB_2TArray
-	#define Rtl8192D_RadioB_1TArray					Rtl8192DURadioB_1TArray
-	#define Rtl8192D_RadioA_2T_intPAArray			Rtl8192DURadioA_2T_intPAArray
-	#define Rtl8192D_RadioB_2T_intPAArray			Rtl8192DURadioB_2T_intPAArray
-
-	/*  Array length */
-	#define Rtl8192D_FwImageArrayLength			Rtl8192DUImgArrayLength
-	#define Rtl8192D_MAC_ArrayLength				Rtl8192DUMAC_2T_ArrayLength
-	#define Rtl8192D_AGCTAB_5GArrayLength			Rtl8192DUAGCTAB_5GArrayLength
-	#define Rtl8192D_AGCTAB_2GArrayLength			Rtl8192DUAGCTAB_2GArrayLength
-	#define Rtl8192D_AGCTAB_2TArrayLength			Rtl8192DUAGCTAB_2TArrayLength
-	#define Rtl8192D_AGCTAB_1TArrayLength			Rtl8192DUAGCTAB_1TArrayLength
-	#define Rtl8192D_AGCTAB_ArrayLength			Rtl8192DUAGCTAB_ArrayLength
-	#define Rtl8192D_PHY_REG_2TArrayLength			Rtl8192DUPHY_REG_2TArrayLength
-	#define Rtl8192D_PHY_REG_1TArrayLength			Rtl8192DUPHY_REG_1TArrayLength
-	#define Rtl8192D_PHY_REG_Array_PGLength		Rtl8192DUPHY_REG_Array_PGLength
-	#define Rtl8192D_PHY_REG_Array_MPLength		Rtl8192DUPHY_REG_Array_MPLength
-	#define Rtl8192D_RadioA_2TArrayLength			Rtl8192DURadioA_2TArrayLength
-	#define Rtl8192D_RadioB_2TArrayLength			Rtl8192DURadioB_2TArrayLength
-	#define Rtl8192D_RadioA_2T_intPAArrayLength		Rtl8192DURadioA_2T_intPAArrayLength
-	#define Rtl8192D_RadioB_2T_intPAArrayLength		Rtl8192DURadioB_2T_intPAArrayLength
+/*  MAC/BB/PHY Array */
+#define Rtl8192D_MAC_Array			Rtl8192DUMAC_2T_Array
+#define Rtl8192D_AGCTAB_Array			Rtl8192DUAGCTAB_Array
+#define Rtl8192D_AGCTAB_5GArray			Rtl8192DUAGCTAB_5GArray
+#define Rtl8192D_AGCTAB_2GArray			Rtl8192DUAGCTAB_2GArray
+#define Rtl8192D_AGCTAB_2TArray			Rtl8192DUAGCTAB_2TArray
+#define Rtl8192D_AGCTAB_1TArray			Rtl8192DUAGCTAB_1TArray
+#define Rtl8192D_PHY_REG_2TArray		Rtl8192DUPHY_REG_2TArray
+#define Rtl8192D_PHY_REG_1TArray		Rtl8192DUPHY_REG_1TArray
+#define Rtl8192D_PHY_REG_Array_PG		Rtl8192DUPHY_REG_Array_PG
+#define Rtl8192D_PHY_REG_Array_MP		Rtl8192DUPHY_REG_Array_MP
+#define Rtl8192D_RadioA_2TArray			Rtl8192DURadioA_2TArray
+#define Rtl8192D_RadioA_1TArray			Rtl8192DURadioA_1TArray
+#define Rtl8192D_RadioB_2TArray			Rtl8192DURadioB_2TArray
+#define Rtl8192D_RadioB_1TArray			Rtl8192DURadioB_1TArray
+#define Rtl8192D_RadioA_2T_intPAArray		Rtl8192DURadioA_2T_intPAArray
+#define Rtl8192D_RadioB_2T_intPAArray		Rtl8192DURadioB_2T_intPAArray
+
+/*  Array length */
+#define Rtl8192D_FwImageArrayLength		Rtl8192DUImgArrayLength
+#define Rtl8192D_MAC_ArrayLength		Rtl8192DUMAC_2T_ArrayLength
+#define Rtl8192D_AGCTAB_5GArrayLength		Rtl8192DUAGCTAB_5GArrayLength
+#define Rtl8192D_AGCTAB_2GArrayLength		Rtl8192DUAGCTAB_2GArrayLength
+#define Rtl8192D_AGCTAB_2TArrayLength		Rtl8192DUAGCTAB_2TArrayLength
+#define Rtl8192D_AGCTAB_1TArrayLength		Rtl8192DUAGCTAB_1TArrayLength
+#define Rtl8192D_AGCTAB_ArrayLength		Rtl8192DUAGCTAB_ArrayLength
+#define Rtl8192D_PHY_REG_2TArrayLength		Rtl8192DUPHY_REG_2TArrayLength
+#define Rtl8192D_PHY_REG_1TArrayLength		Rtl8192DUPHY_REG_1TArrayLength
+#define Rtl8192D_PHY_REG_Array_PGLength		Rtl8192DUPHY_REG_Array_PGLength
+#define Rtl8192D_PHY_REG_Array_MPLength		Rtl8192DUPHY_REG_Array_MPLength
+#define Rtl8192D_RadioA_2TArrayLength		Rtl8192DURadioA_2TArrayLength
+#define Rtl8192D_RadioB_2TArrayLength		Rtl8192DURadioB_2TArrayLength
+#define Rtl8192D_RadioA_2T_intPAArrayLength	Rtl8192DURadioA_2T_intPAArrayLength
+#define Rtl8192D_RadioB_2T_intPAArrayLength	Rtl8192DURadioB_2T_intPAArrayLength
 
-	/*  The file name "_2T" is for 92CU, "_1T"  is for 88CU. Modified by tynli. 2009.11.24. */
+/*  The file name "_2T" is for 92CU, "_1T"  is for 88CU. */
 
 #define DRVINFO_SZ	4 /*  unit is 8bytes */
 #define PageNum_128(_Len)		(u32)(((_Len)>>7) + ((_Len)&0x7F ? 1:0))
--- a/drivers/staging/rtl8192du/include/rtl8192d_spec.h
+++ b/drivers/staging/rtl8192du/include/rtl8192d_spec.h
@@ -109,9 +109,7 @@
 #define REG_FSISR					0x0054
 
 #define REG_MCUFWDL				0x0080
-#ifdef CONFIG_WOWLAN
 #define REG_WOWLAN_REASON			0x00FC
-#endif /*  CONFIG_WOWLAN */
 #define REG_HMEBOX_EXT_0			0x0088
 #define REG_HMEBOX_EXT_1			0x008A
 #define REG_HMEBOX_EXT_2			0x008C
@@ -791,9 +789,7 @@ Default: 00b.
 #define EEPROM_VID								0xC /*  SE Vendor ID.A-B */
 #define EEPROM_PID								0xE /*  SE Device ID. C-D */
 #define EEPROM_ENDPOINT_SETTING				0x10
-#ifdef CONFIG_WOWLAN
 #define EEPROM_Option_Setting				0x11
-#endif /*  CONFIG_WOWLAN */
 #define EEPROM_CHIRP_K							0x12	/*  Changed */
 #define EEPROM_USB_PHY							0x13	/*  Changed */
 #define EEPROM_NORMAL_BoardType				EEPROM_RF_OPT1	/* 7:5] */
--- a/drivers/staging/rtl8192du/include/usb_hal.h
+++ b/drivers/staging/rtl8192du/include/usb_hal.h
@@ -16,15 +16,6 @@
 #ifndef __USB_HAL_H__
 #define __USB_HAL_H__
 
-
-void rtl8192cu_set_hal_ops(struct rtw_adapter * padapter);
-
 void rtl8192du_set_hal_ops(struct rtw_adapter * padapter);
-#ifdef CONFIG_WOWLAN
-#ifdef CONFIG_WOWLAN_MANUAL
-extern int rtw_suspend_toshiba(struct rtw_adapter * adapter);
-extern int rtw_resume_toshiba(struct rtw_adapter * adapter);
-#endif /*  CONFIG_WOWLAN_MANUAL */
-#endif /* CONFIG_WOWLAN */
 
 #endif /* __USB_HAL_H__ */
--- a/drivers/staging/rtl8192du/os_dep/usb_intf.c
+++ b/drivers/staging/rtl8192du/os_dep/usb_intf.c
@@ -1149,10 +1149,11 @@ exit:
 	return status == _SUCCESS ? 0 : -ENODEV;
 }
 
-/*
- * dev_remove() - our device is being removed
-*/
-/* rmmod module & unplug(SurpriseRemoved) will call r871xu_dev_remove() => how to recognize both */
+/* dev_remove() - our device is being removed
+ *
+ * rmmod module & unplug(SurpriseRemoved) will call r871xu_dev_remove()
+ *  => how to recognize both
+ */
 static void rtw_dev_remove(struct usb_interface *pusb_intf)
 {
 	struct dvobj_priv *dvobj = usb_get_intfdata(pusb_intf);
@@ -1220,30 +1221,3 @@ static void __exit rtw_drv_halt(void)
 
 module_init(rtw_drv_entry);
 module_exit(rtw_drv_halt);
-
-#ifdef CONFIG_WOWLAN
-#ifdef CONFIG_WOWLAN_MANUAL
-
-int rtw_resume_toshiba(struct rtw_adapter * adapter)
-{
-	struct dvobj_priv *pdvobjpriv;
-	pdvobjpriv = adapter_to_dvobj(adapter);
-
-	rtw_resume(pdvobjpriv->pusbintf);
-	return 0;
-}
-
-int rtw_suspend_toshiba(struct rtw_adapter * adapter)
-{
-	pm_message_t msg;
-	struct dvobj_priv *pdvobjpriv;
-	pdvobjpriv = adapter_to_dvobj(adapter);
-	msg.event=0;
-	/* for Toshiba only, they should call rtw_suspend before suspend */
-	rtw_suspend(pdvobjpriv->pusbintf, msg);
-	return 0;
-}
-EXPORT_SYMBOL(rtw_suspend_toshiba);
-EXPORT_SYMBOL(rtw_resume_toshiba);
-#endif /* CONFIG_WOWLAN_MANUAL */
-#endif /* CONFIG_WOWLAN */
