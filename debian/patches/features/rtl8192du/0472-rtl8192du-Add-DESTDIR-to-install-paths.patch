From 4ba28514294249f9a453406295caeac149d8787c Mon Sep 17 00:00:00 2001
From: Larry Finger <Larry.Finger@lwfinger.net>
Date: Thu, 12 Jun 2014 18:09:02 -0500
Subject: [PATCH] rtl8192du: Add $(DESTDIR) to install paths

Apparently AARch Linux needs this added info.

Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>
---
 Makefile | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

--- a/drivers/staging/rtl8192du/Makefile
+++ b/drivers/staging/rtl8192du/Makefile
@@ -101,13 +101,15 @@ strip:
 	$(CROSS_COMPILE)strip 8192du.ko --strip-unneeded
 
 install:
-	install -p -m 644 8192du.ko  $(MODDESTDIR)
-	mkdir -p /lib/firmware/rtlwifi
-	cp -n rtl8192dufw*.bin /lib/firmware/rtlwifi/.
+	install -d $(DESTDIR)$(MODDESTDIR)
+	install -m644 8192du.ko  $(DESTDIR)$(MODDESTDIR)
+	install -d $(DESTDIR)/lib/firmware/rtlwifi
+	install -p -m644 rtl8192dufw.bin $(DESTDIR)/lib/firmware/rtlwifi
+	install -p -m644 rtl8192dufw_wol.bin $(DESTDIR)/lib/firmware/rtlwifi
 	/sbin/depmod -a ${KVER}
 
 uninstall:
-	rm -f $(MODDESTDIR)/8192du.ko
+	rm -f $(DESTDIR)$(MODDESTDIR)/8192du.ko
 	/sbin/depmod -a ${KVER}
 
 
