--- a/drivers/staging/Kconfig
+++ b/drivers/staging/Kconfig
@@ -44,6 +44,8 @@ source "drivers/staging/panel/Kconfig"
 
 source "drivers/staging/rtl8187se/Kconfig"
 
+source "drivers/staging/rtl8192du/Kconfig"
+
 source "drivers/staging/rtl8192u/Kconfig"
 
 source "drivers/staging/rtl8192e/Kconfig"
--- a/drivers/staging/Makefile
+++ b/drivers/staging/Makefile
@@ -14,6 +14,7 @@ obj-$(CONFIG_COMEDI)		+= comedi/
 obj-$(CONFIG_FB_OLPC_DCON)	+= olpc_dcon/
 obj-$(CONFIG_PANEL)		+= panel/
 obj-$(CONFIG_R8187SE)		+= rtl8187se/
+obj-$(CONFIG_RTL8192DU)		+= rtl8192du/
 obj-$(CONFIG_RTL8192U)		+= rtl8192u/
 obj-$(CONFIG_RTL8192E)		+= rtl8192e/
 obj-$(CONFIG_R8712U)		+= rtl8712/
--- /dev/null
+++ b/drivers/staging/rtl8192du/Kconfig
@@ -0,0 +1,11 @@
+config RTL8192DU
+	tristate "RealTek RTL8192DU Wireless LAN NIC driver"
+	depends on WLAN && USB
+	select WIRELESS_EXT
+	select WEXT_PRIV
+	select FW_LOADER
+	default N
+	---help---
+	This option adds the Realtek RTL8192DU USB device such as the DELOCK
+	88540.
+	If built as a module, it will be called rtl8192du.
--- a/drivers/staging/rtl8192du/Makefile
+++ b/drivers/staging/rtl8192du/Makefile
@@ -1,52 +1,28 @@
-EXTRA_CFLAGS += $(USER_EXTRA_CFLAGS)
-EXTRA_CFLAGS += -O1
-#EXTRA_CFLAGS += -O3
-#EXTRA_CFLAGS += -Wall
-#EXTRA_CFLAGS += -Wextra
-#EXTRA_CFLAGS += -Werror
-#EXTRA_CFLAGS += -pedantic
-#EXTRA_CFLAGS += -Wshadow -Wpointer-arith -Wcast-qual -Wstrict-prototypes -Wmissing-prototypes
-
-EXTRA_CFLAGS += -Wno-unused-variable
-EXTRA_CFLAGS += -Wno-unused-value
-EXTRA_CFLAGS += -Wno-unused-label
-EXTRA_CFLAGS += -Wno-unused-parameter
-EXTRA_CFLAGS += -Wno-unused-function
-EXTRA_CFLAGS += -Wno-unused
-
-EXTRA_CFLAGS += -Wno-uninitialized
-
-EXTRA_CFLAGS += -I$(src)/include
-
-CONFIG_AUTOCFG_CP = n
-
-CONFIG_POWER_SAVING = y
-CONFIG_USB_AUTOSUSPEND = n
-CONFIG_HW_PWRP_DETECTION = n
-CONFIG_WIFI_TEST = n
-CONFIG_BT_COEXISTENCE = n
-CONFIG_INTEL_WIDI = n
-CONFIG_WAKE_ON_WLAN = n
-
-CONFIG_DRVEXT_MODULE = n
-
-export TopDIR ?= $(shell pwd)
+ccflags-y := -Wno-unused-variable
+ccflags-y += -Wno-unused-value
+ccflags-y += -Wno-unused-label
+ccflags-y += -Wno-unused-parameter
+ccflags-y += -Wno-unused-function
+ccflags-y += -Wno-unused
+
+ccflags-y += -Wno-uninitialized
+
+ccflags-y += -I$(src)/include
+
+#ccflags-y += -DCONFIG_USB_AUTOSUSPEND
+ccflags-y += -DCONFIG_POWER_SAVING
+#ccflags-y += -DCONFIG_HW_PWRP_DETECTION
+#ccflags-y += -DCONFIG_WIFI_TEST
+#ccflags-y += -DCONFIG_BT_COEXISTENCE
+#ccflags-y += -DCONFIG_WAKE_ON_WLAN
+#ccflags-y += -DCONFIG_INTEL_WIDI
 
 ccflags-y += -D__CHECK_ENDIAN__
 
-RTL871X = rtl8192d
-
-MODULE_NAME = 8192du
-
-CHIP_FILES := \
-	hal/$(RTL871X)_xmit.o
-
-HCI_NAME = usb
-
 _OS_INTFS_FILES :=	os_dep/osdep_service.o \
 			os_dep/os_intfs.o \
-			os_dep/$(HCI_NAME)_intf.o \
-			os_dep/$(HCI_NAME)_ops_linux.o \
+			os_dep/usb_intf.o \
+			os_dep/usb_ops_linux.o \
 			os_dep/ioctl_linux.o \
 			os_dep/xmit_linux.o \
 			os_dep/mlme_linux.o \
@@ -57,69 +33,21 @@ _OS_INTFS_FILES :=	os_dep/osdep_service.
 
 _HAL_INTFS_FILES :=	hal/hal_intf.o \
 			hal/hal_com.o \
-			hal/$(RTL871X)_hal_init.o \
-			hal/$(RTL871X)_phycfg.o \
-			hal/$(RTL871X)_rf6052.o \
-			hal/$(RTL871X)_dm.o \
-			hal/$(RTL871X)_rxdesc.o \
-			hal/$(RTL871X)_cmd.o \
-			hal/$(HCI_NAME)_halinit.o \
-			hal/rtl$(MODULE_NAME)_led.o \
-			hal/rtl$(MODULE_NAME)_xmit.o \
-			hal/rtl$(MODULE_NAME)_recv.o \
+			hal/rtl8192d_hal_init.o \
+			hal/rtl8192d_phycfg.o \
+			hal/rtl8192d_rf6052.o \
+			hal/rtl8192d_dm.o \
+			hal/rtl8192d_rxdesc.o \
+			hal/rtl8192d_cmd.o \
+			hal/usb_halinit.o \
+			hal/rtl8192du_led.o \
+			hal/rtl8192du_xmit.o \
+			hal/rtl8192du_recv.o \
 			hal/Hal8192DUHWImg.o
 
-_HAL_INTFS_FILES += hal/$(HCI_NAME)_ops_linux.o
-
-_HAL_INTFS_FILES += $(CHIP_FILES)
-
-
-ifeq ($(CONFIG_AUTOCFG_CP), y)
-$(shell cp $(TopDIR)/autoconf_$(RTL871X)_$(HCI_NAME)_linux.h $(TopDIR)/include/autoconf.h)
-endif
-
-
-ifeq ($(CONFIG_USB_AUTOSUSPEND), y)
-EXTRA_CFLAGS += -DCONFIG_USB_AUTOSUSPEND
-endif
-
-ifeq ($(CONFIG_POWER_SAVING), y)
-EXTRA_CFLAGS += -DCONFIG_POWER_SAVING
-endif
-
-ifeq ($(CONFIG_HW_PWRP_DETECTION), y)
-EXTRA_CFLAGS += -DCONFIG_HW_PWRP_DETECTION
-endif
-
-ifeq ($(CONFIG_WIFI_TEST), y)
-EXTRA_CFLAGS += -DCONFIG_WIFI_TEST
-endif
-
-ifeq ($(CONFIG_BT_COEXISTENCE), y)
-EXTRA_CFLAGS += -DCONFIG_BT_COEXISTENCE
-endif
+_HAL_INTFS_FILES += hal/usb_ops_linux.o
 
-ifeq ($(CONFIG_WAKE_ON_WLAN), y)
-EXTRA_CFLAGS += -DCONFIG_WAKE_ON_WLAN
-endif
-
-ifeq ($(CONFIG_INTEL_WIDI), y)
-EXTRA_CFLAGS += -DCONFIG_INTEL_WIDI
-endif
-
-SUBARCH := $(shell uname -m | sed -e s/i.86/i386/ | sed -e s/ppc/powerpc/)
-ARCH ?= $(SUBARCH)
-CROSS_COMPILE ?=
-KVER  := $(shell uname -r)
-KSRC := /lib/modules/$(KVER)/build
-MODDESTDIR := /lib/modules/$(KVER)/kernel/drivers/net/wireless/
-INSTALL_PREFIX :=
-
-ifneq ($(USER_MODULE_NAME),)
-MODULE_NAME := $(USER_MODULE_NAME)
-endif
-
-ifneq ($(KERNELRELEASE),)
+_HAL_INTFS_FILES += hal/rtl8192d_xmit.o
 
 
 rtk_core :=	core/rtw_cmd.o \
@@ -142,53 +70,15 @@ rtk_core :=	core/rtw_cmd.o \
 		core/rtw_br_ext.o \
 		core/rtw_sreset.o
 
-$(MODULE_NAME)-y += $(rtk_core)
-
-$(MODULE_NAME)-$(CONFIG_INTEL_WIDI) += core/rtw_intel_widi.o
-
-$(MODULE_NAME)-y += core/rtw_efuse.o
-
-$(MODULE_NAME)-y += $(_HAL_INTFS_FILES)
-
-$(MODULE_NAME)-y += $(_OS_INTFS_FILES)
-
-obj-$(CONFIG_RTL8192DU) := $(MODULE_NAME).o
-
-else
-
-export CONFIG_RTL8192DU = m
-
-all: modules
-
-modules:
-	$(MAKE) ARCH=$(ARCH) CROSS_COMPILE=$(CROSS_COMPILE) -C $(KSRC) M=$(shell pwd)  modules
-
-strip:
-	$(CROSS_COMPILE)strip $(MODULE_NAME).ko --strip-unneeded
-
-install:
-	install -p -m 644 $(MODULE_NAME).ko  $(MODDESTDIR)
-	mkdir -p /lib/firmware/rtlwifi
-	cp -n rtl8192dufw*.bin /lib/firmware/rtlwifi/.
-	/sbin/depmod -a ${KVER}
+rtl8192du-y += $(rtk_core)
 
-uninstall:
-	rm -f $(MODDESTDIR)/$(MODULE_NAME).ko
-	/sbin/depmod -a ${KVER}
+rtl8192du-$(CONFIG_INTEL_WIDI) += core/rtw_intel_widi.o
 
+rtl8192du-y += core/rtw_efuse.o
 
-config_r:
-	@echo "make config"
-	/bin/bash script/Configure script/config.in
+rtl8192du-y += $(_HAL_INTFS_FILES)
 
-.PHONY: modules clean
+rtl8192du-y += $(_OS_INTFS_FILES)
 
-clean:
-	rm -fr *.mod.c *.mod *.o .*.cmd *.ko *~
-	rm .tmp_versions -fr ; rm Module.symvers -fr
-	rm -fr Module.markers ; rm -fr modules.order
-	cd core ; rm -fr *.mod.c *.mod *.o .*.cmd *.ko
-	cd hal ; rm -fr *.mod.c *.mod *.o .*.cmd *.ko
-	cd os_dep ; rm -fr *.mod.c *.mod *.o .*.cmd *.ko
-endif
+obj-$(CONFIG_RTL8192DU) := rtl8192du.o
 
--- a/drivers/staging/rtl8192du/README.md
+++ /dev/null
@@ -1,4 +0,0 @@
-rtl8192du
-=========
-
-Source code for RTL8192DU device
\ No newline at end of file
--- a/drivers/staging/rtl8192du/dkms.conf
+++ /dev/null
@@ -1,7 +0,0 @@
-MAKE="'make'"
-BUILT_MODULE_NAME=8192du
-BUILD_MODULE_NAME=8192du
-DEST_MODULE_LOCATION=/kernel/drivers/net/wireless/
-PACKAGE_NAME=8192du
-PACKAGE_VERSION=1.0
-REMAKE_INITRD=yes
