From e31ea2c116f59b42fdcc2e6487af0ddbb21510f6 Mon Sep 17 00:00:00 2001
From: Larry Finger <Larry.Finger@lwfinger.net>
Date: Sat, 27 Apr 2013 11:30:12 -0500
Subject: [PATCH 067/210] Remove "typedef enum" from ieee80211.h

Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>
---
 core/rtw_ieee80211.c | 10 ++++------
 core/rtw_mlme_ext.c  |  2 +-
 include/ieee80211.h  | 12 ++++++++----
 3 files changed, 13 insertions(+), 11 deletions(-)

--- a/drivers/staging/rtl8192du/core/rtw_ieee80211.c
+++ b/drivers/staging/rtl8192du/core/rtw_ieee80211.c
@@ -1057,7 +1057,7 @@ static int rtw_ieee802_11_parse_vendor_s
  * @show_errors: Whether to show parsing errors in debug log
  * Returns: Parsing result
  */
-ParseRes rtw_ieee802_11_parse_elems(u8 *start, uint len,
+enum parse_res rtw_ieee802_11_parse_elems(u8 *start, uint len,
 				struct rtw_ieee802_11_elems *elems,
 				int show_errors)
 {
@@ -1081,7 +1081,7 @@ ParseRes rtw_ieee802_11_parse_elems(u8 *
 					   "left=%lu)\n",
 					   id, elen, (unsigned long) left);
 			}
-			return ParseFailed;
+			return PARSE_FAIL;
 		}
 
 		switch (id) {
@@ -1178,13 +1178,11 @@ ParseRes rtw_ieee802_11_parse_elems(u8 *
 	}
 
 	if (left)
-		return ParseFailed;
-
-	return unknown ? ParseUnknown : ParseOK;
+		return PARSE_FAIL;
 
+	return unknown ? PARSE_UNK : PARSE_OK;
 }
 
-static u8 key_char2num(u8 ch);
 static u8 key_char2num(u8 ch)
 {
     if((ch>='0')&&(ch<='9'))
--- a/drivers/staging/rtl8192du/core/rtw_mlme_ext.c
+++ b/drivers/staging/rtl8192du/core/rtw_mlme_ext.c
@@ -1504,7 +1504,7 @@ unsigned int OnAssocReq(_adapter *padapt
 	pstat->capability = capab_info;
 
 	//now parse all ieee802_11 ie to point to elems
-	if (rtw_ieee802_11_parse_elems(pos, left, &elems, 1) == ParseFailed ||
+	if (rtw_ieee802_11_parse_elems(pos, left, &elems, 1) == PARSE_FAIL ||
 	    !elems.ssid) {
 		DBG_8192D("STA %pM sent invalid association request\n",
 		         pstat->hwaddr);
--- a/drivers/staging/rtl8192du/include/ieee80211.h
+++ b/drivers/staging/rtl8192du/include/ieee80211.h
@@ -148,7 +148,7 @@ extern u8 RSN_CIPHER_SUITE_WRAP[];
 extern u8 RSN_CIPHER_SUITE_CCMP[];
 extern u8 RSN_CIPHER_SUITE_WEP104[];
 
-typedef enum _RATR_TABLE_MODE{
+enum RATR_TABLE_MODE {
 	RATR_INX_WIRELESS_NGB = 0,	// BGN 40 Mhz 2SS 1SS
 	RATR_INX_WIRELESS_NG = 1,		// GN or N
 	RATR_INX_WIRELESS_NB = 2,		// BGN 20 Mhz 2SS 1SS  or BN
@@ -158,7 +158,7 @@ typedef enum _RATR_TABLE_MODE{
 	RATR_INX_WIRELESS_B = 6,
 	RATR_INX_WIRELESS_MC = 7,
 	RATR_INX_WIRELESS_AC_N = 8,
-}RATR_TABLE_MODE, *PRATR_TABLE_MODE;
+};
 
 enum NETWORK_TYPE
 {
@@ -1216,9 +1216,13 @@ struct rtw_ieee802_11_elems {
 	u8 vendor_ht_cap_len;
 };
 
-typedef enum { ParseOK = 0, ParseUnknown = 1, ParseFailed = -1 } ParseRes;
+enum parse_res {
+	PARSE_OK = 0,
+	PARSE_UNK = 1,
+	PARSE_FAIL = -1
+};
 
-ParseRes rtw_ieee802_11_parse_elems(u8 *start, uint len,
+enum parse_res rtw_ieee802_11_parse_elems(u8 *start, uint len,
 				struct rtw_ieee802_11_elems *elems,
 				int show_errors);
 
