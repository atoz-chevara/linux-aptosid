From 6f7616d8d5db8e7c8bf16474aeaba901d00057ae Mon Sep 17 00:00:00 2001
From: Larry Finger <Larry.Finger@lwfinger.net>
Date: Wed, 19 Feb 2014 22:35:26 -0600
Subject: [PATCH 220/390] rtl8192du: Remove RTL8192C_RECONFIG_TO_1T1R

Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>
---
 core/rtw_mlme.c      | 6 ------
 core/rtw_mlme_ext.c  | 7 -------
 core/rtw_wlan_util.c | 6 ------
 3 files changed, 19 deletions(-)

--- a/drivers/staging/rtl8192du/core/rtw_mlme.c
+++ b/drivers/staging/rtl8192du/core/rtw_mlme.c
@@ -2963,12 +2963,6 @@ void rtw_update_ht_cap(struct rtw_adapte
 				    MCS_rate[i] &= MCS_rate_2R[i];
 #endif /* CONFIG_DISABLE_MCS13TO15 */
 			}
-#ifdef RTL8192C_RECONFIG_TO_1T1R
-			{
-				pmlmeinfo->HT_caps.u.HT_cap_element.
-				    MCS_rate[i] &= MCS_rate_1R[i];
-			}
-#endif
 			if (pregistrypriv->special_rf_path)
 				pmlmeinfo->HT_caps.u.HT_cap_element.
 				    MCS_rate[i] &= MCS_rate_1R[i];
--- a/drivers/staging/rtl8192du/core/rtw_mlme_ext.c
+++ b/drivers/staging/rtl8192du/core/rtw_mlme_ext.c
@@ -7488,13 +7488,6 @@ void issue_assocreq(struct rtw_adapter *
 #endif /* CONFIG_DISABLE_MCS13TO15 */
 				break;
 			}
-#ifdef RTL8192C_RECONFIG_TO_1T1R
-			if (pregpriv->rx_stbc)
-				pmlmeinfo->HT_caps.u.HT_cap_element.HT_caps_info |= cpu_to_le16(0x0100);	/* RX STBC One spatial stream */
-
-			memcpy(pmlmeinfo->HT_caps.u.HT_cap_element.MCS_rate,
-			       MCS_rate_1R, 16);
-#endif
 			pmlmeinfo->HT_caps.u.HT_cap_element.HT_caps_info =
 			    pmlmeinfo->HT_caps.u.HT_cap_element.HT_caps_info;
 			pframe =
--- a/drivers/staging/rtl8192du/core/rtw_wlan_util.c
+++ b/drivers/staging/rtl8192du/core/rtw_wlan_util.c
@@ -917,12 +917,6 @@ void HT_caps_handler(struct rtw_adapter
 			pmlmeinfo->HT_caps.u.HT_cap_element.MCS_rate[i] &= MCS_rate_2R[i];
 			#endif /* CONFIG_DISABLE_MCS13TO15 */
 		}
-#ifdef RTL8192C_RECONFIG_TO_1T1R
-		{
-			pmlmeinfo->HT_caps.u.HT_cap_element.MCS_rate[i] &= MCS_rate_1R[i];
-		}
-#endif
-
 		if (pregistrypriv->special_rf_path)
 			pmlmeinfo->HT_caps.u.HT_cap_element.MCS_rate[i] &= MCS_rate_1R[i];
 	}
