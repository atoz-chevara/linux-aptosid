From d0a73c98779e1c68748b88e7574de11452cf98e0 Mon Sep 17 00:00:00 2001
From: Stefan Lippers-Hollmann <s.l-h@gmx.de>
Date: Sat, 22 Mar 2014 03:03:33 +0100
Subject: [PATCH 435/456] rtl8192du: replace custom rtw_netif_wake_queue() with
 netif_tx_wake_all_queues()

Signed-off-by: Stefan Lippers-Hollmann <s.l-h@gmx.de>
---
 include/osdep_service.h | 5 -----
 os_dep/os_intfs.c       | 4 ++--
 2 files changed, 2 insertions(+), 7 deletions(-)

--- a/drivers/staging/rtl8192du/include/osdep_service.h
+++ b/drivers/staging/rtl8192du/include/osdep_service.h
@@ -120,11 +120,6 @@ static inline int rtw_netif_queue_stoppe
 		netif_tx_queue_stopped(netdev_get_tx_queue(pnetdev, 3));
 }
 
-static inline void rtw_netif_wake_queue(struct net_device *pnetdev)
-{
-	netif_tx_wake_all_queues(pnetdev);
-}
-
 static inline void rtw_netif_start_queue(struct net_device *pnetdev)
 {
 	netif_tx_start_all_queues(pnetdev);
--- a/drivers/staging/rtl8192du/os_dep/os_intfs.c
+++ b/drivers/staging/rtl8192du/os_dep/os_intfs.c
@@ -784,7 +784,7 @@ static int _netdev_if2_open(struct net_d
 	if (!rtw_netif_queue_stopped(pnetdev))
 		rtw_netif_start_queue(pnetdev);
 	else
-		rtw_netif_wake_queue(pnetdev);
+		netif_tx_wake_all_queues(pnetdev);
 
 	DBG_8192D("-871x_drv - if2_open, bup =%d\n", padapter->bup);
 	return 0;
@@ -1074,7 +1074,7 @@ int _netdev_open(struct net_device *pnet
 	if (!rtw_netif_queue_stopped(pnetdev))
 		rtw_netif_start_queue(pnetdev);
 	else
-		rtw_netif_wake_queue(pnetdev);
+		netif_tx_wake_all_queues(pnetdev);
 
 netdev_open_normal_process:
 
