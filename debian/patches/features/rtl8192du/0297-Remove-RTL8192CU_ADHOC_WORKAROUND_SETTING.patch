From a1a76332bd3c149eb2c5e95bd33790400c34a1cb Mon Sep 17 00:00:00 2001
From: Larry Finger <Larry.Finger@lwfinger.net>
Date: Sat, 15 Mar 2014 17:00:06 -0500
Subject: [PATCH 297/390] Remove RTL8192CU_ADHOC_WORKAROUND_SETTING

This one is always selected.

Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>
---
 hal/usb_halinit.c  | 6 ------
 include/autoconf.h | 2 --
 2 files changed, 8 deletions(-)

--- a/drivers/staging/rtl8192du/hal/usb_halinit.c
+++ b/drivers/staging/rtl8192du/hal/usb_halinit.c
@@ -1171,9 +1171,7 @@ static void _InitAMPDUAggregation(struct
 
 static void _InitBeaconMaxError(struct rtw_adapter *adapter, bool InfraMode)
 {
-#ifdef RTL8192CU_ADHOC_WORKAROUND_SETTING
 	rtw_write8(adapter, REG_BCN_MAX_ERR,  0xFF);
-#endif
 }
 
 static void _InitRDGSetting(struct rtw_adapter *adapter)
@@ -1383,7 +1381,6 @@ static void _InitRFType(struct rtw_adapt
 #endif
 }
 
-#if RTL8192CU_ADHOC_WORKAROUND_SETTING
 static void _InitAdhocWorkaroundParams(struct rtw_adapter *adapter)
 {
 	struct hal_data_8192du	*pHalData = GET_HAL_DATA(adapter);
@@ -1393,7 +1390,6 @@ static void _InitAdhocWorkaroundParams(s
 	pHalData->RegReg542 = rtw_read8(adapter, REG_TBTT_PROHIBIT+2);
 	pHalData->RegCR_1 = rtw_read8(adapter, REG_CR+1);
 }
-#endif
 
 static void
 _BeaconFunctionEnable(
@@ -1841,9 +1837,7 @@ static u32 rtl8192du_hal_init(struct rtw
 
 #endif
 
-#if RTL8192CU_ADHOC_WORKAROUND_SETTING
 	_InitAdhocWorkaroundParams(padapter);
-#endif
 
 #ifdef CONFIG_DUALMAC_CONCURRENT
 	if (!pHalData->bSlaveOfDMSP)
--- a/drivers/staging/rtl8192du/include/autoconf.h
+++ b/drivers/staging/rtl8192du/include/autoconf.h
@@ -69,8 +69,6 @@
 
 #define RTL8192CU_ASIC_VERIFICATION	0	/*  For ASIC verification. */
 
-#define RTL8192CU_ADHOC_WORKAROUND_SETTING 1
-
 #define DISABLE_BB_RF	0
 
 #define RTL8191C_FPGA_NETWORKTYPE_ADHOC 0
