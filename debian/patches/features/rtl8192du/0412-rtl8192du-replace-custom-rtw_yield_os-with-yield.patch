From 04990ceb5a6aeced0f45932f24cc10d1dc9a9158 Mon Sep 17 00:00:00 2001
From: Stefan Lippers-Hollmann <s.l-h@gmx.de>
Date: Sat, 22 Mar 2014 03:03:10 +0100
Subject: [PATCH 412/456] rtl8192du: replace custom rtw_yield_os() with yield()

Signed-off-by: Stefan Lippers-Hollmann <s.l-h@gmx.de>
---
 core/rtw_mlme_ext.c     | 2 +-
 include/osdep_service.h | 3 ---
 os_dep/osdep_service.c  | 5 -----
 3 files changed, 1 insertion(+), 9 deletions(-)

--- a/drivers/staging/rtl8192du/core/rtw_mlme_ext.c
+++ b/drivers/staging/rtl8192du/core/rtw_mlme_ext.c
@@ -7935,7 +7935,7 @@ unsigned int send_beacon(struct rtw_adap
 		issue_beacon(adapt);
 		issue++;
 		do {
-			rtw_yield_os();
+			yield();
 			rtw_hal_get_hwreg(adapt, HW_VAR_BCN_VALID,
 					  (u8 *)(&bxmitok));
 			poll++;
--- a/drivers/staging/rtl8192du/include/osdep_service.h
+++ b/drivers/staging/rtl8192du/include/osdep_service.h
@@ -212,9 +212,6 @@ u32	rtw_atoi(u8* s);
 void	rtw_mdelay_os(int ms);
 void	rtw_udelay_os(int us);
 
-void rtw_yield_os(void);
-
-
 static inline unsigned char _cancel_timer_ex(struct timer_list *timer)
 {
 	return del_timer_sync(timer);
--- a/drivers/staging/rtl8192du/os_dep/osdep_service.c
+++ b/drivers/staging/rtl8192du/os_dep/osdep_service.c
@@ -216,11 +216,6 @@ void rtw_udelay_os(int us)
       udelay((unsigned long)us);
 }
 
-void rtw_yield_os(void)
-{
-	yield();
-}
-
 #define RTW_SUSPEND_LOCK_NAME "rtw_wifi"
 
 struct net_device *rtw_alloc_etherdev_with_old_priv(int sizeof_priv, void *old_priv)
