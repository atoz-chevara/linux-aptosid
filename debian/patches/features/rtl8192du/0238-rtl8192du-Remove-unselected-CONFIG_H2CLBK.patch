From a16e429a11eeefd354bef8eccc5adc3fc9c8f0e2 Mon Sep 17 00:00:00 2001
From: Larry Finger <Larry.Finger@lwfinger.net>
Date: Thu, 20 Feb 2014 16:42:40 -0600
Subject: [PATCH 238/390] rtl8192du: Remove unselected CONFIG_H2CLBK

Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>
---
 core/rtw_cmd.c      |  7 -------
 include/autoconf.h  |  1 -
 include/rtw_cmd.h   | 37 -------------------------------------
 include/rtw_event.h | 20 --------------------
 4 files changed, 65 deletions(-)

--- a/drivers/staging/rtl8192du/core/rtw_cmd.c
+++ b/drivers/staging/rtl8192du/core/rtw_cmd.c
@@ -76,13 +76,6 @@ int _rtw_init_evt_priv(struct evt_priv *
 {
 	int res = _SUCCESS;
 
-#ifdef CONFIG_H2CLBK
-	_rtw_init_sema(&(pevtpriv->lbkevt_done), 0);
-	pevtpriv->lbkevt_limit = 0;
-	pevtpriv->lbkevt_num = 0;
-	pevtpriv->cmdevt_parm = NULL;
-#endif
-
 	/* allocate DMA-able/Non-Page memory for cmd_buf and rsp_buf */
 	atomic_set(&pevtpriv->event_seq, 0);
 	pevtpriv->evt_done_cnt = 0;
--- a/drivers/staging/rtl8192du/include/autoconf.h
+++ b/drivers/staging/rtl8192du/include/autoconf.h
@@ -27,7 +27,6 @@
  * Internal  General Config
  */
 /* define CONFIG_PWRCTRL	1 */
-/* define CONFIG_H2CLBK	1 */
 
 //#define CONFIG_WAKE_ON_WLAN
 
--- a/drivers/staging/rtl8192du/include/rtw_cmd.h
+++ b/drivers/staging/rtl8192du/include/rtw_cmd.h
@@ -71,13 +71,6 @@
 		struct rtw_cbuf *c2h_queue;
 		#define C2H_QUEUE_MAX_LEN 10
 #endif
-
-#ifdef CONFIG_H2CLBK
-		struct  semaphore lbkevt_done;
-		u8	lbkevt_limit;
-		u8	lbkevt_num;
-		u8	*cmdevt_parm;
-#endif
 		atomic_t event_seq;
 		u8	*evt_buf;	/* shall be non-paged, and 4 bytes aligned */
 		u8	*evt_allocated_buf;
@@ -547,36 +540,6 @@ struct Tx_Beacon_param
 
 */
 
-#ifdef CONFIG_H2CLBK
-
-struct seth2clbk_parm {
-	u8 mac[6];
-	u16	s0;
-	u16	s1;
-	u32	w0;
-	u8	b0;
-	u16  s2;
-	u8	b1;
-	u32	w1;
-};
-
-struct geth2clbk_parm {
-	u32 rsv;
-};
-
-struct geth2clbk_rsp {
-	u8	mac[6];
-	u16	s0;
-	u16	s1;
-	u32	w0;
-	u8	b0;
-	u16	s2;
-	u8	b1;
-	u32	w1;
-};
-
-#endif	/* CONFIG_H2CLBK */
-
 /*  CMD param Formart for driver extra cmd handler */
 struct drvextra_cmd_parm {
 	int ec_id; /* extra cmd id */
--- a/drivers/staging/rtl8192du/include/rtw_event.h
+++ b/drivers/staging/rtl8192du/include/rtw_event.h
@@ -22,10 +22,6 @@
 #include <linux/semaphore.h>
 #include <linux/sem.h>
 
-#ifdef CONFIG_H2CLBK
-#include <h2clbk.h>
-#endif
-
 /*
 Used to report a bss has been scanned
 
@@ -84,24 +80,8 @@ struct addba_event
 	unsigned int tid;
 };
 
-
-#ifdef CONFIG_H2CLBK
-struct c2hlbk_event{
-	unsigned char mac[6];
-	unsigned short	s0;
-	unsigned short	s1;
-	unsigned int	w0;
-	unsigned char	b0;
-	unsigned short  s2;
-	unsigned char	b1;
-	unsigned int	w1;
-};
-#endif/* CONFIG_H2CLBK */
-
 #define GEN_EVT_CODE(event)	event ## _EVT_
 
-
-
 struct fwevent {
 	u32	parmsize;
 	void (*event_callback)(struct rtw_adapter *dev, u8 *pbuf);
