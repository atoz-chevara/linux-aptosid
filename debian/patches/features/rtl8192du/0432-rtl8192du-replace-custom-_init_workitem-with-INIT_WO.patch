From a0f4ed9f63bb3ae15516e1af3f1de6fa01f92160 Mon Sep 17 00:00:00 2001
From: Stefan Lippers-Hollmann <s.l-h@gmx.de>
Date: Sat, 22 Mar 2014 03:03:30 +0100
Subject: [PATCH 432/456] rtl8192du: replace custom _init_workitem() with
 INIT_WORK()

Signed-off-by: Stefan Lippers-Hollmann <s.l-h@gmx.de>
---
 hal/rtl8192du_led.c     | 2 +-
 include/osdep_service.h | 6 ------
 2 files changed, 1 insertion(+), 7 deletions(-)

--- a/drivers/staging/rtl8192du/hal/rtl8192du_led.c
+++ b/drivers/staging/rtl8192du/hal/rtl8192du_led.c
@@ -91,7 +91,7 @@ static void InitLed871x(struct rtw_adapt
 
 	_init_timer(&(pled->blinktimer), padapter->pnetdev, blinktimerCallback, pled);
 
-	_init_workitem(&(pled->BlinkWorkItem), BlinkWorkItemCallback, pled);
+	INIT_WORK(&(pled->BlinkWorkItem), BlinkWorkItemCallback);
 }
 
 /*  */
--- a/drivers/staging/rtl8192du/include/osdep_service.h
+++ b/drivers/staging/rtl8192du/include/osdep_service.h
@@ -94,12 +94,6 @@ static inline void _cancel_timer(struct
 #define RTW_TIMER_HDL_NAME(name) rtw_##name##_timer_hdl
 #define RTW_DECLARE_TIMER_HDL(name) void RTW_TIMER_HDL_NAME(name)(RTW_TIMER_HDL_ARGS)
 
-
-static inline void _init_workitem(struct work_struct *pwork, void *pfunc, void * cntx)
-{
-	INIT_WORK(pwork, pfunc);
-}
-
 static inline void _set_workitem(struct work_struct *pwork)
 {
 	schedule_work(pwork);
