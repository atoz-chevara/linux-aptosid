--- a/drivers/platform/x86/acerhk.c
+++ b/drivers/platform/x86/acerhk.c
@@ -2755,7 +2755,7 @@ static void acerhk_proc_cleanup(void)
 
 /* {{{ file operations */
 
-static int acerhk_ioctl(struct inode *inode, struct file *file,
+static long acerhk_ioctl( struct inode *inode, struct file *file,
 			unsigned int cmd, unsigned long arg)
 {
 	int retval;
@@ -2863,10 +2863,10 @@ static int acerhk_resume(struct platform
 #endif
 
 static struct file_operations acerhk_fops = {
-owner:	THIS_MODULE,
-ioctl:	acerhk_ioctl,
-open:	acerhk_open,
-release:acerhk_release,
+owner:		THIS_MODULE,
+unlocked_ioctl:	acerhk_ioctl,
+open:		acerhk_open,
+release:	acerhk_release,
 };
 
 static struct miscdevice acerhk_misc_dev = {
