From df03f0c69282e7aa1d02bc770fc849aaabbb3be8 Mon Sep 17 00:00:00 2001
From: Jonathan Cameron <jic23@cam.ac.uk>
Date: Fri, 1 Jul 2011 11:13:36 +0100
Subject: [PATCH 53/62] staging:iio:gyro:adis16260 fix missing num_channels
 setup.

Signed-off-by: Jonathan Cameron <jic23@cam.ac.uk>
Cc: stable <stable@kernel.org>  [3.0]
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

Conflicts:

	drivers/staging/iio/gyro/adis16260_core.c
---
 drivers/staging/iio/gyro/adis16260_core.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

--- a/drivers/staging/iio/gyro/adis16260_core.c
+++ b/drivers/staging/iio/gyro/adis16260_core.c
@@ -629,6 +629,7 @@ static int __devinit adis16260_probe(str
 		st->indio_dev->channels = adis16260_channels_x;
 
 	st->indio_dev->dev_data = (void *)(st);
+	st->indio_dev->num_channels = ARRAY_SIZE(adis16260_channels_x);
 	st->indio_dev->modes = INDIO_DIRECT_MODE;
 
 	ret = adis16260_configure_ring(st->indio_dev);
